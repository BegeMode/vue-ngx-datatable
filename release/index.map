{"version":3,"sources":["webpack://vueNgxDatatable/webpack/universalModuleDefinition","webpack://vueNgxDatatable/webpack/bootstrap","webpack://vueNgxDatatable/./src/components/datatable.component.scss","webpack://vueNgxDatatable/./node_modules/css-loader/dist/runtime/api.js","webpack://vueNgxDatatable/./src/components/body/body-cell.component.ts","webpack://vueNgxDatatable/./src/components/body/body-row-wrapper.component.ts","webpack://vueNgxDatatable/./src/components/body/body-row.component.ts","webpack://vueNgxDatatable/./src/components/body/body.component.ts","webpack://vueNgxDatatable/./src/components/datatable.component.ts","webpack://vueNgxDatatable/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://vueNgxDatatable/./src/components/datatable.component.scss?fbec","webpack://vueNgxDatatable/./node_modules/vue-style-loader/lib/listToStyles.js","webpack://vueNgxDatatable/./node_modules/vue-style-loader/lib/addStylesClient.js","webpack://vueNgxDatatable/./src/components/body/body-cell.component.html","webpack://vueNgxDatatable/./src/components/body/body-cell.component.ts?cbd8","webpack://vueNgxDatatable/./src/components/body/body-cell.component.vue","webpack://vueNgxDatatable/./src/components/body/body-group-header.component.ts","webpack://vueNgxDatatable/./src/components/body/body-row-detail.component.ts","webpack://vueNgxDatatable/./src/components/body/body-row-wrapper.component.ts?f1f7","webpack://vueNgxDatatable/./src/components/body/body-row-wrapper.component.vue","webpack://vueNgxDatatable/./src/components/body/body-row-wrapper.component.vue?9d1b","webpack://vueNgxDatatable/./src/components/body/body-row.component.ts?603d","webpack://vueNgxDatatable/./src/components/body/body-row.component.vue","webpack://vueNgxDatatable/./src/components/body/body-row.component.vue?5c9b","webpack://vueNgxDatatable/./src/components/body/body.component.html","webpack://vueNgxDatatable/./src/components/body/body.component.ts?0408","webpack://vueNgxDatatable/./src/components/body/body.component.vue","webpack://vueNgxDatatable/./src/components/body/progress-bar.component.ts","webpack://vueNgxDatatable/./src/components/body/scroller.component.ts","webpack://vueNgxDatatable/./src/components/body/selection.component.ts","webpack://vueNgxDatatable/./src/components/body/summary/summary-row.component.ts","webpack://vueNgxDatatable/./src/components/columns/column.component.ts","webpack://vueNgxDatatable/./src/components/datatable.component.html","webpack://vueNgxDatatable/./src/components/datatable.component.scss?b5de","webpack://vueNgxDatatable/./src/components/datatable.component.ts?15e0","webpack://vueNgxDatatable/./src/components/datatable.component.vue","webpack://vueNgxDatatable/./src/components/footer/footer.component.ts","webpack://vueNgxDatatable/./src/components/footer/pager.component.ts","webpack://vueNgxDatatable/./src/components/header/header-cell.component.ts","webpack://vueNgxDatatable/./src/components/header/header.component.ts","webpack://vueNgxDatatable/./src/directives/draggable.directive.ts","webpack://vueNgxDatatable/./src/directives/long-press.directive.ts","webpack://vueNgxDatatable/./src/directives/resizeable.directive.ts","webpack://vueNgxDatatable/./src/directives/visibility.directive.ts","webpack://vueNgxDatatable/./src/services/dimensions-helper.service.ts","webpack://vueNgxDatatable/./src/services/scrollbar-helper.service.ts","webpack://vueNgxDatatable/./src/types/check.type.ts","webpack://vueNgxDatatable/./src/types/click.type.ts","webpack://vueNgxDatatable/./src/types/column-mode.type.ts","webpack://vueNgxDatatable/./src/types/contextmenu.type.ts","webpack://vueNgxDatatable/./src/types/index.ts","webpack://vueNgxDatatable/./src/types/selection.type.ts","webpack://vueNgxDatatable/./src/types/sort-direction.type.ts","webpack://vueNgxDatatable/./src/types/sort.type.ts","webpack://vueNgxDatatable/./src/utils/camel-case.ts","webpack://vueNgxDatatable/./src/utils/column-helper.ts","webpack://vueNgxDatatable/./src/utils/column-prop-getters.ts","webpack://vueNgxDatatable/./src/utils/column.ts","webpack://vueNgxDatatable/./src/utils/elm-from-point.ts","webpack://vueNgxDatatable/./src/utils/equal.array.ts","webpack://vueNgxDatatable/./src/utils/id.ts","webpack://vueNgxDatatable/./src/utils/index.ts","webpack://vueNgxDatatable/./src/utils/keys.ts","webpack://vueNgxDatatable/./src/utils/math.ts","webpack://vueNgxDatatable/./src/utils/prefixes.ts","webpack://vueNgxDatatable/./src/utils/row-height-cache.ts","webpack://vueNgxDatatable/./src/utils/selection.ts","webpack://vueNgxDatatable/./src/utils/sort.ts","webpack://vueNgxDatatable/./src/utils/throttle.ts","webpack://vueNgxDatatable/./src/utils/translate.ts","webpack://vueNgxDatatable/./src/utils/tree.ts","webpack://vueNgxDatatable/external \"vue-property-decorator/lib/vue-property-decorator.js\""],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wBAAwB;AAC3D,KAAK;AACL;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA;AACA;AACA;;AAEyC;;AAEzC;;AAEA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;;AAEA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA,KAAK;AACL;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA,YAAY,uBAAuB;AACnC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA,0BAA0B,mBAAmB;AAC7C,6BAA6B,oCAAoC;AACjE,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,6BAA6B;AAC7B,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD,2BAA2B;AAC3B,eAAe;AACf;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAuK,CAAgB,mOAAG,EAAC,C;;;;;;;;;;;;;ACA3L;AAAA;AAAA;AAAA;AAAA;AAAmG;AAC7B;AACL;;;AAGjE;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCf,2GAA8D;AAmB9D;IA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AAC,C;;;;;;;;;;;;;ACA1L;AAAA;AAAA;AAAA;AAAA;AAAiG;AAC5B;AACL;;;AAGhE;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;;;;;;;;;ACtCf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gCAAgC;AAC9C,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,wDAAwD;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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AwB,CA6G5C;IAAD,+BAAC;CAAA,CA7GqD,4BAAG,GA6GxD;kBA7GoB,wBAAwB;;;;;;;;;;;;;;;;;;;;;AChB7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,wBAAwB,uDAAuD;AAC/E;AACA;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa,sDAAsD;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,qBAAqB;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxKA;AAAA;AAAA;AAAA;AAAoS,CAAgB,0VAAG,EAAC,C;;;;;;;;;;;;;ACAxT;AAAA;AAAA;AAAA;AAAiK,CAAgB,mOAAG,EAAC,C;;;;;;;;;;;;;ACArL;AAAA;AAAA;A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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue-property-decorator/lib/vue-property-decorator.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vueNgxDatatable\", [\"vue-property-decorator/lib/vue-property-decorator.js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vueNgxDatatable\"] = factory(require(\"vue-property-decorator/lib/vue-property-decorator.js\"));\n\telse\n\t\troot[\"vueNgxDatatable\"] = factory(root[\"vue-property-decorator/lib/vue-property-decorator.js\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_vue_property_decorator__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/components/datatable.component.vue\");\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".ngx-datatable {\\n  display: block;\\n  overflow: hidden;\\n  justify-content: center;\\n  position: relative;\\n  -webkit-transform: translate3d(0, 0, 0);\\n  transform: translate3d(0, 0, 0);\\n  /**\\r\\n   * Vertical Scrolling Adjustments\\r\\n   */\\n  /**\\r\\n   * Horizontal Scrolling Adjustments\\r\\n   */\\n  /**\\r\\n   * Fixed Header Height Adjustments\\r\\n   */\\n  /**\\r\\n   * Fixed row height adjustments\\r\\n   */\\n  /**\\r\\n   * Shared Styles\\r\\n   */\\n  /**\\r\\n   * Header Styles\\r\\n   */\\n  /**\\r\\n   * Body Styles\\r\\n   */\\n  /**\\r\\n   * Footer Styles\\r\\n   */\\n}\\n.ngx-datatable.ngx-flex {\\n    display: flex;\\n    flex-flow: column;\\n    justify-content: flex-start;\\n    height: 100%;\\n}\\n.ngx-datatable.ngx-flex .datatable-body {\\n      overflow-y: auto;\\n      flex: 1 1 auto;\\n}\\n.ngx-datatable.ngx-flex .datatable-header,\\n    .ngx-datatable.ngx-flex .datatable-footer {\\n      flex: none;\\n}\\n.ngx-datatable.ngx-nowrap-text .datatable-body .datatable-body-row .datatable-body-cell .datatable-body-cell-label {\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ngx-datatable [hidden] {\\n    display: none !important;\\n}\\n.ngx-datatable .hidden-columns {\\n    visibility: hidden;\\n    position: absolute;\\n    z-index: -1;\\n}\\n.ngx-datatable *,\\n  .ngx-datatable *:before,\\n  .ngx-datatable *:after {\\n    -moz-box-sizing: border-box;\\n    -webkit-box-sizing: border-box;\\n    box-sizing: border-box;\\n}\\n.ngx-datatable.scroll-vertical .datatable-body {\\n    overflow-y: auto;\\n}\\n.ngx-datatable.scroll-vertical.virtualized .datatable-body .datatable-row-wrapper {\\n    position: absolute;\\n}\\n.ngx-datatable.scroll-horz .datatable-body {\\n    overflow-x: auto;\\n    -webkit-overflow-scrolling: touch;\\n}\\n.ngx-datatable.fixed-header .datatable-header .datatable-header-inner {\\n    white-space: nowrap;\\n}\\n.ngx-datatable.fixed-header .datatable-header .datatable-header-inner .datatable-header-cell {\\n      white-space: nowrap;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n}\\n.ngx-datatable.fixed-row .datatable-scroll {\\n    white-space: nowrap;\\n}\\n.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row {\\n      white-space: nowrap;\\n}\\n.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-cell {\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n}\\n.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-group-cell {\\n        overflow: hidden;\\n        white-space: nowrap;\\n        text-overflow: ellipsis;\\n}\\n.ngx-datatable .datatable-body-row,\\n  .ngx-datatable .datatable-row-center,\\n  .ngx-datatable .datatable-header-inner {\\n    display: -webkit-box;\\n    display: -moz-box;\\n    display: -ms-flexbox;\\n    display: -webkit-flex;\\n    display: flex;\\n    flex-direction: row;\\n    -webkit-flex-flow: row;\\n    -moz-flex-flow: row;\\n    -ms-flex-flow: row;\\n    -o-flex-flow: row;\\n    flex-flow: row;\\n}\\n.ngx-datatable .datatable-body-cell,\\n  .ngx-datatable .datatable-header-cell {\\n    overflow-x: hidden;\\n    vertical-align: top;\\n    display: inline-flex;\\n    line-height: 1.625;\\n}\\n.ngx-datatable .datatable-body-cell:focus,\\n    .ngx-datatable .datatable-header-cell:focus {\\n      outline: none;\\n}\\n.ngx-datatable .datatable-body-cell .datatable-body-cell-label,\\n    .ngx-datatable .datatable-header-cell .datatable-body-cell-label {\\n      width: 100%;\\n}\\n.ngx-datatable .datatable-body-cell-bold,\\n    .ngx-datatable .datatable-header-cell-bold {\\n      font-weight: bold;\\n}\\n.ngx-datatable .datatable-row-left,\\n  .ngx-datatable .datatable-row-right {\\n    z-index: 9;\\n}\\n.ngx-datatable .datatable-row-left,\\n  .ngx-datatable .datatable-row-center,\\n  .ngx-datatable .datatable-row-group,\\n  .ngx-datatable .datatable-row-right {\\n    position: relative;\\n}\\n.ngx-datatable .datatable-header {\\n    overflow: hidden;\\n}\\n.ngx-datatable .datatable-header .datatable-header-inner {\\n      align-items: stretch;\\n      -webkit-align-items: stretch;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell {\\n      position: relative;\\n      display: inline-flex;\\n      user-select: none;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell.sortable .datatable-header-cell-wrapper {\\n        cursor: pointer;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell.longpress .datatable-header-cell-wrapper {\\n        cursor: move;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .sort-btn {\\n        margin-left: auto;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .sort-btn::before {\\n        line-height: 100%;\\n        vertical-align: middle;\\n        display: inline-block;\\n        cursor: pointer;\\n        font-size: 1.25rem;\\n        margin-right: -7px;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .resize-handle,\\n      .ngx-datatable .datatable-header .datatable-header-cell .resize-handle--not-resizable {\\n        display: inline-block;\\n        position: absolute;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n        width: 5px;\\n        padding: 0 4px;\\n        visibility: hidden;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .resize-handle {\\n        cursor: ew-resize;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell.resizeable:hover .resize-handle {\\n        visibility: visible;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell:hover .resize-handle--not-resizable {\\n        visibility: visible;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker {\\n        position: absolute;\\n        top: 0;\\n        bottom: 0;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromLeft {\\n          right: -13px;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromRight {\\n          left: 0;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker .icon {\\n          position: absolute;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker .datatable-icon-down {\\n          top: 0px;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .targetMarker .datatable-icon-up {\\n          top: 35px;\\n}\\n.ngx-datatable .datatable-header .datatable-header-cell .datatable-header-cell-template-wrap {\\n        height: inherit;\\n}\\n.ngx-datatable .datatable-body {\\n    position: relative;\\n    z-index: 10;\\n    display: block;\\n}\\n.ngx-datatable .datatable-body .datatable-scroll {\\n      display: inline-block;\\n}\\n.ngx-datatable .datatable-body .datatable-row-detail {\\n      overflow-y: hidden;\\n}\\n.ngx-datatable .datatable-body .datatable-row-wrapper {\\n      display: -webkit-box;\\n      display: -moz-box;\\n      display: -ms-flexbox;\\n      display: -webkit-flex;\\n      display: flex;\\n      -webkit-box-orient: vertical;\\n      -webkit-box-direction: normal;\\n      -webkit-flex-direction: column;\\n      -moz-box-orient: vertical;\\n      -moz-box-direction: normal;\\n      -ms-flex-direction: column;\\n      flex-direction: column;\\n}\\n.ngx-datatable .datatable-body .datatable-body-row {\\n      outline: none;\\n}\\n.ngx-datatable .datatable-body .datatable-body-row > div {\\n        display: -webkit-box;\\n        display: -moz-box;\\n        display: -ms-flexbox;\\n        display: -webkit-flex;\\n        display: flex;\\n}\\n.ngx-datatable .datatable-footer {\\n    display: block;\\n    width: 100%;\\n    margin-top: auto;\\n}\\n.ngx-datatable .datatable-footer .datatable-footer-inner {\\n      display: flex;\\n      align-items: center;\\n      width: 100%;\\n}\\n.ngx-datatable .datatable-footer .selected-count .page-count {\\n      flex: 1 1 40%;\\n}\\n.ngx-datatable .datatable-footer .selected-count .datatable-pager {\\n      flex: 1 1 60%;\\n}\\n.ngx-datatable .datatable-footer .page-count {\\n      flex: 1 1 20%;\\n}\\n.ngx-datatable .datatable-footer .datatable-pager {\\n      flex: 1 1 80%;\\n      text-align: right;\\n}\\n.ngx-datatable .datatable-footer .datatable-pager .pager,\\n      .ngx-datatable .datatable-footer .datatable-pager .pager li {\\n        padding: 0;\\n        margin: 0;\\n        display: inline-block;\\n        list-style: none;\\n}\\n.ngx-datatable .datatable-footer .datatable-pager .pager li,\\n      .ngx-datatable .datatable-footer .datatable-pager .pager li a {\\n        outline: none;\\n}\\n.ngx-datatable .datatable-footer .datatable-pager .pager li a {\\n        cursor: pointer;\\n        display: inline-block;\\n}\\n.ngx-datatable .datatable-footer .datatable-pager .pager li.disabled a {\\n        cursor: not-allowed;\\n}\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","import { TableColumn } from 'types';\r\nimport { IRowContext } from 'types/row-context.type';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport { Keys } from '../../utils';\r\n\r\nexport type TreeStatus = 'collapsed' | 'expanded' | 'loading' | 'disabled';\r\n\r\n@Component\r\nexport default class DataTableBodyCellComponent extends Vue {\r\n  @Prop() column: TableColumn;\r\n  @Prop() rowContext: IRowContext;\r\n  @Prop() tabIndex: string;\r\n  @Prop() cellSlot: (obj: Record<string, unknown>) => VNode[];\r\n  @Prop() renderTracking: boolean;\r\n  @Prop() displayCheck: (row: Record<string, unknown>, column?: TableColumn, value?: unknown) => boolean;\r\n\r\n  sanitizedValue: string = null;\r\n  value: unknown = null;\r\n  // sortDir: SortDirection = null;\r\n  isFocused = false;\r\n  // activateFn = this.activate.emit.bind(this.activate); todo\r\n\r\n  @Watch('rowContext.row', { deep: true, immediate: true }) onRowChanged(): void {\r\n    this.checkValueUpdates();\r\n  }\r\n\r\n  created(): void {\r\n    if (this.cellSlot) {\r\n      this.$slots.default = this.cellSlot({\r\n        row: this.rowContext?.row ?? {},\r\n        column: this.column,\r\n        rowIndex: this.rowContext.rowIndex,\r\n        expanded: this.rowContext.expanded,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        group: this.rowContext.group,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        value: this.value,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        updateCell: this.$forceUpdate.bind(this),\r\n      });\r\n    }\r\n    if (this.renderTracking) {\r\n      this.$emit('cell-created', this.column);\r\n    }\r\n  }\r\n\r\n  beforeUpdate(): void {\r\n    if (this.cellSlot) {\r\n      this.$slots.default = this.cellSlot({\r\n        row: this.rowContext?.row ?? {},\r\n        column: this.column,\r\n        rowIndex: this.rowContext.rowIndex,\r\n        expanded: this.rowContext.expanded,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        group: this.rowContext.group,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        value: this.value,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        updateCell: this.$forceUpdate.bind(this),\r\n      });\r\n    }\r\n    if (this.renderTracking) {\r\n      this.$emit('cell-updated', this.column);\r\n    }\r\n  }\r\n\r\n  checkValueUpdates(): void {\r\n    let value = '';\r\n\r\n    if (!this.rowContext || !this.column) {\r\n      value = '';\r\n    } else {\r\n      // todo: make transform by vue filters\r\n      // const val = this.column.$$valueGetter(this.row, this.column.prop);\r\n      // const userPipe: PipeTransform = this.column.pipe;\r\n\r\n      // if (userPipe) {\r\n      //   value = userPipe.transform(val);\r\n      // } else if (value !== undefined) {\r\n      //   value = val;\r\n      // }\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      value = this.column.$$valueGetter(this.rowContext.row, this.column.prop);\r\n    }\r\n    if (this.value !== value) {\r\n      this.value = value;\r\n      // eslint-disable-next-line no-undefined\r\n      this.sanitizedValue = value !== null && value !== undefined ? this.stripHtml(value) : value;\r\n    }\r\n  }\r\n\r\n  stripHtml(html: string): string {\r\n    if (!html.replace) {\r\n      return html;\r\n    }\r\n    return html.replace(/<\\/?[^>]+(>|$)/g, '');\r\n  }\r\n\r\n  onFocus(): void {\r\n    this.isFocused = true;\r\n  }\r\n\r\n  onBlur(): void {\r\n    this.isFocused = false;\r\n  }\r\n\r\n  onClick(event: MouseEvent): void {\r\n    // props.context.isFocused = true;\r\n    // props.context.abcd = true;\r\n    this.$emit('activate', {\r\n      type: 'click',\r\n      event,\r\n      row: this.rowContext.row,\r\n      rowHeight: this.rowContext.rowHeight,\r\n      column: this.column,\r\n      cellElement: this.$el,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      value: this.value,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      group: this.rowContext.group,\r\n    });\r\n  }\r\n\r\n  onDblClick(event: MouseEvent): void {\r\n    this.$emit('activate', {\r\n      type: 'dblclick',\r\n      event,\r\n      row: this.rowContext.row,\r\n      rowHeight: this.rowContext.rowHeight,\r\n      column: this.column,\r\n      cellElement: this.$el,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      value: this.value,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      group: this.rowContext.group,\r\n    });\r\n  }\r\n\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    const keyCode = event.keyCode;\r\n    const isTargetCell = event.target === this.$el;\r\n    const isAction =\r\n      keyCode === Keys.return ||\r\n      keyCode === Keys.down ||\r\n      keyCode === Keys.up ||\r\n      keyCode === Keys.left ||\r\n      keyCode === Keys.right ||\r\n      keyCode === Keys.pageUp ||\r\n      keyCode === Keys.pageDown;\r\n\r\n    if (isAction && isTargetCell) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this.$emit('activate', {\r\n        type: 'keydown',\r\n        event,\r\n        row: this.rowContext.row,\r\n        rowIndex: this.rowContext.rowIndex,\r\n        rowHeight: this.rowContext.rowHeight,\r\n        column: this.column,\r\n        cellElement: this.$el,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        value: this.value,\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        group: this.rowContext.group,\r\n      });\r\n    }\r\n  }\r\n\r\n  onCheckboxChange(event: MouseEvent): void {\r\n    this.$emit('activate', {\r\n      type: 'checkbox',\r\n      event,\r\n      row: this.rowContext.row,\r\n      rowHeight: this.rowContext.rowHeight,\r\n      column: this.column,\r\n      cellElement: this.$el,\r\n      treeStatus: this.rowContext.treeStatus,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      value: this.value,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      group: this.rowContext.group,\r\n    });\r\n  }\r\n\r\n  onTreeAction(event: MouseEvent): void {\r\n    this.$emit('tree-action', { event, row: this.rowContext.row });\r\n  }\r\n\r\n  onMouseEnter(event: MouseEvent): void {\r\n    this.$emit('mouseenter', { event, row: this.rowContext.row });\r\n  }\r\n\r\n  get cssClasses(): Record<string, boolean> {\r\n    if (!this.rowContext) {\r\n      return null;\r\n    }\r\n    const result: Record<string, boolean> = {};\r\n    let func: (data: Record<string, unknown>) => string | Record<string, unknown>;\r\n    if (this.column.cellClass) {\r\n      let cssClass = this.column.cellClass;\r\n      if (!Array.isArray(cssClass)) {\r\n        cssClass = [cssClass];\r\n      }\r\n      (cssClass as Array<(data: Record<string, unknown>) => string | Record<string, unknown>>).forEach(value => {\r\n        func = null;\r\n        if (typeof value === 'string') {\r\n          result[value] = true;\r\n        } else if (Array.isArray(value)) {\r\n          (value as Array<string>).forEach(val => {\r\n            result[val] = true;\r\n          });\r\n        } else if (typeof value === 'function') {\r\n          func = value;\r\n        }\r\n        if (func) {\r\n          const res = func({\r\n            row: this.rowContext?.row,\r\n            group: this.rowContext?.group,\r\n            column: this.column,\r\n            value: this.value,\r\n            rowHeight: this.rowContext?.rowHeight,\r\n          });\r\n\r\n          if (typeof res === 'string') {\r\n            result[res] = true;\r\n          } else if (typeof res === 'object') {\r\n            const keys = Object.keys(res);\r\n            for (const k of keys) {\r\n              if (res[k] === true) {\r\n                result[` ${k}`] = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // result['sort-active'] = !this.sortDir;\r\n    result['active'] = this.isFocused;\r\n    // result['sort-asc'] = this.sortDir === SortDirection.asc;\r\n    // result['sort-desc'] = this.sortDir === SortDirection.desc;\r\n    return result;\r\n  }\r\n\r\n  get styles(): Record<string, string | number> {\r\n    if (!this.rowContext) {\r\n      return {};\r\n    }\r\n    return {\r\n      width: `${this.column.width}px`,\r\n      // eslint-disable-next-line no-undefined\r\n      minWidth: this.column.minWidth ? `${this.column.minWidth}px` : undefined,\r\n      // eslint-disable-next-line no-undefined\r\n      maxWidth: this.column.maxWidth ? `${this.column.maxWidth}px` : undefined,\r\n      height: `${this.rowContext.rowHeight}px`, // this.cellHeight(this.rowContext.rowHeight),\r\n    };\r\n  }\r\n\r\n  get marginCellStyle(): Record<string, string> {\r\n    if (!this.rowContext) {\r\n      return {};\r\n    }\r\n    return {\r\n      'margin-left': `${this.calcLeftMargin(this.column, this.rowContext.row)}px`,\r\n    };\r\n  }\r\n\r\n  get isCheckboxable(): boolean {\r\n    return (\r\n      this.column.checkboxable &&\r\n      (!this.displayCheck || this.displayCheck(this.rowContext.row, this.column, this.value))\r\n    );\r\n  }\r\n\r\n  cellHeight(rowHeight: number): string | number {\r\n    const height = rowHeight;\r\n    if (isNaN(height)) {\r\n      return height;\r\n    }\r\n    return `${height}px`;\r\n  }\r\n\r\n  calcLeftMargin(column: TableColumn, row: Record<string, unknown>): number {\r\n    const levelIndent = column.treeLevelIndent !== null ? column.treeLevelIndent : 50;\r\n    return column.isTreeColumn ? (row.level as number) * levelIndent : 0;\r\n  }\r\n}\r\n","import { TGroupByField } from 'components/datatable.component';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport DataTableBodyGroupHeaderComponent from './body-group-header.component';\r\nimport DataTableBodyRowDetailComponent from './body-row-detail.component';\r\nimport DataTableBodyRowComponent from './body-row.component.vue';\r\n\r\n@Component({\r\n  name: 'datatable-row-wrapper',\r\n  components: {\r\n    'datatable-group-header': DataTableBodyGroupHeaderComponent,\r\n    'datatable-row-detail': DataTableBodyRowDetailComponent,\r\n    'datatable-body-row': DataTableBodyRowComponent,\r\n  },\r\n})\r\nexport default class DataTableRowWrapperComponent extends Vue {\r\n  @Prop() innerWidth: number;\r\n  @Prop() rowDetail: boolean;\r\n  @Prop() groupHeader: boolean;\r\n  @Prop() groupLevel: number;\r\n  @Prop() offsetX: number;\r\n  @Prop() rowDetailHeight: number;\r\n  @Prop() groupRowHeight: number;\r\n  @Prop() row: Record<string, unknown>;\r\n  @Prop() rowIdentity: (row: Record<string, unknown>) => any;\r\n  @Prop() groupRowsBy: Array<TGroupByField | Array<TGroupByField>>;\r\n  @Prop() rowIndex: number;\r\n  @Prop() expanded: boolean;\r\n  @Prop() styleObject: Record<string, string>;\r\n  @Prop() groupHeaderSlot: (obj: Record<string, unknown>) => VNode[];\r\n  @Prop() rowDetailSlot: (obj: Record<string, unknown>) => VNode[];\r\n\r\n  mounted(): void {\r\n    this.$emit('set-row-element', this.$el);\r\n  }\r\n\r\n  updated(): void {\r\n    this.$emit('set-row-element', this.$el);\r\n  }\r\n\r\n  onContextmenu($event: MouseEvent): void {\r\n    this.$emit('rowContextmenu', { event: $event, row: this.row });\r\n  }\r\n\r\n  get groupHeaderStyles(): Record<string, string> {\r\n    const styles = {};\r\n    styles['transform'] = `translate3d(${this.offsetX}px, 0px, 0px)'`;\r\n    styles['backface-visibility'] = 'hidden';\r\n    styles['width'] = this.innerWidth || '100%';\r\n    styles['height'] = this.groupRowHeight ? `${this.groupRowHeight}px` : 'auto';\r\n    return styles;\r\n  }\r\n\r\n  get rowId(): string | number | null {\r\n    if (!this.row) {\r\n      return null;\r\n    }\r\n    if (this.rowIdentity) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      const result = this.rowIdentity(this.row);\r\n      if (typeof result === 'object') {\r\n        return null;\r\n      }\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { IRowContext } from 'types/row-context.type';\r\nimport { IColumnsByPinRecord, IColumnsWidth } from 'utils';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { TableColumn } from '../../types/table-column.type';\r\nimport { Keys } from '../../utils/keys';\r\nimport DataTableBodyCellComponent from './body-cell.component.vue';\r\n\r\n@Component({\r\n  components: {\r\n    'datatable-body-cell': DataTableBodyCellComponent,\r\n  },\r\n})\r\nexport default class DataTableBodyRowComponent extends Vue {\r\n  @Prop() row: Record<string, unknown>;\r\n  @Prop() rowContext: IRowContext;\r\n  @Prop() columnsByPin: IColumnsByPinRecord[];\r\n  @Prop() columnGroupWidths: IColumnsWidth;\r\n  @Prop() groupStyles: Record<string, string | number>;\r\n  @Prop() rowClass: (row: Record<string, unknown>, rowIndex: number) => string | string;\r\n  @Prop() displayCheck: (row: Record<string, unknown>, column?: TableColumn, value?: unknown) => boolean;\r\n  @Prop() slots: () => Record<string, (arg?: Record<string, unknown>) => VNode[]>;\r\n  @Prop() renderTracking: boolean;\r\n\r\n  counter = 0; // it's need to update cells after row's changing\r\n  isFocused = false;\r\n\r\n  created(): void {\r\n    if (this.renderTracking) {\r\n      this.$emit('row-created', this.row);\r\n    }\r\n  }\r\n\r\n  updated(): void {\r\n    if (this.renderTracking) {\r\n      this.$emit('row-updated', this.row);\r\n    }\r\n    if (this.isFocused) {\r\n      (this.$el as HTMLElement).focus();\r\n    }\r\n  }\r\n\r\n  // @Watch('row', { deep: true }) onRowChanged(newVal, oldVal) {\r\n  //   if (newVal === oldVal) {\r\n  //     // there was only row's properties changed - it's need to update cells\r\n  //     this.counter++;\r\n  //   }\r\n  // }\r\n\r\n  onCellRendered(column: TableColumn): void {\r\n    this.$emit('row-updated', this.row);\r\n  }\r\n\r\n  onFocus(): void {\r\n    this.isFocused = true;\r\n  }\r\n\r\n  onBlur(): void {\r\n    this.isFocused = false;\r\n  }\r\n\r\n  onActivate(event: { cellIndex: number; rowElement: Element }, index: number): void {\r\n    event.cellIndex = index;\r\n    event.rowElement = this.$el;\r\n    this.$emit('activate', event);\r\n  }\r\n\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    const keyCode = event.keyCode;\r\n    const isTargetRow = event.target === this.$el;\r\n\r\n    const isAction =\r\n      keyCode === Keys.return ||\r\n      keyCode === Keys.down ||\r\n      keyCode === Keys.up ||\r\n      keyCode === Keys.pageUp ||\r\n      keyCode === Keys.pageDown;\r\n\r\n    if (isAction && isTargetRow) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this.$emit('activate', {\r\n        type: 'keydown',\r\n        event,\r\n        row: this.row,\r\n        rowIndex: this.rowContext.rowIndex,\r\n        rowElement: this.$el,\r\n      });\r\n    }\r\n  }\r\n\r\n  onMouseenter(event: MouseEvent): void {\r\n    this.$emit('activate', {\r\n      type: 'mouseenter',\r\n      event,\r\n      row: this.row,\r\n      rowElement: this.$el,\r\n    });\r\n  }\r\n\r\n  onTreeAction(event: Event): void {\r\n    this.$emit('tree-action', event);\r\n  }\r\n\r\n  get styles(): Record<string, string> {\r\n    if (this.rowContext) {\r\n      return {\r\n        width: `${this.columnGroupWidths.total}px`,\r\n        height: `${this.rowContext.rowHeight}px`,\r\n      };\r\n    }\r\n    return {\r\n      width: `${this.columnGroupWidths.total}px`,\r\n    };\r\n  }\r\n\r\n  get cssClasses(): string {\r\n    let cls = '';\r\n    if (this.rowContext?.isSelected) {\r\n      cls += ' active';\r\n    }\r\n    if (this.rowContext?.rowIndex % 2 !== 0) {\r\n      cls += ' datatable-row-odd';\r\n    } else {\r\n      cls += ' datatable-row-even';\r\n    }\r\n    if (typeof this.rowClass === 'function') {\r\n      const res = this.rowClass(this.rowContext.row, this.rowContext.rowIndex);\r\n      if (typeof res === 'string') {\r\n        cls += ` ${res}`;\r\n      } else if (typeof res === 'object') {\r\n        const keys = Object.keys(res);\r\n        for (const k of keys) {\r\n          if (res[k] === true) {\r\n            cls += ` ${k}`;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return cls;\r\n  }\r\n}\r\n","import { TreeStatus } from 'components/body/body-cell.component';\r\nimport { TGroupByField } from 'components/datatable.component';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport { ScrollbarHelper } from '../../services/scrollbar-helper.service';\r\nimport { SelectionType, TableColumn } from '../../types';\r\nimport { CheckMode } from '../../types/check.type';\r\nimport { IGroupedRows } from '../../types/grouped-rows';\r\nimport { IRowContext } from '../../types/row-context.type';\r\nimport {\r\n  columnGroupWidths,\r\n  columnsByPin,\r\n  columnsByPinArr,\r\n  IColumnsByPinRecord,\r\n  IColumnsWidth,\r\n  RowHeightCache,\r\n  throttle,\r\n  translateXY,\r\n} from '../../utils';\r\nimport DataTableBodyGroupHeaderComponent from './body-group-header.component';\r\nimport DataTableBodyRowDetailComponent from './body-row-detail.component';\r\nimport DataTableRowWrapperComponent from './body-row-wrapper.component.vue';\r\nimport DataTableBodyRowComponent from './body-row.component.vue';\r\nimport ProgressBarComponent from './progress-bar.component';\r\nimport ScrollerComponent from './scroller.component';\r\nimport DataTableSelectionComponent, { Model } from './selection.component';\r\n// import DataTableRowWrapperComponent from './body-row-wrapper.component.vue';\r\n// import DataTableBodyRowComponent from './body-row.component.vue';\r\nimport DataTableSummaryRowComponent from './summary/summary-row.component';\r\n\r\n@Component({\r\n  components: {\r\n    'datatable-selection': DataTableSelectionComponent,\r\n    'datatable-progress': ProgressBarComponent,\r\n    'datatable-scroller': ScrollerComponent,\r\n    'datatable-summary-row': DataTableSummaryRowComponent,\r\n    'datatable-row-wrapper': DataTableRowWrapperComponent,\r\n    'datatable-body-row': DataTableBodyRowComponent,\r\n    'datatable-group-header': DataTableBodyGroupHeaderComponent,\r\n    'datatable-row-detail': DataTableBodyRowDetailComponent,\r\n  },\r\n})\r\nexport default class DataTableBodyComponent extends Vue {\r\n  @Prop() scrollbarV: boolean;\r\n  @Prop() scrollbarH: boolean;\r\n  @Prop() loadingIndicator: boolean;\r\n  @Prop() externalPaging: boolean;\r\n  @Prop() rowHeight: number | ((row: Record<string, unknown>, index?: number) => number);\r\n  @Prop() groupRowHeight: number | ((row: Record<string, unknown>, index?: number) => number);\r\n  @Prop() offsetX: number;\r\n  @Prop() emptyMessage: string;\r\n  @Prop() selectionType: SelectionType;\r\n  @Prop() checkMode: CheckMode;\r\n  @Prop({ type: Array, default: () => [] }) selected: Record<string, unknown>[];\r\n  @Prop({ type: Array, default: () => [] }) checked: Record<string, unknown>[];\r\n  @Prop() rowIdentity: (row: Record<string, unknown>) => string | number;\r\n  @Prop() rowDetail: boolean;\r\n  @Prop() rowDetailHeight: number | string | ((row?: Record<string, unknown>, index?: number) => number);\r\n  @Prop() groupHeader: any;\r\n  @Prop() selectCheck: any;\r\n  @Prop() displayCheck: any;\r\n  @Prop() trackByProp: string;\r\n  @Prop() rowClass: (row: Record<string, unknown>, rowIndex: number) => string | string;\r\n  // @Prop() groupedRows: any;\r\n  @Prop() groupExpansionDefault: boolean;\r\n  @Prop() innerWidth: number;\r\n  @Prop() groupRowsBy: Array<TGroupByField | Array<TGroupByField>>;\r\n  @Prop() virtualization: boolean;\r\n  @Prop() summaryRow: boolean;\r\n  @Prop() summaryPosition: string;\r\n  @Prop() summaryHeight: number | string;\r\n  @Prop() pageSize: number;\r\n  @Prop() limit: number;\r\n  @Prop() rows: Record<string, unknown>[];\r\n  @Prop() columns: TableColumn[];\r\n  @Prop() offset: number;\r\n  @Prop({ default: 0 }) rowCount: number;\r\n  @Prop({ default: 0 }) bodyHeight: number;\r\n  @Prop({ type: [Number, String], default: null }) minItemHeight: number | string;\r\n  @Prop({ type: [String], default: 'height' }) heightField: string;\r\n  @Prop() groupHeaderSlot: (obj: Record<string, unknown>) => VNode[];\r\n  @Prop() rowDetailSlot: (obj: Record<string, unknown>) => VNode[];\r\n  @Prop() renderTracking: boolean;\r\n\r\n  scroller: ScrollerComponent = null; // ScrollerComponent\r\n  selector: DataTableSelectionComponent = null; // DataTableSelectionComponent;\r\n  rowHeightsCache: RowHeightCache = new RowHeightCache();\r\n  offsetY = 0;\r\n  myOffset = 0;\r\n  myOffsetX = 0;\r\n  indexes: { first: number; last: number } = { first: 0, last: 0 };\r\n  columnGroupWidths: IColumnsWidth = null;\r\n  columnGroupWidthsWithoutGroup = null;\r\n  rowIndexes = new Map<Record<string, unknown>, number>();\r\n  rowExpansions = new Map<Record<string, unknown> | IGroupedRows, boolean>();\r\n  myBodyHeight: string = null;\r\n  columnsByPin: IColumnsByPinRecord[] = null;\r\n  groupStyles = {\r\n    left: {},\r\n    center: {},\r\n    right: {},\r\n  };\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n  onBodyScrollHandler = throttle(this.onBodyScroll.bind(this), 10, { trailing: true });\r\n\r\n  rowTrackingFn: any;\r\n  listener: any;\r\n  lastFirst: number;\r\n  lastLast: number;\r\n  lastRowCount: number;\r\n  rowsChanged: boolean;\r\n  rowContexts: Array<IRowContext> = [];\r\n  private readonly scrollbarHelper = new ScrollbarHelper();\r\n  private renderCounter = 0;\r\n  private renderId = null;\r\n\r\n  @Watch('pageSize') onPageSize(): void {\r\n    this.recalcLayout();\r\n  }\r\n\r\n  @Watch('rows', { immediate: true }) async onRowsChanged(): Promise<void> {\r\n    this.rowsChanged = true;\r\n    this.rowExpansions.clear();\r\n    // const updateOffset = this.rows && this.rows.length && this.offset || (!this.offset && this.offsetY);\r\n    const updateOffset =\r\n      this.rows && this.rows.length && ((this.offset && !this.offsetY) || (!this.offset && this.offsetY));\r\n    if (updateOffset) {\r\n      this.updateOffsetY(this.offset, true);\r\n      await this.$nextTick();\r\n      if (this.offset && !this.offsetY) {\r\n        // if offsetY wasn't set, try one more time\r\n        this.updateOffsetY(this.offset, true);\r\n        await this.$nextTick();\r\n      }\r\n    }\r\n    this.recalcLayout();\r\n    // this.$nextTick(() => {\r\n    //   this.scroller = this.$refs.scroller;\r\n    //   if (updateOffset) {\r\n    //     this.updateOffsetY(this.offset, true);\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  // @Watch('groupedRows') onGroupedRowsChanged() {\r\n  //   this.onRowsChanged();\r\n  // }\r\n\r\n  @Watch('selected', { deep: true }) async onSelectedChanged(): Promise<void> {\r\n    await this.$nextTick();\r\n    this.rowContexts.forEach(rowContext => {\r\n      rowContext.isSelected = this.isSelect(rowContext.row);\r\n      rowContext.isChecked = this.isChecked(rowContext.row);\r\n    });\r\n  }\r\n\r\n  @Watch('checked', { deep: true }) async onCheckedChanged(): Promise<void> {\r\n    await this.$nextTick();\r\n    this.rowContexts.forEach(rowContext => {\r\n      rowContext.isChecked = this.isChecked(rowContext.row);\r\n    });\r\n  }\r\n\r\n  @Watch('columns', { immediate: true }) onColumnsChanged(): void {\r\n    this.recalculateColumns();\r\n    this.buildStylesByGroup();\r\n  }\r\n\r\n  @Watch('offset', { immediate: true }) onOffsetChanged(): void {\r\n    this.myOffset = this.offset;\r\n  }\r\n\r\n  @Watch('offsetX', { immediate: true }) onOffsetXChanged(): void {\r\n    this.myOffsetX = this.offsetX;\r\n  }\r\n\r\n  @Watch('myOffsetX') onMyOffsetXChanged(): void {\r\n    this.buildStylesByGroup();\r\n  }\r\n\r\n  @Watch('innerWidth') onInnerWidthChanged(): void {\r\n    this.recalculateColumns();\r\n    this.buildStylesByGroup();\r\n  }\r\n\r\n  @Watch('myOffset') onMyOffsetChanged(): void {\r\n    if (this.limit) {\r\n      this.recalcLayout();\r\n    }\r\n  }\r\n\r\n  @Watch('rowCount') onRowCountChanged(): void {\r\n    this.recalcLayout();\r\n  }\r\n\r\n  @Watch('bodyHeight', { immediate: true }) onBodyHeightChanged(): void {\r\n    this.myBodyHeight = this.bodyHeight.toString();\r\n    if (this.bodyHeight === -1) {\r\n      this.myBodyHeight = '0px';\r\n      return;\r\n    }\r\n    if (this.scrollbarV) {\r\n      this.myBodyHeight = this.myBodyHeight + 'px';\r\n    } else {\r\n      this.myBodyHeight = 'auto';\r\n    }\r\n    this.recalcLayout();\r\n  }\r\n\r\n  /**\r\n   * Creates an instance of DataTableBodyComponent.\r\n   */\r\n  created(): void {\r\n    // declare fn here so we can get access to the `this` property\r\n    this.rowTrackingFn = (row: Record<string, unknown>): string | number => {\r\n      const idx = this.getRowIndex(row);\r\n      if (this.trackByProp) {\r\n        return `${idx}-${this.trackByProp}`;\r\n      }\r\n      return idx;\r\n    };\r\n  }\r\n\r\n  mounted(): void {\r\n    this.selector = this.$refs.selector as DataTableSelectionComponent;\r\n    this.scroller = this.$refs.scroller as ScrollerComponent;\r\n  }\r\n\r\n  get bodyWidth(): string {\r\n    if (this.scrollbarH) {\r\n      return `${this.innerWidth}px`;\r\n    }\r\n    return '100%';\r\n  }\r\n\r\n  get styleObject(): Record<string, string> {\r\n    return {\r\n      width: this.bodyWidth ? this.bodyWidth : 'auto',\r\n      height: this.myBodyHeight ? this.myBodyHeight : 'auto',\r\n      'overflow-anchor': 'auto',\r\n      contain: 'content',\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Returns if selection is enabled.\r\n   */\r\n  get selectEnabled(): boolean {\r\n    return Boolean(this.selectionType);\r\n  }\r\n\r\n  get checkEnabled(): boolean {\r\n    return this.checkMode === CheckMode.checkNoSelect || this.selectionType === SelectionType.checkbox;\r\n  }\r\n\r\n  get isUseRowHeightCache(): boolean {\r\n    if (typeof this.rowHeight === 'function' || this.rowDetailHeight || this.groupRowsBy) {\r\n      return true;\r\n    }\r\n    return false;\r\n    // if (\r\n    //   (this.fixedRowHeight && !this.rowDetailHeight && !this.groupRowsBy) ||\r\n    //   (this.scrollbarV && !this.virtualization) ||\r\n    //   !this.scrollbarV\r\n    // ) {\r\n    //   return false;\r\n    // }\r\n    // return true;\r\n  }\r\n\r\n  get fixedRowHeight(): boolean {\r\n    if (this.rowHeight && typeof this.rowHeight === 'number') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Property that would calculate the height of scroll bar\r\n   * based on the row heights cache for virtual scroll and virtualization. Other scenarios\r\n   * calculate scroll height automatically (as height will be undefined).\r\n   */\r\n  get scrollHeight(): number | undefined {\r\n    if (this.scrollbarV && this.virtualization && this.rowCount) {\r\n      if (!this.isUseRowHeightCache) {\r\n        const height = this.rowHeight as number;\r\n        return height * this.rowCount;\r\n      }\r\n      return this.rowHeightsCache.query(this.rowCount - 1);\r\n    }\r\n    if (!this.rowCount) {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  get scrollWidth(): string {\r\n    return this.columnGroupWidths ? this.columnGroupWidths.total.toString() : 'auto';\r\n  }\r\n\r\n  /**\r\n   * Called once, before the instance is destroyed.\r\n   */\r\n  destroyed(): void {\r\n    // todo\r\n    // if (this.rowDetail) this.listener.unsubscribe();\r\n    // if (this.groupHeader) this.listener.unsubscribe();\r\n  }\r\n\r\n  reset(): void {\r\n    this.myOffsetX = 0;\r\n    this.offsetY = 0;\r\n  }\r\n\r\n  onSelect(event: { selected: Array<Record<string, unknown>>; index: number }): void {\r\n    this.$emit('select', event);\r\n  }\r\n\r\n  recalculateColumns(val: Array<TableColumn> = this.columns): void {\r\n    const colsByPin = columnsByPin(this.columns);\r\n    this.columnsByPin = columnsByPinArr(this.columns);\r\n    let width = this.innerWidth;\r\n    if (this.scrollbarV) {\r\n      width = width - this.scrollbarHelper.width;\r\n    }\r\n    this.columnGroupWidths = columnGroupWidths(colsByPin, this.columns, width);\r\n  }\r\n\r\n  /**\r\n   * Updates the Y offset given a new offset.\r\n   */\r\n  updateOffsetY(offset?: number, fromPager: boolean = false): number {\r\n    // scroller is missing on empty table\r\n    if (!this.scroller) {\r\n      return;\r\n    }\r\n    let offsetY = 0;\r\n    if (this.scrollbarV && this.virtualization && offset) {\r\n      // First get the row Index that we need to move to.\r\n      const rowIndex = this.pageSize * offset;\r\n      if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n        offsetY = this.rowHeightsCache.query(rowIndex - 1);\r\n      } else {\r\n        offsetY = rowIndex * this.rowHeight;\r\n      }\r\n    } else if (this.scrollbarV && !this.virtualization) {\r\n      offsetY = 0;\r\n    }\r\n    if (offset && !offsetY) {\r\n      return 0;\r\n    }\r\n    this.scroller.setOffset(offsetY || 0, fromPager);\r\n    return offsetY || 0;\r\n  }\r\n\r\n  onScrollSetup(event: { scrollYPos: number; scrollXPos: number }): void {\r\n    this.myOffsetX = event.scrollXPos;\r\n    this.offsetY = event.scrollYPos;\r\n  }\r\n\r\n  /**\r\n   * Body was scrolled, this is mainly useful for\r\n   * when a user is server-side pagination via virtual scroll.\r\n   */\r\n  onBodyScroll(event: { direction: string; scrollYPos: number; scrollXPos: number; fromPager: boolean }): void {\r\n    const scrollYPos: number = event.scrollYPos;\r\n    const scrollXPos: number = event.scrollXPos;\r\n\r\n    // if scroll change, trigger update\r\n    // this is mainly used for header cell positions\r\n    if (this.offsetY !== scrollYPos || this.myOffsetX !== scrollXPos) {\r\n      // Math.abs(scrollYPos - this.offsetY) > 50\r\n      this.$emit('scroll', {\r\n        offsetY: scrollYPos,\r\n        offsetX: scrollXPos,\r\n      });\r\n    }\r\n    this.offsetY = scrollYPos;\r\n    this.myOffsetX = scrollXPos;\r\n    this.$nextTick(() => {\r\n      this.updateIndexes(event.direction);\r\n      this.updatePage(event.direction, event.fromPager);\r\n      this.updateRows();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Updates the page given a direction.\r\n   */\r\n  updatePage(direction: string, fromPager: boolean): void {\r\n    let offset = this.indexes.first / this.pageSize;\r\n\r\n    if (fromPager) {\r\n      offset = Math.ceil(offset);\r\n    } else if (direction === 'up') {\r\n      offset = Math.ceil(offset);\r\n    } else if (direction === 'down') {\r\n      offset = Math.floor(offset);\r\n    }\r\n\r\n    if (!fromPager && ['up', 'down'].includes(direction) && !isNaN(offset)) {\r\n      this.$emit('page', { offset });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the rows in the view port\r\n   */\r\n  updateRows(force: boolean = false): void {\r\n    const { first, last } = this.indexes;\r\n    if (!force && !this.rowsChanged && this.lastFirst === first && this.lastLast === last) {\r\n      // console.log('this.lastFirst === first');\r\n      return;\r\n    }\r\n    this.rowsChanged = false;\r\n    if (this.rows?.length) {\r\n      this.lastFirst = first;\r\n      this.lastLast = last;\r\n    }\r\n    this.lastRowCount = this.rowCount;\r\n    // if (!this.pagination) {\r\n    //   first = Math.max(0, first - 20);\r\n    //   last = Math.min(this.rowCount, last + 10);\r\n    // }\r\n    let rowIndex = first;\r\n    let idx = 0;\r\n    this.rowIndexes.clear();\r\n\r\n    // if grouprowsby has been specified treat row paging\r\n    // parameters as group paging parameters ie if limit 10 has been\r\n    // specified treat it as 10 groups rather than 10 rows\r\n    // if (this.groupedRows) {\r\n    //   let maxRowsPerGroup = 3;\r\n    //   // if there is only one group set the maximum number of\r\n    //   // rows per group the same as the total number of rows\r\n    //   if (this.groupedRows.length === 1) {\r\n    //     maxRowsPerGroup = this.groupedRows[0].value.length;\r\n    //   }\r\n    //   let index = 0;\r\n    //   while (rowIndex < last && rowIndex < this.groupedRows.length) {\r\n    //     // Add the groups into this page\r\n    //     const group = this.groupedRows[rowIndex];\r\n    //     group.value.forEach(row => this.rowIndexes.set(row, ++index));\r\n    //     temp[idx] = group;\r\n    //     idx++;\r\n\r\n    //     // Group index in this context\r\n    //     rowIndex++;\r\n    //   }\r\n    // } else {\r\n    const temp: Array<IRowContext> = [];\r\n    // let rowContext: IRowContext;\r\n    let group;\r\n    while (rowIndex < last && rowIndex < this.rowCount) {\r\n      const row = this.rows[rowIndex];\r\n      if (row) {\r\n        if (row.__isGroup) {\r\n          group = row;\r\n        }\r\n        this.rowIndexes.set(row, rowIndex);\r\n        // rowContext = this.rowContexts[idx];\r\n        // if (!rowContext) {\r\n        //   // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        //   rowContext = {} as any;\r\n        // }\r\n        // rowContext.row = row;\r\n        // rowContext.rowIndex = rowIndex;\r\n        // rowContext.rowHeight = this.getRowHeight(row);\r\n        // rowContext.isSelected = this.isSelect(row);\r\n        // rowContext.isChecked = this.isChecked(row);\r\n        // rowContext.expanded = this.getRowExpanded(row);\r\n        // rowContext.treeStatus = this.treeStatus(row);\r\n        // temp[idx] = rowContext;\r\n        temp[idx] = {\r\n          row,\r\n          rowIndex,\r\n          rowHeight: this.getRowHeight(row),\r\n          isSelected: this.isSelect(row),\r\n          isChecked: this.isChecked(row),\r\n          expanded: this.getRowExpanded(row),\r\n          treeStatus: this.treeStatus(row),\r\n          group: group as IGroupedRows,\r\n        };\r\n        idx++;\r\n      }\r\n      rowIndex++;\r\n    }\r\n    // }\r\n    this.rowContexts = temp;\r\n    // console.log('updateRows first = ', first);\r\n  }\r\n\r\n  /**\r\n   * Get the row height\r\n   */\r\n  getRowHeight(row: Record<string, unknown>): number {\r\n    // if its a function return it\r\n    if (typeof this.rowHeight === 'function') {\r\n      return this.rowHeight(row);\r\n    }\r\n    return this.rowHeight;\r\n  }\r\n\r\n  /**\r\n   * @param group the group with all rows\r\n   */\r\n  getGroupHeight(group: { value: Array<Record<string, unknown>> }): number {\r\n    let rowHeight = 0;\r\n    if (Array.isArray(group.value)) {\r\n      for (const value of group.value) {\r\n        rowHeight += this.getRowAndDetailHeight(value);\r\n      }\r\n    }\r\n    return rowHeight;\r\n  }\r\n\r\n  /**\r\n   * Calculate row height based on the expanded state of the row.\r\n   */\r\n  getRowAndDetailHeight(row: Record<string, unknown>): number {\r\n    let rowHeight = this.getRowHeight(row);\r\n    const expanded = this.rowExpansions.get(row);\r\n\r\n    // Adding detail row height if its expanded.\r\n    if (expanded) {\r\n      rowHeight += this.getDetailRowHeight(row);\r\n    }\r\n\r\n    return rowHeight;\r\n  }\r\n\r\n  /**\r\n   * Get the height of the detail row.\r\n   */\r\n  getDetailRowHeight = (row?: Record<string, unknown>, index?: number): number => {\r\n    if (!this.rowDetail) {\r\n      return 0;\r\n    }\r\n    const rowHeight = this.rowDetailHeight || this.getRowHeight(row) || 50;\r\n    return typeof rowHeight === 'function' ? rowHeight(row, index) : Number(rowHeight);\r\n  };\r\n\r\n  /**\r\n   * Calculates the styles for the row so that the rows can be moved in 2D space\r\n   * during virtual scroll inside the DOM.   In the below case the Y position is\r\n   * manipulated.   As an example, if the height of row 0 is 30 px and row 1 is\r\n   * 100 px then following styles are generated:\r\n   *\r\n   * transform: translate3d(0px, 0px, 0px);    ->  row0\r\n   * transform: translate3d(0px, 30px, 0px);   ->  row1\r\n   * transform: translate3d(0px, 130px, 0px);  ->  row2\r\n   *\r\n   * Row heights have to be calculated based on the row heights cache as we wont\r\n   * be able to determine which row is of what height before hand.  In the above\r\n   * case the positionY of the translate3d for row2 would be the sum of all the\r\n   * heights of the rows before it (i.e. row0 and row1).\r\n   *\r\n   * @param {*} row The row that needs to be placed in the 2D space.\r\n   * @returns {*} Returns the CSS3 style to be applied\r\n   *\r\n   * @memberOf DataTableBodyComponent\r\n   */\r\n  getRowWrapperStyles(rowContext: IRowContext): Record<string, string> {\r\n    if (!rowContext) {\r\n      return null;\r\n    }\r\n    const styles = {};\r\n    // only add styles for the group if there is a group\r\n    if (this.groupRowsBy) {\r\n      styles['width'] = '100%'; // this.columnGroupWidths.total + 'px';\r\n    }\r\n\r\n    if (this.scrollbarV && this.virtualization) {\r\n      let idx = 0;\r\n      // let row = rows;\r\n      // if (this.groupedRows) {\r\n      //   // Get the latest row rowindex in a group\r\n      //   row = rows[rows.length - 1];\r\n      //   idx = row ? this.getRowIndex(row) : 0;\r\n      // } else {\r\n      idx = rowContext.rowIndex;\r\n      // }\r\n      // const pos = idx * rowHeight;\r\n      // The position of this row would be the sum of all row heights\r\n      // until the previous row position.\r\n      let pos = 0;\r\n      let height = 50;\r\n      if (!this.isUseRowHeightCache) {\r\n        height = this.rowHeight as number;\r\n        pos = idx * height;\r\n      } else {\r\n        pos = this.rowHeightsCache.query(idx - 1);\r\n      }\r\n      translateXY(styles, 0, pos);\r\n    }\r\n    return styles;\r\n  }\r\n\r\n  getRowOffsetY(index: number): { offsetY: number; height: number } {\r\n    if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n      let result = this.rowHeightsCache.queryWithHeight(index);\r\n      if (!result) {\r\n        result = { height: 0, offsetY: 0 };\r\n      }\r\n      return result;\r\n    }\r\n    return {\r\n      offsetY: this.rowHeight * index,\r\n      height: this.rowHeight,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Calculate bottom summary row offset for scrollbar mode.\r\n   * For more information about cache and offset calculation\r\n   * see description for `getRowsStyles` method\r\n   *\r\n   * @returns {*} Returns the CSS3 style to be applied\r\n   *\r\n   * @memberOf DataTableBodyComponent\r\n   */\r\n  getBottomSummaryRowStyles(): Record<string, string> {\r\n    if (!this.scrollbarV || !this.rows || !this.rows.length) {\r\n      return null;\r\n    }\r\n\r\n    const styles = { position: 'absolute' };\r\n    let pos = 0;\r\n    if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n      pos = this.rowHeightsCache.query(this.rows.length - 1);\r\n    } else {\r\n      pos = this.rowHeight * (this.rowCount - 1);\r\n    }\r\n\r\n    translateXY(styles, 0, pos);\r\n\r\n    return styles;\r\n  }\r\n\r\n  /**\r\n   * Hides the loading indicator\r\n   */\r\n  // hideIndicator(): void {\r\n  //   setTimeout(() => this.loadingIndicator = false, 500);\r\n  // }\r\n\r\n  /**\r\n   * Updates the index of the rows in the viewport\r\n   */\r\n  updateIndexes(direction?: string): void {\r\n    let first = 0;\r\n    let last = 0;\r\n\r\n    if (this.scrollbarV && !this.limit) {\r\n      if (this.virtualization) {\r\n        // Calculation of the first and last indexes will be based on where the\r\n        // scrollY position would be at.  The last index would be the one\r\n        // that shows up inside the view port the last.\r\n        const height = this.bodyHeight;\r\n        if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n          first = this.rowHeightsCache.getRowIndex(this.offsetY);\r\n          last = this.rowHeightsCache.getRowIndex(height + this.offsetY) + 1;\r\n        } else {\r\n          first = Math.floor(this.offsetY / this.rowHeight);\r\n          last = Math.ceil((height + this.offsetY + this.rowHeight) / this.rowHeight);\r\n        }\r\n      } else {\r\n        // If virtual rows are not needed\r\n        // We render all in one go\r\n        first = 0;\r\n        last = this.rowCount;\r\n      }\r\n    } else {\r\n      // The server is handling paging and will pass an array that begins with the\r\n      // element at a specified offset.  first should always be 0 with external paging.\r\n      if (!this.externalPaging) {\r\n        first = Math.max(this.myOffset * this.pageSize, 0);\r\n      }\r\n      last = Math.min(first + this.pageSize, this.rowCount);\r\n    }\r\n    // if (direction === 'down') {\r\n    //   last = last === this.rowCount ? last : last + 1;\r\n    // }\r\n    this.indexes = { first, last };\r\n  }\r\n\r\n  /**\r\n   * Refreshes the full Row Height cache.  Should be used\r\n   * when the entire row array state has changed.\r\n   */\r\n  refreshRowHeightCache(): void {\r\n    if (!this.isUseRowHeightCache) {\r\n      return;\r\n    }\r\n    // clear the previous row height cache if already present.\r\n    // this is useful during sorts, filters where the state of the\r\n    // rows array is changed.\r\n    this.rowHeightsCache.clearCache();\r\n\r\n    // Initialize the tree only if there are rows inside the tree.\r\n    if (this.rows && this.rows.length) {\r\n      this.rowHeightsCache.initCache({\r\n        rows: this.rows,\r\n        rowHeight: this.rowHeight,\r\n        rowDetailHeight: this.getDetailRowHeight,\r\n        groupRowHeight: this.groupRowHeight,\r\n        externalVirtual: this.scrollbarV && this.externalPaging,\r\n        rowCount: this.rowCount,\r\n        rowIndexes: this.rowIndexes,\r\n        rowExpansions: this.rowExpansions,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the index for the view port\r\n   */\r\n  getAdjustedViewPortIndex(): number {\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    // If the scroll bar is just below the row which is highlighted then make that as the\r\n    // first index.\r\n    const viewPortFirstRowIndex = this.indexes.first;\r\n\r\n    let offsetScroll;\r\n    if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n      offsetScroll = this.rowHeightsCache.query(viewPortFirstRowIndex);\r\n      return offsetScroll <= this.offsetY ? Math.max(0, viewPortFirstRowIndex - 1) : viewPortFirstRowIndex;\r\n    }\r\n    offsetScroll = this.rowHeight * viewPortFirstRowIndex;\r\n    return offsetScroll <= this.offsetY ? Math.max(0, viewPortFirstRowIndex - 1) : viewPortFirstRowIndex;\r\n    // return viewPortFirstRowIndex;\r\n  }\r\n\r\n  /**\r\n   * Toggle the Expansion of the row i.e. if the row is expanded then it will\r\n   * collapse and vice versa.   Note that the expanded status is stored as\r\n   * a part of the row object itself as we have to preserve the expanded row\r\n   * status in case of sorting and filtering of the row set.\r\n   */\r\n  toggleRowExpansion(rowContext: IRowContext): boolean {\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    // const viewPortFirstRowIndex = this.getAdjustedViewPortIndex();\r\n    let expanded = rowContext.expanded;\r\n\r\n    // If the rowDetailHeight is auto --> only in case of non-virtualized scroll\r\n    if (this.isUseRowHeightCache) {\r\n      const rowDetailHeight = this.getDetailRowHeight(rowContext.row) * (expanded ? -1 : 1);\r\n      this.rowHeightsCache.update(rowContext.rowIndex, rowDetailHeight);\r\n    }\r\n    // Update the toggled row and update thive nevere heights in the cache.\r\n    expanded = !expanded;\r\n    this.rowExpansions.set(rowContext.row, expanded);\r\n\r\n    this.$emit('detail-toggle', {\r\n      rows: [rowContext.row],\r\n      currentIndex: rowContext.rowIndex, // viewPortFirstRowIndex\r\n    });\r\n    return Boolean(expanded);\r\n  }\r\n\r\n  /**\r\n   * Expand/Collapse all the rows no matter what their state is.\r\n   */\r\n  toggleAllRows(expanded: boolean): void {\r\n    // clear prev expansions\r\n    this.rowExpansions.clear();\r\n\r\n    const rowExpanded = Boolean(expanded);\r\n\r\n    // Capture the row index of the first row that is visible on the viewport.\r\n    const viewPortFirstRowIndex = this.getAdjustedViewPortIndex();\r\n\r\n    for (const row of this.rows) {\r\n      this.rowExpansions.set(row, rowExpanded);\r\n    }\r\n\r\n    if (this.scrollbarV) {\r\n      // Refresh the full row heights cache since every row was affected.\r\n      this.recalcLayout();\r\n    }\r\n\r\n    // Emit all rows that have been expanded.\r\n    this.$emit('detail-toggle', {\r\n      rows: this.rows,\r\n      currentIndex: viewPortFirstRowIndex,\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n  onGroupToggle($event: any): void {\r\n    this.$emit('group-toggle', $event);\r\n    // if ($event.type === 'group') {\r\n    //   this.toggleRowExpansion($event.value);\r\n    // } else if ($event.type === 'all') {\r\n    //   this.toggleAllRows($event.value);\r\n    // }\r\n    // this.updateIndexes();\r\n    // this.updateRows(true);\r\n  }\r\n\r\n  /**\r\n   * Recalculates the table\r\n   */\r\n  recalcLayout(): void {\r\n    this.refreshRowHeightCache();\r\n    this.updateIndexes();\r\n    this.updateRows();\r\n  }\r\n\r\n  /**\r\n   * Tracks the column\r\n   */\r\n  columnTrackingFn(index: number, column: TableColumn): string {\r\n    return column.$$id;\r\n  }\r\n\r\n  /**\r\n   * Gets the row pinning group styles\r\n   */\r\n  // stylesByGroup(group: string) {\r\n  //   const widths = this.columnGroupWidths;\r\n  //   const offsetX = this.myOffsetX;\r\n\r\n  //   const styles = {\r\n  //     width: `${widths[group]}px`\r\n  //   };\r\n\r\n  //   if (group === 'left') {\r\n  //     translateXY(styles, offsetX, 0);\r\n  //   } else if (group === 'right') {\r\n  //     const bodyWidth = parseInt(this.innerWidth + '', 0);\r\n  //     const totalDiff = widths.total - bodyWidth;\r\n  //     const offsetDiff = totalDiff - offsetX;\r\n  //     const offset = offsetDiff * -1;\r\n  //     translateXY(styles, offset, 0);\r\n  //   }\r\n\r\n  //   return styles;\r\n  // }\r\n\r\n  initExpansions(group: IGroupedRows): void {\r\n    this.rowExpansions.set(group, true);\r\n    if (group.groups) {\r\n      for (const gr of group.groups) {\r\n        this.initExpansions(gr);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns if the row was expanded and set default row expansion when row expansion is empty\r\n   */\r\n  getRowExpanded(row: Record<string, unknown>): boolean {\r\n    // if (this.rowExpansions.size === 0 && this.groupExpansionDefault && this.groupedRows) {\r\n    //   for (const group of this.groupedRows) {\r\n    //     this.initExpansions(group);\r\n    //   }\r\n    // }\r\n    if (!this.rowDetail) {\r\n      return false;\r\n    }\r\n    const expanded = Boolean(this.rowExpansions.get(row));\r\n    return expanded;\r\n  }\r\n\r\n  /**\r\n   * Gets the row index given a row\r\n   */\r\n  getRowIndex(row: Record<string, unknown>): number {\r\n    return row ? this.rowIndexes.get(row) || 0 : 0;\r\n  }\r\n\r\n  onTreeAction(event: unknown): void {\r\n    this.$emit('tree-action', event);\r\n  }\r\n\r\n  isSelect(row: Record<string, unknown>): boolean {\r\n    if (!this.selectEnabled) {\r\n      return false;\r\n    }\r\n    return this.selector ? this.selector.getRowSelected(row) : false;\r\n  }\r\n\r\n  isChecked(row: Record<string, unknown>): boolean {\r\n    if (!this.checkEnabled) {\r\n      return false;\r\n    }\r\n    return this.selector ? this.selector.getRowChecked(row) : false;\r\n  }\r\n\r\n  onActivate(model: Model, index: number): void {\r\n    if (this.selector) {\r\n      this.selector.onActivate(model, this.indexes.first + index);\r\n    }\r\n  }\r\n\r\n  onRowRendered(row: Record<string, unknown>): void {\r\n    if (this.renderCounter === 0) {\r\n      // eslint-disable-next-line no-console\r\n      console.time('render');\r\n    }\r\n    this.renderCounter++;\r\n    const counter = this.renderCounter;\r\n    clearTimeout(this.renderId);\r\n    this.renderId = setTimeout(() => this.checkRenderFinish(counter), 100);\r\n  }\r\n\r\n  checkRenderFinish(counter: number): void {\r\n    if (counter === this.renderCounter) {\r\n      // eslint-disable-next-line no-console\r\n      console.timeEnd('render');\r\n      this.renderCounter = 0;\r\n      this.$emit('rendered');\r\n    } else {\r\n      counter = this.renderCounter;\r\n      clearTimeout(this.renderId);\r\n      this.renderId = setTimeout(() => this.checkRenderFinish(counter), 100);\r\n    }\r\n  }\r\n\r\n  buildStylesByGroup(): void {\r\n    this.groupStyles['left'] = this.calcStylesByGroup('left');\r\n    this.groupStyles['center'] = this.calcStylesByGroup('center');\r\n    this.groupStyles['right'] = this.calcStylesByGroup('right');\r\n  }\r\n\r\n  calcStylesByGroup(group: keyof IColumnsWidth): Record<string, string> {\r\n    const widths = this.columnGroupWidths;\r\n    const offsetX = this.myOffsetX;\r\n    const styles = {\r\n      width: `${widths[group]}px`,\r\n    };\r\n    if (group === 'left') {\r\n      translateXY(styles, offsetX, 0);\r\n    } else if (group === 'right') {\r\n      const bodyWidth = parseInt(this.innerWidth.toString(), 10);\r\n      const totalDiff = widths.total - bodyWidth;\r\n      const offsetDiff = totalDiff - offsetX;\r\n      const offset = (offsetDiff + this.scrollbarHelper.width) * -1;\r\n      translateXY(styles, offset, 0);\r\n    }\r\n    return styles;\r\n  }\r\n\r\n  getGroupStyles(colGroup: { type: 'left' | 'center' | 'right' }): Record<string, string | number> {\r\n    if (colGroup && colGroup.type) {\r\n      return {\r\n        width: `${this.columnGroupWidths.total}px`,\r\n        ...this.groupStyles[colGroup.type],\r\n      };\r\n    }\r\n    return {\r\n      width: `${this.columnGroupWidths.total}px`,\r\n    };\r\n  }\r\n\r\n  treeStatus(row: Record<string, unknown>): TreeStatus {\r\n    if (!row) {\r\n      return null;\r\n    }\r\n    return row.treeStatus as TreeStatus;\r\n  }\r\n\r\n  isRowVisible(row: Record<string, unknown>): boolean {\r\n    const rowContext = this.rowContexts.find(c => c.row === row);\r\n    if (!rowContext) {\r\n      return false;\r\n    }\r\n    let rowOffsetY;\r\n    if (this.isUseRowHeightCache || typeof this.rowHeight === 'function') {\r\n      rowOffsetY = this.rowHeightsCache.query(rowContext.rowIndex);\r\n    } else {\r\n      rowOffsetY = this.rowHeight * rowContext.rowIndex;\r\n    }\r\n    return rowOffsetY >= this.offsetY && rowOffsetY <= this.offsetY + this.bodyHeight;\r\n  }\r\n\r\n  get cellSlots(): () => Record<string, (arg?: Record<string, unknown>) => VNode[]> {\r\n    const result = {};\r\n    if (this.columns) {\r\n      this.columns.forEach(column => {\r\n        if (column.cellTemplate) {\r\n          result[column.prop] = column.cellTemplate;\r\n        }\r\n      });\r\n    }\r\n    return () => result;\r\n  }\r\n\r\n  onCellFocus($event: Event): void {\r\n    // eslint-disable-next-line no-console\r\n    console.log('onCellFocus($event)');\r\n  }\r\n\r\n  /**\r\n   * Toggle the expansion of the row\r\n   */\r\n  toggleExpandDetail(row: Record<string, unknown>): void {\r\n    const rowContext = this.rowContexts.find(c => c.row === row);\r\n    if (!rowContext) {\r\n      throw new Error('row context is not found');\r\n    }\r\n    rowContext.expanded = this.toggleRowExpansion(rowContext);\r\n    this.updateIndexes();\r\n    this.updateRows(true);\r\n    this.$emit('detail-toggle', {\r\n      type: 'row',\r\n      value: row,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Expand all the rows.\r\n   */\r\n  expandAllDetails(): void {\r\n    this.toggleAllRows(true);\r\n    this.$emit('detail-toggle', {\r\n      type: 'all',\r\n      value: true,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Collapse all the rows.\r\n   */\r\n  collapseAllDetails(): void {\r\n    this.toggleAllRows(false);\r\n    this.$emit('detail-toggle', {\r\n      type: 'all',\r\n      value: false,\r\n    });\r\n  }\r\n}\r\n","import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport VisibilityDirective from '../directives/visibility.directive';\r\nimport { DimensionsHelper } from '../services/dimensions-helper.service';\r\nimport { ScrollbarHelper } from '../services/scrollbar-helper.service';\r\nimport { ColumnMode, ContextmenuType, ISortEvent, ISortPropDir, SelectionType, SortType, TableColumn } from '../types';\r\nimport { CheckMode } from '../types/check.type';\r\nimport { IGroupedRows } from '../types/grouped-rows';\r\nimport {\r\n  adjustColumnWidths,\r\n  forceFillColumnWidths,\r\n  groupRowsByParents,\r\n  optionalGetterForProp,\r\n  setColumnDefaults,\r\n  setColumnsDefaults,\r\n  sortRows,\r\n  throttleable,\r\n} from '../utils';\r\nimport { isArrayEqual } from '../utils/equal.array';\r\nimport DataTableBodyCellComponent from './body/body-cell.component.vue';\r\nimport DataTableBody from './body/body.component';\r\nimport DataTableBodyComponent from './body/body.component.vue';\r\nimport DataTableColumnComponent from './columns/column.component';\r\nimport DataTableFooterComponent from './footer/footer.component';\r\n// import { DatatableGroupHeaderDirective } from './body/body-group-header.directive';\r\n// import { DataTableColumnDirective } from './columns';\r\n// import { DatatableRowDetailDirective } from './row-detail';\r\n// import { DatatableFooterDirective } from './footer';\r\nimport DataTableHeaderComponent from './header/header.component';\r\n\r\nVue.component('datatable-column', DataTableColumnComponent);\r\nVue.component('datatable-body-cell', DataTableBodyCellComponent);\r\n\r\ninterface IGroup {\r\n  title: string;\r\n  prop: string;\r\n  valueGetter?: (value: unknown) => string;\r\n}\r\n\r\nexport type TGroupByField = string | IGroup;\r\n\r\ntype TRowHeightFunc = (row: Record<string, unknown>, index?: number) => number;\r\n\r\n@Component({\r\n  directives: {\r\n    'v-visibility-observer': VisibilityDirective,\r\n  },\r\n  components: {\r\n    'datatable-header': DataTableHeaderComponent,\r\n    'datatable-body': DataTableBodyComponent,\r\n    'datatable-footer': DataTableFooterComponent,\r\n  },\r\n})\r\nexport default class DatatableComponent extends Vue {\r\n  @Prop({ default: false }) visibilityCheck: boolean;\r\n  @Prop({ default: 1000 }) visibilityCheckTimeout: number;\r\n  /**\r\n   * Rows that are displayed in the table.\r\n   */\r\n  @Prop() rows: Array<Record<string, unknown>>;\r\n  /**\r\n   * This attribute allows the user to set a grouped array in the following format:\r\n   *  [\r\n   *    {groupid=1} [\r\n   *      {id=1 name=\"test1\"},\r\n   *      {id=2 name=\"test2\"},\r\n   *      {id=3 name=\"test3\"}\r\n   *    ]},\r\n   *    {groupid=2>[\r\n   *      {id=4 name=\"test4\"},\r\n   *      {id=5 name=\"test5\"},\r\n   *      {id=6 name=\"test6\"}\r\n   *    ]}\r\n   *  ]\r\n   */\r\n  // @Prop() groupedRows: any[];\r\n  /**\r\n   * This attribute allows the user to set the names of the columns to group the data with\r\n   */\r\n  @Prop() groupRowsBy: Array<TGroupByField | Array<TGroupByField>>;\r\n  @Prop() columns: TableColumn[];\r\n  /**\r\n   * List of row objects that should be\r\n   * represented as selected in the grid.\r\n   * Default value: `[]`\r\n   */\r\n  @Prop({ type: Array, default: () => [] }) selected: Array<Record<string, unknown>>;\r\n  /**\r\n   * List of row objects that should be\r\n   * represented as checked in the grid.\r\n   * Default value: `[]`\r\n   */\r\n  @Prop({ type: Array, default: () => [] }) checked: Array<Record<string, unknown>>;\r\n  /**\r\n   * Enable vertical scrollbars\r\n   */\r\n  @Prop({ type: Boolean, default: false }) scrollbarV: boolean;\r\n  /**\r\n   * Enable horz scrollbars\r\n   */\r\n  @Prop({ type: Boolean, default: false }) scrollbarH: boolean;\r\n  /**\r\n   * The row height; which is necessary\r\n   * to calculate the height for the lazy rendering.\r\n   */\r\n  @Prop({ default: 'auto' }) rowHeight: TRowHeightFunc | number | string;\r\n  /**\r\n   * The group row height\r\n   */\r\n  @Prop() groupRowHeight: number | string;\r\n  /**\r\n   * The detail row height\r\n   */\r\n  @Prop() rowDetailHeight: number | string;\r\n  /**\r\n   * Type of column width distribution formula.\r\n   * Example: flex, force, standard\r\n   */\r\n  @Prop({ type: String, validator: value => ['standard', 'flex', 'force'].indexOf(value) !== -1 })\r\n  columnMode: string;\r\n  /**\r\n   * The minimum header height in pixels.\r\n   * Pass a falsey for no header\r\n   */\r\n  @Prop({ type: Number, default: 30 }) headerHeight: number;\r\n  /**\r\n   * The minimum footer height in pixels.\r\n   * Pass falsey for no footer\r\n   */\r\n  @Prop({ type: Number, default: 0 }) footerHeight: number;\r\n  /**\r\n   * If the table should use external paging\r\n   * otherwise its assumed that all data is preloaded.\r\n   */\r\n  @Prop({ type: Boolean, default: false }) externalPaging: boolean;\r\n  /**\r\n   * If the table should use external page switcher\r\n   */\r\n  @Prop({ type: Boolean, default: false }) externalPager: boolean;\r\n  /**\r\n   * If the table should use external sorting or\r\n   * the built-in basic sorting.\r\n   */\r\n  @Prop({ type: Boolean, default: false }) externalSorting: boolean;\r\n  /**\r\n   * The page size to be shown.\r\n   * Default value: `undefined`\r\n   */\r\n  @Prop() limit: number;\r\n  /**\r\n   * The total count of all rows.\r\n   * Default value: `0`\r\n   */\r\n  @Prop({ type: Number, default: 0 }) count: number;\r\n  /**\r\n   * The current offset ( page - 1 ) shown.\r\n   * Default value: `0`\r\n   */\r\n  @Prop({ type: Number, default: 0 }) offset: number;\r\n  /**\r\n   * Show the linear loading bar.\r\n   * Default value: `false`\r\n   */\r\n  @Prop({ type: Boolean, default: false }) loadingIndicator: boolean;\r\n  /**\r\n   * Type of row selection. Options are:\r\n   *\r\n   *  - `single`\r\n   *  - `multi`\r\n   *  - `checkbox`\r\n   *  - `multiClick`\r\n   *  - `cell`\r\n   *\r\n   * For no selection pass a `false`.\r\n   * Default value: `undefined`\r\n   */\r\n  @Prop() selectionType: SelectionType;\r\n  /**\r\n   * Type of row check type. Options are:\r\n   *\r\n   *  - `checkIsSelect`\r\n   *  - `checkNoSelect`\r\n   *\r\n   * Default value: `checkIsSelect`\r\n   */\r\n  @Prop({ default: CheckMode.checkIsSelect }) checkMode: CheckMode;\r\n  /**\r\n   * Enable/Disable ability to re-order columns\r\n   * by dragging them.\r\n   */\r\n  @Prop({ type: Boolean, default: true }) reorderable: boolean;\r\n  /**\r\n   * Swap columns on re-order columns or\r\n   * move them.\r\n   */\r\n  @Prop({ type: Boolean, default: false }) swapColumns: boolean;\r\n  /**\r\n   * The type of sorting\r\n   */\r\n  @Prop({ type: String, validator: value => ['single', 'multi'].indexOf(value) !== -1 }) sortType: string;\r\n  /**\r\n   * Array of sorted columns by property and type.\r\n   * Default value: `[]`\r\n   */\r\n  @Prop({ type: Array, default: () => [] }) sorts: ISortPropDir[];\r\n  /**\r\n   * Go to first page when sorting to see the newly sorted data\r\n   * Default value: true\r\n   */\r\n  @Prop({ default: true }) goToFirstAfterSort: boolean;\r\n  /**\r\n   * Css class overrides\r\n   */\r\n  @Prop({\r\n    type: Object,\r\n    default: () => ({\r\n      sortAscending: 'datatable-icon-up',\r\n      sortDescending: 'datatable-icon-down',\r\n      pagerLeftArrow: 'datatable-icon-left',\r\n      pagerRightArrow: 'datatable-icon-right',\r\n      pagerPrevious: 'datatable-icon-prev',\r\n      pagerNext: 'datatable-icon-skip',\r\n    }),\r\n  })\r\n  cssClasses: Record<string, unknown>;\r\n  /**\r\n   * Message overrides for localization\r\n   *\r\n   * emptyMessage     [default] = 'No data to display'\r\n   * totalMessage     [default] = 'total'\r\n   * selectedMessage  [default] = 'selected'\r\n   */\r\n  @Prop({\r\n    type: Object,\r\n    default: () => ({\r\n      emptyMessage: 'No data to display',\r\n      // Footer total message\r\n      totalMessage: 'total',\r\n      // Footer selected message\r\n      selectedMessage: 'selected',\r\n    }),\r\n  })\r\n  messages: Record<string, string>;\r\n  /**\r\n   * This will be used when displaying or selecting rows.\r\n   * when tracking/comparing them, we'll use the value of this fn,\r\n   *\r\n   * (`fn(x) === fn(y)` instead of `x === y`)\r\n   */\r\n  @Prop({ type: Function, default: (x: Record<string, unknown>) => x }) rowIdentity: (\r\n    x: Record<string, unknown>\r\n  ) => string | number;\r\n  /**\r\n   * Row specific classes.\r\n   * Similar implementation to ngClass.\r\n   *\r\n   *  [rowClass]=\"'first second'\"\r\n   *  [rowClass]=\"{ 'first': true, 'second': true, 'third': false }\"\r\n   */\r\n  @Prop() rowClass: (row: Record<string, unknown>, rowIndex: number) => string | string;\r\n  /**\r\n   * A boolean/function you can use to check whether you want\r\n   * to select a particular row based on a criteria. Example:\r\n   *\r\n   *    (selection) => {\r\n   *      return selection !== 'Ethel Price';\r\n   *    }\r\n   */\r\n  @Prop() selectCheck: any;\r\n  /**\r\n   * A function you can use to check whether you want\r\n   * to show the checkbox for a particular row based on a criteria. Example:\r\n   *\r\n   *    (row, column, value) => {\r\n   *      return row.name !== 'Ethel Price';\r\n   *    }\r\n   */\r\n  @Prop({ type: Function, default: null }) displayCheck: (\r\n    row: Record<string, unknown>,\r\n    column?: TableColumn,\r\n    value?: unknown\r\n  ) => boolean;\r\n  /**\r\n   * A boolean you can use to set the detault behaviour of rows and groups\r\n   * whether they will start expanded or not. If ommited the default is NOT expanded.\r\n   *\r\n   */\r\n  @Prop({ type: Boolean, default: false }) groupExpansionDefault: boolean;\r\n  /**\r\n   * Property to which you can use for custom tracking of rows.\r\n   * Example: 'name'\r\n   */\r\n  @Prop() trackByProp: string;\r\n  /**\r\n   * Property to which you can use for determining select all\r\n   * rows on current page or not.\r\n   *\r\n   * @type {boolean}\r\n   * @memberOf DatatableComponent\r\n   */\r\n  @Prop({ type: Boolean, default: false }) selectAllRowsOnPage: boolean;\r\n  /**\r\n   * A flag for row virtualization on / off\r\n   */\r\n  @Prop({ type: Boolean, default: true }) virtualization: boolean;\r\n  /**\r\n   * Tree from relation\r\n   */\r\n  @Prop() treeFromRelation: string;\r\n  /**\r\n   * Tree to relation\r\n   */\r\n  @Prop() treeToRelation: string;\r\n  /**\r\n   * Is the tree will be lazy loading\r\n   */\r\n  @Prop({ default: false }) lazyTree: boolean;\r\n  /**\r\n   * A flag for switching summary row on / off\r\n   */\r\n  @Prop({ type: Boolean, default: false }) summaryRow: boolean;\r\n  /**\r\n   * A height of summary row\r\n   */\r\n  @Prop({ default: 30 }) summaryHeight: number | string;\r\n  /**\r\n   * A property holds a summary row position: top/bottom\r\n   */\r\n  @Prop({ type: String, default: 'top' }) summaryPosition: string;\r\n\r\n  /**\r\n   * Reference to the body component for manually\r\n   * invoking functions on the body.\r\n   */\r\n  bodyComponent: DataTableBody;\r\n  /**\r\n   * Reference to the header component for manually\r\n   * invoking functions on the header.\r\n   *\r\n   * @private\r\n   * @type {DataTableHeaderComponent}\r\n   * @memberOf DatatableComponent\r\n   */\r\n  headerComponent: DataTableHeaderComponent;\r\n\r\n  resizeHandler: () => void;\r\n  resizeObserver?: ResizeObserver;\r\n\r\n  groupedRows: IGroupedRows[] = null;\r\n\r\n  innerWidth = 0;\r\n  pageSize = 0;\r\n  bodyHeight = 0;\r\n  rowCount = 0;\r\n  offsetX = 0;\r\n  internalRows: Array<Record<string, unknown>> = null;\r\n  initialRows: Array<Record<string, unknown>> = null;\r\n  internalColumns: TableColumn[] = null;\r\n  myColumnMode: ColumnMode = ColumnMode.standard;\r\n  mySortType: SortType = SortType.single;\r\n  innerOffset = 0; // page number after scrolling\r\n  mySelected = [];\r\n  myChecked = [];\r\n  renderTracking = false;\r\n  isVisible = false;\r\n\r\n  // non-reactive\r\n\r\n  rowDetail = false; // DatatableRowDetailDirective;\r\n  groupHeader = false; // DatatableGroupHeaderDirective;\r\n\r\n  groupHeaderSlot = null;\r\n  rowDetailSlot = null;\r\n  footerSlot = null;\r\n  isColumnsInited = false;\r\n  isColumnsInitedTimeoutId: any;\r\n\r\n  private readonly scrollbarHelper: ScrollbarHelper = new ScrollbarHelper();\r\n  private readonly dimensionsHelper: DimensionsHelper = new DimensionsHelper();\r\n  private needToCalculateDims = true;\r\n\r\n  @Watch('rows', { immediate: true }) onRowsChanged(val: Array<Record<string, unknown>>): void {\r\n    if (val) {\r\n      this.internalRows = [...val];\r\n    }\r\n    const treeFrom = optionalGetterForProp(this.treeFromRelation);\r\n    const treeTo = optionalGetterForProp(this.treeToRelation);\r\n    if (treeFrom && treeTo) {\r\n      this.initialRows = this.internalRows;\r\n    }\r\n\r\n    // auto sort on new updates\r\n    if (!this.externalSorting) {\r\n      this.sortInternalRows();\r\n    }\r\n\r\n    // auto group by parent on new update\r\n    this.internalRows = groupRowsByParents(this.internalRows, treeFrom, treeTo, this.lazyTree);\r\n    this.groupedRows = null;\r\n    if (this.rows && this.groupRowsBy) {\r\n      // this.groupedRows = this.groupArrayBy(this.rows, this.groupRowsBy);\r\n      this.groupedRows = this.groupArrayBy(this.rows, this.groupRowsBy, 0);\r\n      this.internalRows = this.processGroupedRows(this.groupedRows) as Array<Record<string, unknown>>;\r\n    }\r\n\r\n    // recalculate sizes/etc\r\n    if (this.$el) {\r\n      this.recalculate();\r\n    }\r\n  }\r\n\r\n  @Watch('groupRowsBy') onGroupRowsByChanged(\r\n    newVal: Array<TGroupByField | Array<TGroupByField>>,\r\n    oldVal: Array<TGroupByField | Array<TGroupByField>>\r\n  ): void {\r\n    if (isArrayEqual(newVal, oldVal)) {\r\n      return;\r\n    }\r\n    this.groupHeader = Boolean(this.groupRowsBy);\r\n    this.groupedRows = null;\r\n    if (this.groupRowsBy) {\r\n      this.groupedRows = this.groupArrayBy(this.rows, this.groupRowsBy, 0);\r\n      this.internalRows = this.processGroupedRows(this.groupedRows) as Array<Record<string, unknown>>;\r\n    } else {\r\n      this.internalRows = this.rows;\r\n    }\r\n    // auto sort on new updates\r\n    if (!this.externalSorting) {\r\n      this.sortInternalRows();\r\n    }\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * Columns to be displayed.\r\n   */\r\n  @Watch('columns', { immediate: true }) onColumnsChanged(newVal: TableColumn[]): void {\r\n    if (newVal) {\r\n      setColumnsDefaults(newVal, this);\r\n      this.internalColumns = [...newVal];\r\n      this.$nextTick(() => this.recalculateColumns());\r\n    }\r\n  }\r\n  /**\r\n   * The page size to be shown.\r\n   * Default value: `undefined`\r\n   */\r\n  @Watch('limit') onLimitChanged(): void {\r\n    // recalculate sizes/etc\r\n    this.recalculate();\r\n  }\r\n  /**\r\n   * The total count of all rows.\r\n   * Default value: `0`\r\n   */\r\n  @Watch('count') onCountChanged(): void {\r\n    // recalculate sizes/etc\r\n    this.recalculate();\r\n  }\r\n\r\n  @Watch('columnMode', { immediate: true }) onColumnModeChanged(): void {\r\n    this.myColumnMode = ColumnMode[this.columnMode] as ColumnMode;\r\n  }\r\n\r\n  @Watch('sortType', { immediate: true }) onSortTypeChanged(): void {\r\n    if (SortType[this.sortType]) {\r\n      this.mySortType = SortType[this.sortType] as SortType;\r\n    }\r\n  }\r\n\r\n  @Watch('offset', { immediate: true }) onOffsetChanged(): void {\r\n    if (this.innerOffset !== this.offset) {\r\n      this.innerOffset = this.offset;\r\n      if (this.pageSize && this.innerOffset >= 0) {\r\n        this.onFooterPage({ page: this.innerOffset + 1 });\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('pageSize') onPageSizeChanged(): void {\r\n    if (this.pageSize && this.innerOffset >= 0) {\r\n      this.$nextTick(() => this.onFooterPage({ page: this.innerOffset + 1 }));\r\n    }\r\n  }\r\n\r\n  @Watch('selected', { immediate: true }) onSelectedChanged(): void {\r\n    this.mySelected = this.selected;\r\n  }\r\n\r\n  @Watch('checked', { immediate: true }) onCheckedChanged(): void {\r\n    this.myChecked = this.checked;\r\n  }\r\n\r\n  @Watch('sorts') onSortsChanged(): void {\r\n    this.innerSortRows();\r\n  }\r\n\r\n  /**\r\n   * Window resize handler to update sizes.\r\n   */\r\n  @throttleable(5)\r\n  onWindowResize(): void {\r\n    this.recalculate();\r\n  }\r\n\r\n  created(): void {\r\n    this.groupHeader = Boolean(this.groupRowsBy);\r\n    if (this.$listeners.rendered) {\r\n      this.renderTracking = true;\r\n    }\r\n  }\r\n\r\n  beforeDestroy(): void {\r\n    if (this.resizeHandler) {\r\n      window.removeEventListener('resize', this.resizeHandler);\r\n    }\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.unobserve(this.$el);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hook that is called after data-bound\r\n   * properties of a directive are initialized.\r\n   */\r\n  mounted(): void {\r\n    this.bodyComponent = this.$refs.datatableBody as DataTableBody;\r\n    this.headerComponent = this.$refs.datatableHeader as DataTableHeaderComponent;\r\n    this.groupHeaderSlot = this.$scopedSlots.groupHeader;\r\n    this.rowDetailSlot = this.$scopedSlots.rowDetail;\r\n    this.footerSlot = this.$scopedSlots.footer;\r\n    this.rowDetail = Boolean(this.rowDetailSlot);\r\n\r\n    if (!this.externalSorting) {\r\n      this.sortInternalRows();\r\n    }\r\n    if ((window as Window).ResizeObserver) {\r\n      this.needToCalculateDims = false;\r\n      this.resizeObserver = new (window as Window).ResizeObserver(entries => {\r\n        let height = 0;\r\n        if (entries.length && entries[0].contentRect) {\r\n          this.innerWidth = Math.floor(entries[0].contentRect.width);\r\n          height = entries[0].contentRect.height;\r\n        } else {\r\n          height = this.$el.clientHeight;\r\n          this.innerWidth = this.$el.clientWidth;\r\n        }\r\n        if (this.scrollbarV) {\r\n          if (this.headerHeight) {\r\n            height = height - this.headerHeight;\r\n          }\r\n          if (this.footerHeight) {\r\n            height = height - this.footerHeight;\r\n          }\r\n          this.bodyHeight = height;\r\n        }\r\n        if (typeof requestAnimationFrame === 'undefined') {\r\n          this.recalculate();\r\n        } else {\r\n          requestAnimationFrame(() => {\r\n            this.recalculate();\r\n          });\r\n        }\r\n      });\r\n      this.resizeObserver.observe(this.$el);\r\n    } else {\r\n      this.resizeHandler = this.onWindowResize.bind(this) as () => void;\r\n      window.addEventListener('resize', this.resizeHandler);\r\n    }\r\n    const init = () => {\r\n      this.recalculate();\r\n      // emit page for virtual server-side kickoff\r\n      if (this.externalPaging && this.scrollbarV) {\r\n        this.$emit('page', {\r\n          count: this.count,\r\n          pageSize: this.pageSize,\r\n          limit: this.limit,\r\n          offset: this.innerOffset,\r\n        });\r\n      }\r\n    };\r\n    if (typeof requestAnimationFrame === 'undefined') {\r\n      init();\r\n    } else {\r\n      requestAnimationFrame(() => {\r\n        init();\r\n      });\r\n    }\r\n  }\r\n\r\n  get myRowHeight(): number | TRowHeightFunc {\r\n    if (typeof this.rowHeight === 'string') {\r\n      return this.rowHeight === 'auto' ? 50 : Number(this.rowHeight);\r\n    }\r\n    return this.rowHeight;\r\n  }\r\n\r\n  get myOffset(): number {\r\n    if (this.rowCount) {\r\n      return Math.max(Math.min(this.innerOffset, Math.ceil(this.rowCount / this.pageSize) - 1), 0);\r\n    }\r\n    return this.innerOffset;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied if the header height if fixed height.\r\n   */\r\n  get isFixedHeader(): boolean {\r\n    const headerHeight: number | string = this.headerHeight;\r\n    return typeof headerHeight === 'string' ? <string>headerHeight !== 'auto' : true;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to the root element if\r\n   * the row heights are fixed heights.\r\n   */\r\n  get isFixedRow(): boolean {\r\n    if (typeof this.rowHeight === 'function') {\r\n      return false;\r\n    }\r\n    return true;\r\n    // const rowHeight: number | string = this.rowHeight;\r\n    // return typeof rowHeight === 'string' ? rowHeight !== 'auto' : true;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element if\r\n   * vertical scrolling is enabled.\r\n   */\r\n  get isVertScroll(): boolean {\r\n    return this.scrollbarV;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element if\r\n   * virtualization is enabled.\r\n   */\r\n  get isVirtualized(): boolean {\r\n    return this.virtualization;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to the root element\r\n   * if the horziontal scrolling is enabled.\r\n   */\r\n  get isHorScroll(): boolean {\r\n    return this.scrollbarH;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root element is selectable.\r\n   */\r\n  get isSelectable(): boolean {\r\n    // eslint-disable-next-line no-undefined\r\n    return this.selectionType !== undefined;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root is checkbox selection.\r\n   */\r\n  get isCheckboxSelection(): boolean {\r\n    return this.selectionType === SelectionType.checkbox;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root if cell selection.\r\n   */\r\n  get isCellSelection(): boolean {\r\n    return this.selectionType === SelectionType.cell;\r\n  }\r\n\r\n  /**\r\n   * CSS class applied to root if single select.\r\n   */\r\n  get isSingleSelection(): boolean {\r\n    return this.selectionType === SelectionType.single;\r\n  }\r\n\r\n  get isSingleFocusSelection(): boolean {\r\n    return this.selectionType === SelectionType.singleFocus;\r\n  }\r\n\r\n  /**\r\n   * CSS class added to root element if mulit select\r\n   */\r\n  get isMultiSelection(): boolean {\r\n    return this.selectionType === SelectionType.multi;\r\n  }\r\n\r\n  /**\r\n   * CSS class added to root element if mulit click select\r\n   */\r\n  get isMultiClickSelection(): boolean {\r\n    return this.selectionType === SelectionType.multiClick;\r\n  }\r\n\r\n  get classObject(): Record<string, unknown> {\r\n    return {\r\n      'fixed-header': this.isFixedHeader,\r\n      'fixed-row': this.isFixedRow,\r\n      'scroll-vertical': this.isVertScroll,\r\n      virtualized: this.isVirtualized,\r\n      'scroll-horz': this.isHorScroll,\r\n      selectable: this.isSelectable,\r\n      'checkbox-selection': this.isCheckboxSelection,\r\n      'cell-selection': this.isCellSelection,\r\n      'single-selection': this.isSingleSelection,\r\n      'multi-selection': this.isMultiSelection,\r\n      'multi-click-selection': this.isMultiClickSelection,\r\n    };\r\n  }\r\n\r\n  get allRowsSelected(): boolean {\r\n    let arr = this.mySelected;\r\n    if (this.checkMode === CheckMode.checkNoSelect) {\r\n      arr = this.myChecked;\r\n    }\r\n    let allRowsSelected = this.rows && arr && arr.length === this.rows.length;\r\n\r\n    if (this.selectAllRowsOnPage && this.bodyComponent) {\r\n      const indexes: { first: number; last: number } = this.bodyComponent.indexes;\r\n      let rowsOnPage = this.rows.length;\r\n      if (this.limit && !this.scrollbarV && !this.virtualization) {\r\n        rowsOnPage = indexes.last - indexes.first;\r\n      }\r\n      allRowsSelected = arr.length === rowsOnPage;\r\n    }\r\n\r\n    return arr && this.rows && this.rows.length !== 0 && allRowsSelected;\r\n  }\r\n\r\n  get scrollbarWidth(): number {\r\n    return this.scrollbarHelper.width;\r\n  }\r\n\r\n  reset(): void {\r\n    this.bodyComponent.reset();\r\n  }\r\n\r\n  adjust(): void {\r\n    this.bodyHeight = -1;\r\n    setTimeout(() => {\r\n      this.recalculateDims();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Recalc's the sizes of the grid.\r\n   *\r\n   * Updated automatically on changes to:\r\n   *\r\n   *  - Columns\r\n   *  - Rows\r\n   *  - Paging related\r\n   *\r\n   * Also can be manually invoked or upon window resize.\r\n   */\r\n  recalculate(): void {\r\n    if (this.needToCalculateDims) {\r\n      // this.recalculatePages will be called in this.recalculateDims\r\n      this.recalculateDims();\r\n    } else {\r\n      this.recalculatePages();\r\n    }\r\n    this.recalculateColumns();\r\n  }\r\n\r\n  /**\r\n   * Recalulcates the column widths based on column width\r\n   * distribution mode and scrollbar offsets.\r\n   */\r\n  recalculateColumns(\r\n    columns: TableColumn[] = this.internalColumns,\r\n    forceIdx: number = -1,\r\n    allowBleed: boolean = this.scrollbarH\r\n  ): TableColumn[] | null {\r\n    if (!columns) {\r\n      return null;\r\n    }\r\n\r\n    let width = this.innerWidth;\r\n    if (this.scrollbarV) {\r\n      width = width - this.scrollbarHelper.width;\r\n    }\r\n\r\n    if (this.myColumnMode === ColumnMode.force) {\r\n      forceFillColumnWidths(columns, width, forceIdx, allowBleed);\r\n    } else if (this.myColumnMode === ColumnMode.flex) {\r\n      adjustColumnWidths(columns, width);\r\n    }\r\n    const hiddenColumns = columns.filter(col => col.hidden);\r\n    if (hiddenColumns.length && this.bodyComponent) {\r\n      this.bodyComponent.onInnerWidthChanged();\r\n    }\r\n    return columns;\r\n  }\r\n\r\n  /**\r\n   * Recalculates the dimensions of the table size.\r\n   * Internally calls the page size and row count calcs too.\r\n   *\r\n   */\r\n  recalculateDims(): void {\r\n    const dims = this.dimensionsHelper.getDimensions(this.$el);\r\n    this.innerWidth = Math.floor(dims.width);\r\n\r\n    if (this.scrollbarV) {\r\n      let height = dims.height;\r\n      if (this.headerHeight) {\r\n        height = height - this.headerHeight;\r\n      }\r\n      if (this.footerHeight) {\r\n        height = height - this.footerHeight;\r\n      }\r\n      this.bodyHeight = height;\r\n    }\r\n    this.recalculatePages();\r\n  }\r\n\r\n  /**\r\n   * Recalculates the pages after a update.\r\n   */\r\n  recalculatePages(): void {\r\n    this.pageSize = this.calcPageSize();\r\n    this.rowCount = this.calcRowCount();\r\n    this.$emit('row-count', this.rowCount);\r\n  }\r\n\r\n  /**\r\n   * Body triggered a page event.\r\n   */\r\n  onBodyPage({ offset }: { offset: number }): void {\r\n    // Avoid pagination caming from body events like scroll when the table\r\n    // has no virtualization and the external paging is enable.\r\n    // This means, let's the developer handle pagination by my him(her) self\r\n    if (this.externalPaging && !this.virtualization) {\r\n      return;\r\n    }\r\n    if (this.innerOffset === offset) {\r\n      return;\r\n    }\r\n    this.innerOffset = offset;\r\n    this.$emit('page', {\r\n      count: this.count,\r\n      pageSize: this.pageSize,\r\n      limit: this.limit,\r\n      offset: this.innerOffset,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The body triggered a scroll event.\r\n   */\r\n  onBodyScroll(event: MouseEvent): void {\r\n    this.offsetX = event.offsetX;\r\n    // this.$emit('offsetX', event.offsetX);\r\n    this.$emit('scroll', event);\r\n  }\r\n\r\n  /**\r\n   * The footer triggered a page event.\r\n   */\r\n  onFooterPage(event: { page: number }): void {\r\n    this.innerOffset = event.page - 1;\r\n    if (this.bodyComponent) {\r\n      this.bodyComponent.updateOffsetY(this.innerOffset, true);\r\n    }\r\n\r\n    this.$emit('page', {\r\n      count: this.count,\r\n      pageSize: this.pageSize,\r\n      limit: this.limit,\r\n      offset: this.innerOffset,\r\n    });\r\n\r\n    if (this.selectAllRowsOnPage && !this.scrollbarV && this.limit) {\r\n      this.mySelected = [];\r\n      this.$emit('select', {\r\n        selected: this.mySelected,\r\n      });\r\n    }\r\n  }\r\n\r\n  onVisible(visible: boolean): void {\r\n    if (this.isVisible !== visible) {\r\n      this.isVisible = visible;\r\n      if (this.isVisible) {\r\n        this.recalculate();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Recalculates the sizes of the page\r\n   */\r\n  calcPageSize(val: Array<Record<string, unknown>> = this.rows): number {\r\n    // Keep the page size constant even if the row has been expanded.\r\n    // This is because an expanded row is still considered to be a child of\r\n    // the original row.  Hence calculation would use rowHeight only.\r\n    if (this.scrollbarV && this.virtualization) {\r\n      let rowHeight = 50;\r\n      if (typeof this.rowHeight === 'number') {\r\n        rowHeight = this.rowHeight;\r\n      }\r\n      const size = Math.ceil(this.bodyHeight / rowHeight);\r\n      return Math.max(size, 0);\r\n    }\r\n\r\n    // if limit is passed, we are paging\r\n    // eslint-disable-next-line no-undefined\r\n    if (this.limit !== undefined && this.limit !== null) {\r\n      return Number(this.limit);\r\n    }\r\n\r\n    // otherwise use row length\r\n    if (val) {\r\n      return val.length;\r\n    }\r\n\r\n    // other empty :(\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Calculates the row count.\r\n   */\r\n  calcRowCount(val: Array<Record<string, unknown>> = this.rows): number {\r\n    if (!this.externalPaging) {\r\n      if (!val) {\r\n        return 0;\r\n      }\r\n\r\n      if (this.groupRowsBy) {\r\n        return this.internalRows.length;\r\n      }\r\n      if (this.treeFromRelation !== null && this.treeToRelation !== null) {\r\n        return this.internalRows.length;\r\n      }\r\n      return val.length;\r\n    }\r\n    return this.count;\r\n  }\r\n\r\n  /**\r\n   * The header triggered a contextmenu event.\r\n   */\r\n  onColumnContextmenu({ event, column }: { event: MouseEvent; column: TableColumn }): void {\r\n    this.$emit('tableContextmenu', { event, type: ContextmenuType.header, content: column });\r\n  }\r\n\r\n  /**\r\n   * The body triggered a contextmenu event.\r\n   */\r\n  onRowContextmenu({ event, row }: { event: MouseEvent; row: Record<string, unknown> }): void {\r\n    this.$emit('tableContextmenu', { event, type: ContextmenuType.body, content: row });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column resize event.\r\n   */\r\n  onColumnResize({ column, newValue }: { column: TableColumn; newValue: number }): void {\r\n    /* Safari/iOS 10.2 workaround */\r\n    // eslint-disable-next-line no-undefined\r\n    if (column === undefined) {\r\n      return;\r\n    }\r\n\r\n    let idx: number;\r\n    this.internalColumns.map((c, i) => {\r\n      if (c.$$id === column.$$id) {\r\n        idx = i;\r\n        c.width = newValue;\r\n        c.canAutoResize = false;\r\n\r\n        // set this so we can force the column\r\n        // width distribution to be to this value\r\n        c.$$oldWidth = newValue;\r\n      }\r\n\r\n      return c;\r\n    });\r\n\r\n    this.recalculateColumns(this.internalColumns, idx);\r\n\r\n    this.$emit('resize', {\r\n      column,\r\n      newValue,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column re-order event.\r\n   */\r\n  onColumnReorder({ column, newValue, prevValue }: { column: TableColumn; newValue: number; prevValue: number }): void {\r\n    const cols = [...this.internalColumns];\r\n\r\n    if (this.swapColumns) {\r\n      const prevCol = cols[newValue];\r\n      if (column.$$id === prevCol.$$id) {\r\n        return;\r\n      }\r\n      cols[newValue] = column;\r\n      cols[prevValue] = prevCol;\r\n    } else if (newValue > prevValue) {\r\n      const movedCol = cols[prevValue];\r\n      for (let i = prevValue; i < newValue; i++) {\r\n        cols[i] = cols[i + 1];\r\n      }\r\n      cols[newValue] = movedCol;\r\n    } else {\r\n      const movedCol = cols[prevValue];\r\n      for (let i = prevValue; i > newValue; i--) {\r\n        cols[i] = cols[i - 1];\r\n      }\r\n      cols[newValue] = movedCol;\r\n    }\r\n\r\n    this.internalColumns = cols;\r\n\r\n    this.$emit('reorder', {\r\n      column,\r\n      newValue,\r\n      prevValue,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * The header triggered a column sort event.\r\n   */\r\n  onColumnSort(event: ISortEvent): void {\r\n    // clean all checked rows\r\n    if (this.selectAllRowsOnPage) {\r\n      this.myChecked = [];\r\n      this.$emit('check', {\r\n        checked: this.myChecked,\r\n      });\r\n    }\r\n\r\n    // this.mySorts = event.sorts;\r\n    if (Array.isArray(this.sorts) && Array.isArray(event.sorts)) {\r\n      this.sorts.length = 0;\r\n      event.sorts.forEach(item => this.sorts.push(item));\r\n      if (this.sorts.length === 0) {\r\n        this.sorts.push({ dir: null, prop: null });\r\n      }\r\n    }\r\n\r\n    // let rows = this.internalRows;\r\n    this.innerSortRows();\r\n\r\n    // Go to first page when sorting to see the newly sorted data\r\n    if (this.goToFirstAfterSort) {\r\n      this.innerOffset = 0;\r\n    }\r\n    this.bodyComponent.updateOffsetY(this.myOffset, true);\r\n    this.$emit('sort', { ...event, sorts: event?.sorts?.filter(s => s.prop) });\r\n  }\r\n\r\n  /**\r\n   * Toggle all row selection\r\n   */\r\n  onHeaderSelect(isChecked: boolean): void {\r\n    let evName = 'select';\r\n    if (this.selectAllRowsOnPage) {\r\n      // before we splice, check if we currently have all selected\r\n      const first = this.bodyComponent.indexes.first;\r\n      const last = this.bodyComponent.indexes.last;\r\n      if (this.checkMode === CheckMode.checkIsSelect) {\r\n        const allSelected = this.mySelected.length === last - first;\r\n        // remove all existing either way\r\n        this.mySelected = [];\r\n        // do the opposite here\r\n        if (!allSelected) {\r\n          this.mySelected.push(...this.internalRows.slice(first, last));\r\n        }\r\n      } else {\r\n        evName = 'check';\r\n        let allChecked = this.myChecked.length === last - first;\r\n        if (this.scrollbarV && this.virtualization && !this.limit) {\r\n          allChecked = this.myChecked.length === this.internalRows.length;\r\n        }\r\n        // remove all existing either way\r\n        this.myChecked = [];\r\n        // do the opposite here\r\n        if (isChecked && !allChecked) {\r\n          if (this.scrollbarV && this.virtualization) {\r\n            this.myChecked.push(...this.internalRows);\r\n          } else {\r\n            this.myChecked.push(...this.internalRows.slice(first, last));\r\n          }\r\n        }\r\n      }\r\n    } else if (this.checkMode === CheckMode.checkIsSelect) {\r\n      // before we splice, chk if we currently have all selected\r\n      const allSelected = this.mySelected.length === this.rows.length;\r\n      // remove all existing either way\r\n      this.mySelected = [];\r\n      // do the opposite here\r\n      if (!allSelected) {\r\n        this.mySelected.push(...this.rows);\r\n      }\r\n    } else {\r\n      const allChecked = this.myChecked.length === this.rows.length;\r\n      this.myChecked = [];\r\n      if (!allChecked) {\r\n        this.myChecked.push(...this.rows);\r\n      }\r\n    }\r\n\r\n    this.$emit(evName, {\r\n      selected: this.mySelected,\r\n      checked: this.myChecked,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * A row was selected from body\r\n   */\r\n  onBodySelect(event: Event): void {\r\n    this.$emit('select', event);\r\n  }\r\n\r\n  /**\r\n   * A row was checked from body\r\n   */\r\n  onBodyCheck(event: Event): void {\r\n    this.$emit('check', event);\r\n  }\r\n\r\n  onGroupToggle(event: { value: Record<string, unknown> }): void {\r\n    event.value.__expanded = !event.value.__expanded;\r\n    this.internalRows = this.processGroupedRows(this.groupedRows) as Array<Record<string, unknown>>;\r\n    this.recalculate();\r\n  }\r\n\r\n  /**\r\n   * A row was expanded or collapsed for tree\r\n   */\r\n  onTreeAction(event: { row: Record<string, unknown> }): void {\r\n    const row = event.row;\r\n    // TODO: For duplicated items this will not work\r\n    const rowIndex = this.rows.findIndex(r => r[this.treeToRelation] === event.row[this.treeToRelation]);\r\n    this.$emit('tree-action', { row, rowIndex });\r\n  }\r\n\r\n  onColumnInsert(column: TableColumn): void {\r\n    setColumnDefaults(column, this);\r\n    if (!this.internalColumns) {\r\n      this.internalColumns = [column];\r\n    } else {\r\n      this.internalColumns = [...this.internalColumns, column];\r\n    }\r\n    // if (!this.internalColumns) {\r\n    //   setColumnDefaults(column, this);\r\n    //   this.internalColumns = [column];\r\n    // }\r\n    // const colIndex = this.internalColumns.findIndex(c => {\r\n    //   if (column.prop) {\r\n    //     return c.prop === column.prop;\r\n    //   } else {\r\n    //     return c.name === column.name;\r\n    //   }\r\n    // });\r\n    // if (colIndex < 0) {\r\n    //   setColumnDefaults(column, this);\r\n    //   this.internalColumns = [...this.internalColumns, column];\r\n    // } else {\r\n    //   const col = this.internalColumns[colIndex];\r\n    //   this.$set(col, 'headerTemplate', column.headerTemplate);\r\n    //   this.$set(col, 'cellTemplate', column.cellTemplate);\r\n    // }\r\n    if (this.isVisible) {\r\n      this.recalculateColumns();\r\n    }\r\n    clearTimeout(this.isColumnsInitedTimeoutId);\r\n    this.isColumnsInitedTimeoutId = setTimeout(() => (this.isColumnsInited = true), 50);\r\n  }\r\n\r\n  onColumnRemoved(column: TableColumn): void {\r\n    const colIndex = this.internalColumns.findIndex(c => c.name === column.name);\r\n    const cols = [...this.internalColumns];\r\n    cols.splice(colIndex, 1);\r\n    this.internalColumns = [...cols];\r\n    this.recalculateColumns();\r\n  }\r\n\r\n  onColumnChangeVisible(column: TableColumn): void {\r\n    // we have to allow the cell's element to set it's width\r\n    setTimeout(() => this.recalculateColumns(), 100);\r\n  }\r\n\r\n  /**\r\n   * listen for changes to input bindings of all DataTableColumnDirective and\r\n   * trigger the columnTemplates.changes observable to emit\r\n   */\r\n  // todo\r\n  // private listenForColumnInputChanges(): void {\r\n  //   this._subscriptions.push(this.columnChangesService\r\n  //     .columnInputChanges$\r\n  //     .subscribe(() => {\r\n  //       if (this.columnTemplates) {\r\n  //         this.columnTemplates.notifyOnChanges();\r\n  //       }\r\n  //     }));\r\n  // }\r\n\r\n  /**\r\n   * Toggle the expansion of the row\r\n   */\r\n  toggleExpandDetail(row: Record<string, unknown>): void {\r\n    this.bodyComponent.toggleExpandDetail(row);\r\n    this.$emit('detail-toggle', {\r\n      type: 'row',\r\n      value: row,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Expand all the rows.\r\n   */\r\n  expandAllDetails(): void {\r\n    this.bodyComponent.expandAllDetails();\r\n    this.$emit('detail-toggle', {\r\n      type: 'all',\r\n      value: true,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Collapse all the rows.\r\n   */\r\n  collapseAllDetails(): void {\r\n    this.bodyComponent.collapseAllDetails();\r\n    this.$emit('detail-toggle', {\r\n      type: 'all',\r\n      value: false,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Is the row visible in the current page\r\n   */\r\n  isRowVisible(row: Record<string, unknown>): boolean {\r\n    return this.bodyComponent?.isRowVisible(row);\r\n  }\r\n\r\n  private innerSortRows(): void {\r\n    const treeFrom = optionalGetterForProp(this.treeFromRelation);\r\n    const treeTo = optionalGetterForProp(this.treeToRelation);\r\n    if (treeFrom && treeTo) {\r\n      this.internalRows = this.initialRows;\r\n    }\r\n\r\n    // this could be optimized better since it will resort\r\n    // the rows again on the 'push' detection...\r\n    if (this.externalSorting === false) {\r\n      // don't use normal setter so we don't resort\r\n      this.sortInternalRows();\r\n    }\r\n\r\n    // auto group by parent on new update\r\n    this.internalRows = groupRowsByParents(this.internalRows, treeFrom, treeTo, this.lazyTree);\r\n  }\r\n\r\n  /**\r\n   * Creates a map with the data grouped by the user choice of grouping index\r\n   *\r\n   * @param originalArray the original array passed via parameter\r\n   * @param groupByIndex  the index of the column to group the data by\r\n   */\r\n  private groupArrayBy(\r\n    originalArray: Record<string, unknown>[],\r\n    groupRowsBy: Array<TGroupByField | Array<TGroupByField>>,\r\n    level: number = 0\r\n  ): IGroupedRows[] {\r\n    let groupBy: Array<TGroupByField | Array<TGroupByField>> | TGroupByField | Array<TGroupByField> = groupRowsBy;\r\n    if (Array.isArray(groupRowsBy)) {\r\n      groupBy = groupRowsBy[level];\r\n    }\r\n\r\n    // create a map to hold groups with their corresponding results\r\n    const map = new Map<string, Record<string, string>[]>();\r\n\r\n    const getValue = (row: Record<string, string>, groupDescr: TGroupByField): string => {\r\n      if (typeof groupDescr === 'string') {\r\n        return row[groupDescr];\r\n      }\r\n      if ('prop' in groupDescr) {\r\n        return groupDescr.valueGetter ? groupDescr.valueGetter(row[groupDescr.prop]) : row[groupDescr.prop];\r\n      }\r\n    };\r\n\r\n    const getKey = (\r\n      row: Record<string, string>,\r\n      groupByArr: Array<TGroupByField | Array<TGroupByField>> | TGroupByField\r\n    ): string => {\r\n      if (!Array.isArray(groupByArr)) {\r\n        return getValue(row, groupByArr);\r\n      }\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n      return groupByArr.reduce((key, groupDescr) => {\r\n        let res = null;\r\n        if (Array.isArray(groupDescr)) {\r\n          return getKey(row, groupDescr);\r\n        }\r\n        res = getValue(row, groupDescr);\r\n        if (!res) {\r\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n          return res;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        return key ? `${key}^^${res}` : `${res}`;\r\n      }, '');\r\n    };\r\n\r\n    const itemsToRemove: Record<string, string>[] = [];\r\n    originalArray.forEach((item: Record<string, string>) => {\r\n      const key = getKey(item, groupBy);\r\n      // eslint-disable-next-line no-undefined\r\n      if (key !== undefined || key !== null) {\r\n        itemsToRemove.push(item);\r\n        if (!map.has(key)) {\r\n          map.set(key, [item]);\r\n        } else {\r\n          map.get(key).push(item);\r\n        }\r\n      }\r\n    });\r\n    if (level > 0 && itemsToRemove.length) {\r\n      itemsToRemove.forEach(item => {\r\n        const i = originalArray.indexOf(item);\r\n        if (i >= 0) {\r\n          originalArray.splice(i, 1);\r\n        }\r\n      });\r\n    }\r\n\r\n    const keysDescr = [];\r\n    if (Array.isArray(groupBy)) {\r\n      groupBy.forEach(prop => {\r\n        const title = this.getGroupTitle(prop);\r\n        keysDescr.push({ title, prop });\r\n      });\r\n    } else {\r\n      const title = this.getGroupTitle(groupBy);\r\n      keysDescr.push({ title, prop: groupBy });\r\n    }\r\n    // convert map back to a simple array of objects\r\n    const result = Array.from(map, x => this.addGroup(x[0], x[1], level, keysDescr));\r\n    if (Array.isArray(groupRowsBy) && level < groupRowsBy.length - 1) {\r\n      result.forEach(item => {\r\n        item.groups = this.groupArrayBy(item.rows, groupRowsBy, level + 1);\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private addGroup(\r\n    key: string,\r\n    value: Record<string, unknown>[],\r\n    level1: number,\r\n    keysDescr: Array<{ title: string; prop: string }>\r\n  ): IGroupedRows {\r\n    const keys = key ? key.toString().split('^^') : null;\r\n    const keysObj: { title: string; prop: string; value: string }[] = [];\r\n    keysDescr.forEach((descr, index) => {\r\n      keysObj.push({ title: descr.title, prop: descr.prop, value: keys && keys.length > index ? keys[index] : '' });\r\n    });\r\n    return {\r\n      key,\r\n      rows: value,\r\n      level: level1,\r\n      keys: keysObj,\r\n      __expanded: true,\r\n      __isGroup: true,\r\n    };\r\n  }\r\n\r\n  private getGroupTitle(prop: string | { title: string; prop: string }): string {\r\n    let title = prop;\r\n    if (typeof prop === 'string') {\r\n      const column = this.columns && this.columns.find(c => c.prop === prop);\r\n      title = column ? column.name : prop;\r\n    } else if ('title' in prop) {\r\n      title = prop.title;\r\n    }\r\n    return <string>title;\r\n  }\r\n\r\n  private sortInternalRows(): void {\r\n    if (this.groupedRows) {\r\n      this.groupedRows = this.sortGroupedRows(this.groupedRows);\r\n      this.internalRows = this.processGroupedRows(this.groupedRows) as Array<Record<string, unknown>>;\r\n    } else {\r\n      this.internalRows = sortRows(this.internalRows, this.internalColumns, this.sorts);\r\n    }\r\n  }\r\n\r\n  private sortGroupedRows(groupedRows: IGroupedRows[]): IGroupedRows[] {\r\n    const rows = [];\r\n    groupedRows.forEach(gr => {\r\n      const row = { __group: gr };\r\n      gr.keys.forEach(keyDescr => {\r\n        row[keyDescr.prop] = keyDescr.value;\r\n      });\r\n      rows.push(row);\r\n      if (gr.groups && gr.groups.length) {\r\n        gr.groups = this.sortGroupedRows(gr.groups);\r\n      }\r\n      if (gr.rows && gr.rows) {\r\n        gr.rows = sortRows(gr.rows, this.internalColumns, this.sorts);\r\n      }\r\n    });\r\n    const sortedRows = sortRows(rows, this.internalColumns, this.sorts);\r\n    const result = sortedRows.map(r => r.__group);\r\n    return result as IGroupedRows[];\r\n  }\r\n\r\n  private addRow(group: IGroupedRows, rows: Array<IGroupedRows | Record<string, unknown>>): void {\r\n    // (group as any).__isGroup = true;\r\n    // group.__expanded = true;\r\n    rows.push(group);\r\n    if (group.rows && group.__expanded) {\r\n      group.rows.forEach(r => {\r\n        rows.push(r);\r\n      });\r\n    }\r\n    if (group.groups && group.__expanded) {\r\n      group.groups.forEach(gr => {\r\n        this.addRow(gr, rows);\r\n      });\r\n    }\r\n  }\r\n\r\n  private processGroupedRows(groupedRows: IGroupedRows[]): Array<IGroupedRows | Record<string, unknown>> {\r\n    const rows: Array<IGroupedRows | Record<string, unknown>> = [];\r\n    if (groupedRows && groupedRows.length) {\r\n      // creates a new array with the data grouped\r\n      groupedRows.forEach(g => {\r\n        this.addRow(g, rows);\r\n      });\r\n    }\r\n    return rows;\r\n  }\r\n}\r\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--2-oneOf-1-2!./datatable.component.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"24f3cf14\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--2-oneOf-1-2!./datatable.component.scss?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--2-oneOf-1-2!./datatable.component.scss?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","var render = function() {\r\n  var _vm = this\r\n  var _h = _vm.$createElement\r\n  var _c = _vm._self._c || _h\r\n  return _c(\r\n    \"div\",\r\n    {\r\n      directives: [\r\n        {\r\n          name: \"show\",\r\n          rawName: \"v-show\",\r\n          value: _vm.column.visible,\r\n          expression: \"column.visible\"\r\n        }\r\n      ],\r\n      staticClass: \"datatable-body-cell\",\r\n      class: _vm.cssClasses,\r\n      style: _vm.styles,\r\n      attrs: {\r\n        id: _vm.column.prop + \"-\" + _vm.column.$$id,\r\n        tabindex: _vm.tabIndex\r\n      },\r\n      on: {\r\n        dblclick: _vm.onDblClick,\r\n        click: _vm.onClick,\r\n        keydown: _vm.onKeyDown,\r\n        mouseenter: _vm.onMouseEnter,\r\n        focus: _vm.onFocus,\r\n        blur: _vm.onBlur\r\n      }\r\n    },\r\n    [\r\n      _c(\r\n        \"div\",\r\n        {\r\n          staticClass: \"datatable-body-cell-label\",\r\n          style: _vm.column.isTreeColumn ? _vm.marginCellStyle : null\r\n        },\r\n        [\r\n          _vm.isCheckboxable\r\n            ? _c(\"label\", { staticClass: \"datatable-checkbox\" }, [\r\n                _c(\"input\", {\r\n                  attrs: { type: \"checkbox\" },\r\n                  domProps: { checked: _vm.rowContext.isChecked },\r\n                  on: { click: _vm.onCheckboxChange }\r\n                })\r\n              ])\r\n            : _vm._e(),\r\n          _vm._v(\" \"),\r\n          _vm.column.isTreeColumn\r\n            ? [\r\n                !_vm.column.treeToggleTemplate\r\n                  ? _c(\r\n                      \"button\",\r\n                      {\r\n                        staticClass: \"datatable-tree-button\",\r\n                        attrs: {\r\n                          disabled: _vm.rowContext.treeStatus === \"disabled\"\r\n                        },\r\n                        on: { click: _vm.onTreeAction }\r\n                      },\r\n                      [\r\n                        _c(\"span\", [\r\n                          _vm.rowContext.row.treeStatus === \"loading\"\r\n                            ? _c(\"i\", {\r\n                                staticClass: \"icon datatable-icon-collapse\"\r\n                              })\r\n                            : _vm.rowContext.treeStatus === \"collapsed\"\r\n                            ? _c(\"i\", {\r\n                                staticClass: \"icon datatable-icon-right\"\r\n                              })\r\n                            : _vm.rowContext.treeStatus === \"expanded\"\r\n                            ? _c(\"i\", {\r\n                                staticClass: \"icon datatable-icon-down\"\r\n                              })\r\n                            : _c(\"i\", {\r\n                                staticClass:\r\n                                  \"icon icon-disabled datatable-icon-down\"\r\n                              })\r\n                        ])\r\n                      ]\r\n                    )\r\n                  : _vm._e(),\r\n                _vm._v(\" \"),\r\n                _vm._t(\"tree-toggle\")\r\n              ]\r\n            : _vm._e(),\r\n          _vm._v(\" \"),\r\n          _vm._t(\r\n            \"default\",\r\n            [\r\n              _c(\"span\", {\r\n                attrs: { title: _vm.sanitizedValue },\r\n                domProps: { innerHTML: _vm._s(_vm.value) }\r\n              })\r\n            ],\r\n            null,\r\n            {\r\n              row: _vm.rowContext.row ? _vm.rowContext.row : {},\r\n              column: _vm.column,\r\n              rowIndex: _vm.rowContext.rowIndex,\r\n              group: _vm.rowContext.group,\r\n              expanded: _vm.rowContext.expanded,\r\n              value: _vm.value\r\n            }\r\n          )\r\n        ],\r\n        2\r\n      )\r\n    ]\r\n  )\r\n}\r\nvar staticRenderFns = []\r\nrender._withStripped = true\r\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-cell.component.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-cell.component.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./body-cell.component.html?vue&type=template&id=48c40f9f&\"\nimport script from \"./body-cell.component.ts?vue&type=script&lang=js&\"\nexport * from \"./body-cell.component.ts?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Work\\\\vue-table\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('48c40f9f')) {\n      api.createRecord('48c40f9f', component.options)\n    } else {\n      api.reload('48c40f9f', component.options)\n    }\n    module.hot.accept(\"./body-cell.component.html?vue&type=template&id=48c40f9f&\", function () {\n      api.rerender('48c40f9f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/body/body-cell.component.vue\"\nexport default component.exports","import { TGroupByField } from 'components/datatable.component';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { IGroupedRows } from '../../types/grouped-rows';\r\n\r\n@Component({\r\n  template: `\r\n    <div\r\n      :class=\"{ 'datatable-icon-right': !expanded, 'datatable-icon-down': expanded }\"\r\n      :style=\"styles\"\r\n      title=\"Expand/Collapse Group\"\r\n      @click=\"toggleExpandGroup\"\r\n    >\r\n      <slot name=\"groupHeader\" v-bind=\"{ group: group, expanded: expanded, level: groupLevel, groupBy: groupBy }\">\r\n        <span\r\n          ><b>{{ groupTitle }}</b></span\r\n        >\r\n      </slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableBodyGroupHeaderComponent extends Vue {\r\n  @Prop({ default: 0 }) rowHeight: number | ((group?: any, index?: number) => number);\r\n  @Prop() group: IGroupedRows;\r\n  @Prop() expanded: boolean;\r\n  @Prop() groupHeaderSlot: (obj: Record<string, unknown>) => VNode[];\r\n  @Prop() groupLevel: number;\r\n  @Prop() groupRowsBy: Array<TGroupByField | Array<TGroupByField>>;\r\n\r\n  created(): void {\r\n    if (this.groupHeaderSlot) {\r\n      this.$slots.groupHeader = this.groupHeaderSlot({\r\n        group: this.group,\r\n        expanded: this.expanded,\r\n        level: this.groupLevel,\r\n        groupBy: this.groupBy,\r\n      });\r\n    }\r\n  }\r\n\r\n  beforeUpdate(): void {\r\n    if (this.groupHeaderSlot) {\r\n      this.$slots.groupHeader = this.groupHeaderSlot({\r\n        group: this.group,\r\n        expanded: this.expanded,\r\n        level: this.groupLevel,\r\n        groupBy: this.groupBy,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle the expansion of a group\r\n   */\r\n  toggleExpandGroup(): void {\r\n    this.$emit('group-toggle', {\r\n      type: 'group',\r\n      value: this.group,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Expand all groups\r\n   */\r\n  expandAllGroups(): void {\r\n    this.$emit('group-toggle', {\r\n      type: 'all',\r\n      value: true,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Collapse all groups\r\n   */\r\n  collapseAllGroups(): void {\r\n    this.$emit('group-toggle', {\r\n      type: 'all',\r\n      value: false,\r\n    });\r\n  }\r\n\r\n  get groupTitle(): string {\r\n    let result = '';\r\n    if (this.group && this.group.keys) {\r\n      this.group.keys.forEach(gr => {\r\n        if (!result) {\r\n          result += `${gr.title} - ${gr.value}`;\r\n        } else {\r\n          result += `; ${gr.title} - ${gr.value}`;\r\n        }\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  get styles(): Record<string, string> {\r\n    return {\r\n      'padding-left': this.groupLevel ? `${this.groupLevel * 10}px` : '5px',\r\n    };\r\n  }\r\n\r\n  get groupBy(): TGroupByField | Array<TGroupByField> {\r\n    if (this.groupLevel && Array.isArray(this.groupRowsBy) && this.groupRowsBy.length - 1 >= this.groupLevel) {\r\n      return this.groupRowsBy[this.groupLevel];\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { VNode } from 'vue';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component({\r\n  template: `\r\n    <div style=\"padding-left:5px;\">\r\n      <slot name=\"rowDetail\" v-bind=\"{ row: row, expanded: expanded }\">\r\n        <h3>detail row info</h3>\r\n      </slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableBodyRowDetailComponent extends Vue {\r\n  @Prop({ default: 0 }) rowHeight: number | ((group?: any, index?: number) => number);\r\n  @Prop() row: Record<string, unknown>;\r\n  @Prop() expanded: boolean;\r\n  @Prop() rowDetailSlot: (obj: Record<string, unknown>) => VNode[];\r\n\r\n  created(): void {\r\n    if (this.rowDetailSlot) {\r\n      this.$slots.rowDetail = this.rowDetailSlot({ row: this.row, expanded: this.expanded });\r\n    }\r\n  }\r\n\r\n  beforeUpdate(): void {\r\n    if (this.rowDetailSlot) {\r\n      this.$slots.rowDetail = this.rowDetailSlot({ row: this.row, expanded: this.expanded });\r\n    }\r\n  }\r\n\r\n  toggleExpandGroup(): void {\r\n    //\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-row-wrapper.component.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-row-wrapper.component.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./body-row-wrapper.component.vue?vue&type=template&id=11b0d871&scoped=true&\"\nimport script from \"./body-row-wrapper.component.ts?vue&type=script&lang=js&\"\nexport * from \"./body-row-wrapper.component.ts?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11b0d871\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Work\\\\vue-table\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('11b0d871')) {\n      api.createRecord('11b0d871', component.options)\n    } else {\n      api.reload('11b0d871', component.options)\n    }\n    module.hot.accept(\"./body-row-wrapper.component.vue?vue&type=template&id=11b0d871&scoped=true&\", function () {\n      api.rerender('11b0d871', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/body/body-row-wrapper.component.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"datatable-row-wrapper\",\n      style: _vm.styleObject,\n      attrs: { tabindex: \"-1\", \"data-test-id\": _vm.rowId }\n    },\n    [\n      _vm.row && _vm.row.__isGroup\n        ? _c(\"datatable-group-header\", {\n            staticClass: \"datatable-group-header\",\n            style: _vm.groupHeaderStyles,\n            attrs: {\n              group: _vm.row,\n              groupLevel: _vm.row.level,\n              groupRowsBy: _vm.groupRowsBy,\n              expanded: _vm.row.__expanded,\n              groupHeaderSlot: _vm.groupHeaderSlot\n            },\n            on: {\n              \"group-toggle\": function($event) {\n                return _vm.$emit(\"group-toggle\", $event)\n              },\n              contextmenu: function($event) {\n                return _vm.$emit(\"row-contextmenu\", $event, _vm.row)\n              }\n            }\n          })\n        : _vm._t(\"default\"),\n      _vm._v(\" \"),\n      _vm.rowDetail && _vm.expanded\n        ? _c(\"datatable-row-detail\", {\n            staticClass: \"datatable-row-detail\",\n            style: { height: _vm.rowDetailHeight + \"px\" },\n            attrs: {\n              row: _vm.row,\n              expanded: _vm.expanded,\n              rowDetailSlot: _vm.rowDetailSlot\n            },\n            on: {\n              \"detail-toggle\": function($event) {\n                return _vm.$emit(\"detail-toggle\", $event)\n              },\n              contextmenu: function($event) {\n                return _vm.$emit(\"row-contextmenu\", $event, _vm.row)\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-row.component.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body-row.component.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./body-row.component.vue?vue&type=template&id=0d0f71aa&\"\nimport script from \"./body-row.component.ts?vue&type=script&lang=js&\"\nexport * from \"./body-row.component.ts?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Work\\\\vue-table\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0d0f71aa')) {\n      api.createRecord('0d0f71aa', component.options)\n    } else {\n      api.reload('0d0f71aa', component.options)\n    }\n    module.hot.accept(\"./body-row.component.vue?vue&type=template&id=0d0f71aa&\", function () {\n      api.rerender('0d0f71aa', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/body/body-row.component.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"datatable-body-row\",\n      class: _vm.cssClasses,\n      style: _vm.styles,\n      attrs: { id: \"row-group\", tabIndex: -1 },\n      on: { focus: _vm.onFocus, blur: _vm.onBlur, keydown: _vm.onKeyDown }\n    },\n    _vm._l(_vm.columnsByPin, function(colGroup) {\n      return _c(\n        \"div\",\n        {\n          key: colGroup.type,\n          staticClass: \"datatable-row-group\",\n          class: \"datatable-row-\" + colGroup.type,\n          style: _vm.groupStyles(colGroup),\n          on: {\n            mouseenter: function($event) {\n              return _vm.$emit(\"activate\", _vm.row)\n            }\n          }\n        },\n        _vm._l(colGroup.columns, function(column, ii) {\n          return _c(\"datatable-body-cell\", {\n            key: column.$$id + \"-\" + _vm.counter,\n            attrs: {\n              tabIndex: \"-1\",\n              rowContext: _vm.rowContext,\n              column: column,\n              cellSlot: _vm.slots()[column.prop],\n              renderTracking: _vm.renderTracking,\n              displayCheck: _vm.displayCheck\n            },\n            on: {\n              activate: function($event) {\n                return _vm.onActivate($event, ii)\n              },\n              \"tree-action\": _vm.onTreeAction,\n              mouseenter: _vm.onMouseenter,\n              \"cell-created\": _vm.onCellRendered,\n              \"cell-updated\": _vm.onCellRendered\n            }\n          })\n        }),\n        1\n      )\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"datatable-body\", style: _vm.styleObject },\n    [\n      _c(\n        \"datatable-selection\",\n        {\n          ref: \"selector\",\n          attrs: {\n            selected: _vm.selected,\n            checked: _vm.checked,\n            rows: _vm.rows,\n            pageSize: _vm.pageSize,\n            selectCheck: _vm.selectCheck,\n            selectEnabled: _vm.selectEnabled,\n            selectionType: _vm.selectionType,\n            checkMode: _vm.checkMode,\n            rowIdentity: _vm.rowIdentity,\n            scroller: _vm.scroller,\n            bodyHeight: _vm.bodyHeight\n          },\n          on: {\n            select: _vm.onSelect,\n            check: function($event) {\n              return _vm.$emit(\"check\", $event)\n            },\n            activate: function($event) {\n              return _vm.$emit(\"activate\", $event)\n            }\n          }\n        },\n        [\n          _vm.loadingIndicator ? _c(\"datatable-progress\") : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"datatable-scroller\",\n            {\n              ref: \"scroller\",\n              attrs: {\n                scrollbarV: _vm.scrollbarV,\n                scrollbarH: _vm.scrollbarH,\n                scrollHeight: _vm.scrollHeight,\n                scrollWidth: _vm.scrollWidth\n              },\n              on: { setup: _vm.onScrollSetup, scroll: _vm.onBodyScroll }\n            },\n            [\n              _vm.summaryRow && _vm.summaryPosition === \"top\"\n                ? _c(\"datatable-summary-row\", {\n                    staticClass: \"datatable-summary-row\",\n                    attrs: {\n                      rowHeight: _vm.summaryHeight,\n                      offsetX: _vm.offsetX,\n                      innerWidth: _vm.innerWidth,\n                      rows: _vm.rows,\n                      columns: _vm.columns,\n                      columnsByPin: _vm.columnsByPin,\n                      columnGroupWidths: _vm.columnGroupWidths,\n                      groupStyles: _vm.getGroupStyles,\n                      slots: _vm.cellSlots\n                    }\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm._l(_vm.rowContexts, function(rowContext, i) {\n                return _c(\n                  \"datatable-row-wrapper\",\n                  {\n                    key: i,\n                    attrs: {\n                      styleObject: _vm.getRowWrapperStyles(rowContext),\n                      groupRowsBy: _vm.groupRowsBy,\n                      groupLevel: 0,\n                      row: rowContext.row,\n                      rowIdentity: _vm.rowIdentity,\n                      innerWidth: _vm.innerWidth,\n                      rowDetail: _vm.rowDetail,\n                      groupHeader: _vm.groupHeader,\n                      offsetX: _vm.offsetX,\n                      groupRowHeight: _vm.groupRowHeight,\n                      rowDetailHeight: _vm.getDetailRowHeight(rowContext.row),\n                      expanded: rowContext.expanded,\n                      rowIndex: rowContext.rowIndex,\n                      groupHeaderSlot: _vm.groupHeaderSlot,\n                      rowDetailSlot: _vm.rowDetailSlot\n                    },\n                    on: {\n                      \"group-toggle\": _vm.onGroupToggle,\n                      \"row-contextmenu\": function($event) {\n                        return _vm.$emit(\"rowContextmenu\")\n                      }\n                    }\n                  },\n                  [\n                    _c(\"datatable-body-row\", {\n                      attrs: {\n                        tabindex: \"-1\",\n                        columnsByPin: _vm.columnsByPin,\n                        columnGroupWidths: _vm.columnGroupWidths,\n                        groupStyles: _vm.getGroupStyles,\n                        rowClass: _vm.rowClass,\n                        row: rowContext.row,\n                        rowContext: rowContext,\n                        displayCheck: _vm.displayCheck,\n                        slots: _vm.cellSlots,\n                        renderTracking: _vm.renderTracking\n                      },\n                      on: {\n                        \"tree-action\": function($event) {\n                          return _vm.onTreeAction($event)\n                        },\n                        activate: function($event) {\n                          return _vm.onActivate($event, i)\n                        },\n                        \"row-created\": _vm.onRowRendered,\n                        \"row-updated\": _vm.onRowRendered\n                      }\n                    })\n                  ],\n                  1\n                )\n              }),\n              _vm._v(\" \"),\n              _vm.summaryRow && _vm.summaryPosition === \"bottom\"\n                ? _c(\"datatable-summary-row\", {\n                    staticClass: \"datatable-summary-row\",\n                    style: _vm.getBottomSummaryRowStyles,\n                    attrs: {\n                      rowHeight: _vm.summaryHeight,\n                      offsetX: _vm.offsetX,\n                      innerWidth: _vm.innerWidth,\n                      rows: _vm.rows,\n                      columns: _vm.columns,\n                      columnsByPin: _vm.columnsByPin,\n                      columnGroupWidths: _vm.columnGroupWidths,\n                      groupStyles: _vm.getGroupStyles,\n                      slots: _vm.cellSlots\n                    }\n                  })\n                : _vm._e()\n            ],\n            2\n          ),\n          _vm._v(\" \"),\n          (!_vm.rows || !_vm.rows.length) && !_vm.loadingIndicator\n            ? _c(\"div\", {\n                staticClass: \"empty-row\",\n                domProps: { innerHTML: _vm._s(_vm.emptyMessage) }\n              })\n            : _vm._e()\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body.component.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--4!../../../node_modules/eslint-loader/dist/cjs.js!./body.component.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./body.component.html?vue&type=template&id=0878f244&\"\nimport script from \"./body.component.ts?vue&type=script&lang=js&\"\nexport * from \"./body.component.ts?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Work\\\\vue-table\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0878f244')) {\n      api.createRecord('0878f244', component.options)\n    } else {\n      api.reload('0878f244', component.options)\n    }\n    module.hot.accept(\"./body.component.html?vue&type=template&id=0878f244&\", function () {\n      api.rerender('0878f244', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/body/body.component.vue\"\nexport default component.exports","import { Component, Vue } from 'vue-property-decorator';\r\n\r\n@Component({\r\n  template: `\r\n    <div class=\"progress-linear\" role=\"progressbar\">\r\n      <div class=\"ngx-container\">\r\n        <div class=\"ngx-bar\"></div>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport default class ProgressBarComponent extends Vue {}\r\n","import { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component({\r\n  template: `\r\n    <div class=\"datatable-scroll\" :style=\"styleObject\">\r\n      <slot></slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class ScrollerComponent extends Vue {\r\n  @Prop({ type: Boolean, default: false }) scrollbarV: boolean;\r\n  @Prop({ type: Boolean, default: false }) scrollbarH: boolean;\r\n  @Prop() scrollHeight: number;\r\n  @Prop() scrollWidth: string;\r\n\r\n  fromPager = true;\r\n\r\n  get styleObject(): Record<string, unknown> {\r\n    return {\r\n      height: this.scrollHeight ? `${this.scrollHeight}px` : null,\r\n      width: `${this.scrollWidth}px`,\r\n      position: 'relative',\r\n      transform: 'translateZ(0)',\r\n    };\r\n  }\r\n\r\n  scrollYPos = 0;\r\n  scrollXPos = 0;\r\n  prevScrollYPos = 0;\r\n  prevScrollXPos = 0;\r\n  parentElement: Element;\r\n  // onScrollListener: (event: MouseEvent) => void;\r\n  onInitScrollHandler: () => void;\r\n  // scrollDirty = false;\r\n\r\n  created(): void {\r\n    this.$emit('setup', {\r\n      scrollYPos: this.scrollYPos,\r\n      scrollXPos: this.scrollXPos,\r\n    });\r\n  }\r\n\r\n  mounted(): void {\r\n    // manual bind so we don't always listen\r\n    if (this.scrollbarV || this.scrollbarH) {\r\n      // const renderer = this.renderer;\r\n      this.parentElement = this.$el.closest('.datatable-body');\r\n      // .parentElement; //  renderer.parentNode(renderer.parentNode(this.element));\r\n      // this.onScrollListener = this.onScrolled.bind(this) as (event: MouseEvent) => void;\r\n      // this.parentElement.addEventListener('scroll', this.onScrollListener, {\r\n      //   passive: true,\r\n      // });\r\n      this.onInitScrollHandler = this.onInitScroll.bind(this) as () => void;\r\n      'mousedown DOMMouseScroll mousewheel wheel touchstart keyup'.split(' ').forEach(event => {\r\n        this.parentElement.addEventListener(event, this.onInitScrollHandler, {\r\n          passive: true,\r\n        });\r\n      });\r\n      this.tick();\r\n    }\r\n  }\r\n\r\n  beforeDestroy(): void {\r\n    if (this.scrollbarV || this.scrollbarH) {\r\n      // this.parentElement.removeEventListener('scroll', this.onScrollListener);\r\n      'mousedown DOMMouseScroll mousewheel wheel touchstart keyup'.split(' ').forEach(event => {\r\n        this.parentElement.removeEventListener(event, this.onInitScrollHandler);\r\n      });\r\n    }\r\n  }\r\n\r\n  setOffset(offsetY: number, fromPager: boolean = false): void {\r\n    if (this.parentElement) {\r\n      this.fromPager = fromPager;\r\n      this.parentElement.scrollTop = offsetY;\r\n    }\r\n  }\r\n\r\n  incOffset(offsetY: number): void {\r\n    if (this.parentElement) {\r\n      this.parentElement.scrollTop += offsetY;\r\n    }\r\n  }\r\n\r\n  onInitScroll(): void {\r\n    this.fromPager = false;\r\n  }\r\n\r\n  // onScrolled(event: MouseEvent): void {\r\n  //   if (this.scrollbarV || this.scrollbarH) {\r\n  //     if (!this.scrollDirty) {\r\n  //       this.scrollDirty = true;\r\n  //       const dom: Element = <Element>event.currentTarget;\r\n  //       requestAnimationFrame(() => {\r\n  //         this.scrollYPos = dom.scrollTop;\r\n  //         this.scrollXPos = dom.scrollLeft;\r\n  //         this.updateOffset();\r\n  //         this.scrollDirty = false;\r\n  //       });\r\n  //     } else {\r\n  //       // eslint-disable-next-line no-console\r\n  //       console.log('this.scrollDirty is true');\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  tick(): void {\r\n    requestAnimationFrame(() => this.tick());\r\n    // this.loading = Boolean(this.scrollTo !== ScrollTo.None);\r\n    if (this.scrollbarV || this.scrollbarH) {\r\n      const list: Element = this.parentElement; // this.$refs.list as HTMLElement;\r\n      if (!list) {\r\n        return;\r\n      }\r\n      const scrollTop = list.scrollTop;\r\n      const scrollLeft = list.scrollLeft;\r\n      if (this.scrollYPos === scrollTop && this.scrollXPos === scrollLeft) {\r\n        return;\r\n      }\r\n      this.scrollYPos = scrollTop;\r\n      this.scrollXPos = scrollLeft;\r\n      this.updateOffset();\r\n    }\r\n  }\r\n\r\n  updateOffset(): void {\r\n    let direction: string;\r\n    if (this.scrollYPos < this.prevScrollYPos) {\r\n      direction = 'down';\r\n    } else if (this.scrollYPos > this.prevScrollYPos) {\r\n      direction = 'up';\r\n    } else if (this.scrollXPos < this.prevScrollXPos) {\r\n      direction = 'right';\r\n    } else if (this.scrollXPos > this.prevScrollXPos) {\r\n      direction = 'left';\r\n    }\r\n    if (direction) {\r\n      this.$emit('scroll', {\r\n        direction,\r\n        scrollYPos: this.scrollYPos,\r\n        scrollXPos: this.scrollXPos,\r\n        fromPager: this.fromPager,\r\n      });\r\n    }\r\n    this.prevScrollYPos = this.scrollYPos;\r\n    this.prevScrollXPos = this.scrollXPos;\r\n  }\r\n}\r\n","import DataTableBodyComponent from 'components/body/body.component';\r\nimport ScrollerComponent from 'components/body/scroller.component';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport { SelectionType, TableColumn } from '../../types';\r\nimport { CheckMode } from '../../types/check.type';\r\nimport { Keys, selectRows, selectRowsBetween } from '../../utils';\r\n// import { MouseEvent, KeyboardEvent } from '../../events';\r\n\r\nexport interface Model {\r\n  type: string;\r\n  event: MouseEvent | KeyboardEvent;\r\n  row: Record<string, unknown>;\r\n  rowIndex: number;\r\n  rowElement: Element;\r\n  cellElement: Element;\r\n  cellIndex: number;\r\n  column?: TableColumn;\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <div id=\"selector\">\r\n      <slot> selection </slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableSelectionComponent extends Vue {\r\n  @Prop() rows: Record<string, unknown>[];\r\n  @Prop() selected: Record<string, unknown>[];\r\n  @Prop() checked: Record<string, unknown>[];\r\n  @Prop() selectEnabled: boolean;\r\n  @Prop() selectionType: SelectionType;\r\n  @Prop() checkMode: CheckMode;\r\n  @Prop() rowIdentity: (row: Record<string, unknown>) => string | number;\r\n  @Prop() selectCheck: () => void;\r\n  @Prop() scroller: ScrollerComponent;\r\n  @Prop() pageSize: number;\r\n  @Prop() bodyHeight: number;\r\n\r\n  prevIndex: number;\r\n\r\n  selectRow(event: KeyboardEvent | MouseEvent, index: number, row: Record<string, unknown>): void {\r\n    if (!this.selectEnabled) {\r\n      return;\r\n    }\r\n\r\n    const chkbox = this.selectionType === SelectionType.checkbox && this.checkMode === CheckMode.checkIsSelect;\r\n    const multi = this.selectionType === SelectionType.multi;\r\n    const multiClick = this.selectionType === SelectionType.multiClick;\r\n    let selected: Record<string, unknown>[] = [];\r\n\r\n    if (multi || chkbox || multiClick) {\r\n      if (event.shiftKey) {\r\n        selected = selectRowsBetween([], this.rows, index, this.prevIndex, this.getRowSelectedIdx.bind(this));\r\n      } else if (event.ctrlKey || event.metaKey || multiClick || chkbox) {\r\n        selected = selectRows([...this.selected], row, this.getRowSelectedIdx.bind(this));\r\n      } else {\r\n        selected = selectRows([], row, this.getRowSelectedIdx.bind(this));\r\n      }\r\n    } else {\r\n      selected = selectRows([], row, this.getRowSelectedIdx.bind(this));\r\n    }\r\n    this.prevIndex = index;\r\n    if (typeof this.selectCheck === 'function') {\r\n      selected = selected.filter(this.selectCheck.bind(this));\r\n    }\r\n\r\n    this.selected.splice(0, this.selected.length);\r\n    this.selected.push(...selected);\r\n\r\n    this.$emit('select', {\r\n      selected,\r\n      index,\r\n    });\r\n  }\r\n\r\n  checkRow(event: KeyboardEvent | MouseEvent, index: number, row: Record<string, unknown>): void {\r\n    if (!this.selectEnabled) {\r\n      return;\r\n    }\r\n    let checked: Record<string, unknown>[] = [];\r\n    if (event.shiftKey) {\r\n      checked = selectRowsBetween([], this.rows, index, this.prevIndex, this.getRowSelectedIdx.bind(this));\r\n    } else {\r\n      checked = selectRows([...this.checked], row, this.getRowSelectedIdx.bind(this));\r\n    }\r\n    this.prevIndex = index;\r\n\r\n    if (typeof this.selectCheck === 'function') {\r\n      checked = checked.filter(this.selectCheck.bind(this));\r\n    }\r\n\r\n    this.checked.splice(0, this.checked.length);\r\n    this.checked.push(...checked);\r\n\r\n    this.$emit('check', {\r\n      checked,\r\n    });\r\n  }\r\n\r\n  onActivate(model: Model, index: number): void {\r\n    const { type, event, row, column } = model;\r\n    const chkbox = this.selectionType === SelectionType.checkbox && this.checkMode === CheckMode.checkIsSelect;\r\n    let select = (!chkbox && (type === 'click' || type === 'dblclick')) || (chkbox && type === 'checkbox');\r\n    if (this.checkMode === CheckMode.checkNoSelect && column?.checkboxable) {\r\n      select = false;\r\n    }\r\n    if (select) {\r\n      this.selectRow(event, index, row);\r\n    } else if (type === 'checkbox' && this.checkMode === CheckMode.checkNoSelect) {\r\n      this.checkRow(event, index, row);\r\n    } else if (type === 'keydown') {\r\n      if ((<KeyboardEvent>event).keyCode === Keys.return) {\r\n        this.selectRow(event, index, row);\r\n      } else {\r\n        this.onKeyboardFocus(model);\r\n      }\r\n    }\r\n    this.$emit('activate', model);\r\n  }\r\n\r\n  onKeyboardFocus(model: Model): void {\r\n    const { keyCode } = <KeyboardEvent>model.event;\r\n    const shouldFocus =\r\n      keyCode === Keys.up ||\r\n      keyCode === Keys.down ||\r\n      keyCode === Keys.right ||\r\n      keyCode === Keys.left ||\r\n      keyCode === Keys.pageUp ||\r\n      keyCode === Keys.pageDown;\r\n\r\n    if (shouldFocus) {\r\n      const isCellSelection = this.selectionType === SelectionType.cell;\r\n\r\n      if (!model.cellElement || !isCellSelection) {\r\n        this.focusRow(model, keyCode);\r\n      } else if (isCellSelection) {\r\n        this.focusCell(model.cellElement, model.rowElement, keyCode, model.cellIndex);\r\n      }\r\n    }\r\n  }\r\n\r\n  focusRow(model: Model, keyCode: number): void {\r\n    const nextRowElement = this.getPrevNextRow(model.rowElement, keyCode);\r\n    let index = 0;\r\n    if (keyCode === Keys.up) {\r\n      if (model.rowIndex - 1 < 0) {\r\n        return;\r\n      }\r\n      index = model.rowIndex - 1;\r\n    } else if (keyCode === Keys.down) {\r\n      if (model.rowIndex + 1 >= this.rows.length) {\r\n        return;\r\n      }\r\n      index = model.rowIndex + 1;\r\n    } else if (keyCode === Keys.pageUp) {\r\n      index = model.rowIndex - this.pageSize;\r\n      index = index < 0 ? 0 : index;\r\n    } else if (keyCode === Keys.pageDown) {\r\n      index = model.rowIndex + this.pageSize;\r\n      index = index >= this.rows.length ? this.rows.length - 1 : index;\r\n    }\r\n    const { offsetY, height } = (this.$parent as DataTableBodyComponent).getRowOffsetY(index + 1);\r\n    if (!height) {\r\n      if (nextRowElement) {\r\n        (nextRowElement as HTMLElement).focus();\r\n      }\r\n      return;\r\n    }\r\n    let scrolled = false;\r\n    let h = 0;\r\n    if ([Keys.down, Keys.pageDown].includes(keyCode)) {\r\n      h = offsetY + height - (this.$parent.$el.scrollTop + this.bodyHeight);\r\n    } else if ([Keys.up, Keys.pageUp].includes(keyCode)) {\r\n      h = offsetY - height - this.$parent.$el.scrollTop;\r\n    }\r\n    if (h > 0 && [Keys.down, Keys.pageDown].includes(keyCode)) {\r\n      this.scroller.incOffset(h);\r\n      // scrolled = model.rowIndex === this.rows.length - 2 ? false : true;\r\n    } else if (h < 0 && [Keys.up, Keys.pageUp].includes(keyCode)) {\r\n      this.scroller.incOffset(h);\r\n      scrolled = model.rowIndex !== 1;\r\n    } else if (h === 0 && [Keys.up, Keys.pageUp].includes(keyCode) && [0, 1, 2].includes(model.rowIndex)) {\r\n      this.scroller.setOffset(h);\r\n      // scrolled = true;\r\n    }\r\n    if (scrolled || [Keys.left, Keys.right].includes(keyCode)) {\r\n      (model.rowElement as HTMLElement).focus();\r\n    } else if (nextRowElement) {\r\n      (nextRowElement as HTMLElement).focus();\r\n    }\r\n  }\r\n\r\n  focusRow1(keyCode: number): void {\r\n    let index = 0;\r\n    if (keyCode === Keys.up) {\r\n      if (this.prevIndex - 1 < 0) {\r\n        return;\r\n      }\r\n      index = this.prevIndex - 1;\r\n    } else if (keyCode === Keys.down) {\r\n      if (this.prevIndex + 1 >= this.rows.length) {\r\n        return;\r\n      }\r\n      index = this.prevIndex + 1;\r\n    } else if (keyCode === Keys.pageUp) {\r\n      index = this.prevIndex - this.pageSize;\r\n      index = index < 0 ? 0 : index;\r\n    } else if (keyCode === Keys.pageDown) {\r\n      index = this.prevIndex + this.pageSize;\r\n      index = index >= this.rows.length ? this.rows.length - 1 : index;\r\n    }\r\n    const nextRow = this.rows[index];\r\n    if (!nextRow) {\r\n      return;\r\n    }\r\n    setTimeout(() => this.selectRow({ shiftKey: false, ctrlKey: false } as any, index, nextRow));\r\n    const { offsetY, height } = (this.$parent as DataTableBodyComponent).getRowOffsetY(index);\r\n    let h = 0;\r\n    if ([Keys.down, Keys.pageDown].includes(keyCode)) {\r\n      h = offsetY - this.bodyHeight;\r\n    } else if ([Keys.up, Keys.pageUp].includes(keyCode)) {\r\n      h = offsetY - height - this.scroller.scrollYPos;\r\n    }\r\n    if (h > 0 && [Keys.down, Keys.pageDown].includes(keyCode)) {\r\n      this.scroller.setOffset(h);\r\n    } else if (h < 0 && [Keys.up, Keys.pageUp].includes(keyCode)) {\r\n      this.scroller.incOffset(h);\r\n    }\r\n\r\n    // const { el: rowElement, height } = (this.$parent as any).getRowElementAndHeight(this.rows[this.prevIndex]);\r\n    // if (!rowElement) {\r\n    //   return;\r\n    // }\r\n    // const nextRowElement = this.getPrevNextRowElement(rowElement, keyCode);\r\n    // // const nextRowElement = this.getPrevNextRow(rowElement, keyCode);\r\n    // if (nextRowElement) {\r\n    //   // nextRowElement.focus();\r\n    //   let index = this.prevIndex;\r\n    //   if (keyCode === Keys.up) {\r\n    //     if (this.prevIndex - 1 < 0) {\r\n    //       return;\r\n    //     }\r\n    //     index = this.prevIndex - 1;\r\n    //   } else if (keyCode === Keys.down) {\r\n    //     if (this.prevIndex + 1 >= this.rows.length) {\r\n    //       return;\r\n    //     }\r\n    //     index = this.prevIndex + 1\r\n    //   }\r\n    //   const row = this.rows[index];\r\n    //   this.selectRow({ shiftKey: false, ctrlKey: false } as any, index, row);\r\n    //   const bodyRect = this.$parent.$el.getBoundingClientRect();\r\n    //   const rowRect = nextRowElement.getBoundingClientRect();\r\n    //   const top = rowRect.top - bodyRect.top;\r\n    //   let h = 0;\r\n    //   if (keyCode === Keys.down) {\r\n    //     h = (top + height) - bodyRect.height;\r\n    //   } else if (keyCode === Keys.up) {\r\n    //     h = top;\r\n    //   }\r\n    //   // console.log('before incOffset', h, bodyRect, rowRect, nextRowElement);\r\n    //   if (h > 0 && keyCode === Keys.down) {\r\n    //     // console.log('incOffset', h + 5);\r\n    //     (this.scroller as any).incOffset(h + 5);\r\n    //   } else if (h < 0 && keyCode === Keys.up) {\r\n    //     (this.scroller as any).incOffset(h);\r\n    //   }\r\n    //   // (this.$el as any).focus();\r\n    //   (nextRowElement as any).focus();\r\n    // }\r\n  }\r\n\r\n  getPrevNextRowElement(rowElement: Element, keyCode: number): Element {\r\n    if (rowElement) {\r\n      let focusElement: Element;\r\n      if (keyCode === Keys.up) {\r\n        focusElement = rowElement.previousElementSibling;\r\n      } else if (keyCode === Keys.down) {\r\n        focusElement = rowElement.nextElementSibling;\r\n      }\r\n      return focusElement;\r\n    }\r\n  }\r\n\r\n  getPrevNextRow(rowElement: Element, keyCode: number): Element {\r\n    const parentElement = rowElement.parentElement;\r\n\r\n    if (parentElement) {\r\n      let focusElement: Element;\r\n      if (keyCode === Keys.up) {\r\n        focusElement = parentElement.previousElementSibling;\r\n      } else if (keyCode === Keys.down) {\r\n        focusElement = parentElement.nextElementSibling;\r\n      }\r\n\r\n      if (focusElement && focusElement.children.length) {\r\n        return focusElement.children[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  getPrevNextRow1(rowElement: Element, keyCode: number): Element {\r\n    const parentElement = rowElement.parentElement;\r\n    // const parentElement = rowElement.closest('.datatable-row-wrapper');\r\n\r\n    if (parentElement) {\r\n      let focusElement: Element;\r\n      if (keyCode === Keys.up) {\r\n        focusElement = parentElement.previousElementSibling;\r\n      } else if (keyCode === Keys.down) {\r\n        focusElement = parentElement.nextElementSibling;\r\n      }\r\n      // return focusElement;\r\n      if (focusElement && focusElement.children.length) {\r\n        return focusElement.children[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  focusCell(cellElement: Element, rowElement: Element, keyCode: number, cellIndex: number): void {\r\n    let nextCellElement: Element;\r\n\r\n    if (keyCode === Keys.left) {\r\n      nextCellElement = cellElement.previousElementSibling;\r\n    } else if (keyCode === Keys.right) {\r\n      nextCellElement = cellElement.nextElementSibling;\r\n    } else if (keyCode === Keys.up || keyCode === Keys.down) {\r\n      const nextRowElement = this.getPrevNextRow(rowElement, keyCode);\r\n      if (nextRowElement) {\r\n        const children = nextRowElement.getElementsByClassName('datatable-body-cell');\r\n        if (children.length) {\r\n          nextCellElement = children[cellIndex];\r\n        }\r\n      }\r\n    }\r\n\r\n    if (nextCellElement) {\r\n      (nextCellElement as HTMLElement).focus();\r\n    }\r\n  }\r\n\r\n  getRowSelected(row: Record<string, unknown>): boolean {\r\n    return this.getRowSelectedIdx(row, this.selected) > -1;\r\n  }\r\n\r\n  getRowChecked(row: Record<string, unknown>): boolean {\r\n    const arr = this.checkMode === CheckMode.checkIsSelect ? this.selected : this.checked;\r\n    return this.getRowSelectedIdx(row, arr) > -1;\r\n  }\r\n\r\n  getRowSelectedIdx(row: Record<string, unknown>, selected: Record<string, unknown>[]): number {\r\n    if (!selected || !selected.length) {\r\n      return -1;\r\n    }\r\n    const rowId = this.rowIdentity(row);\r\n    return selected.findIndex(r => {\r\n      const id = this.rowIdentity(r);\r\n      return id === rowId;\r\n    });\r\n  }\r\n}\r\n","import { IRowContext } from 'types/row-context.type';\r\nimport { IColumnsByPinRecord, IColumnsWidth } from 'utils';\r\nimport { VNode } from 'vue';\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport DataTableBodyRowComponent from '../body-row.component.vue';\r\n\r\nexport interface ISummaryColumn {\r\n  summaryFunc?: (cells: any[]) => any;\r\n  summaryTemplate?: (arg?: Record<string, unknown>) => VNode[];\r\n  cellTemplate?: string;\r\n\r\n  prop: string;\r\n  // pipe?: PipeTransform;\r\n  filter?: (...args) => string;\r\n}\r\n\r\nfunction defaultSumFunc(cells: any[]): number {\r\n  const cellsWithValues = cells.filter(cell => Boolean(cell));\r\n\r\n  if (!cellsWithValues.length) {\r\n    return null;\r\n  }\r\n  if (cellsWithValues.some(cell => typeof cell !== 'number')) {\r\n    return null;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/restrict-plus-operands\r\n  return cellsWithValues.reduce((res, cell) => res + cell);\r\n}\r\n\r\nfunction noopSumFunc(cells: any[]): void {\r\n  return null;\r\n}\r\n\r\n@Component({\r\n  components: {\r\n    'datatable-body-row': DataTableBodyRowComponent,\r\n  },\r\n  template: `\r\n    <datatable-body-row\r\n      v-if=\"summaryRow && internalColumns\"\r\n      tabindex=\"-1\"\r\n      :columnsByPin=\"columnsByPin\"\r\n      :columnGroupWidths=\"columnGroupWidths\"\r\n      :groupStyles=\"groupStyles\"\r\n      :rowContext=\"myRowContext\"\r\n      :row=\"summaryRow\"\r\n      :slots=\"mySlotsFunc\"\r\n      @activate=\"onActivate\"\r\n    >\r\n    </datatable-body-row>\r\n  `,\r\n})\r\nexport default class DataTableSummaryRowComponent extends Vue {\r\n  @Prop() rows: Record<string, unknown>[];\r\n  @Prop() columns: ISummaryColumn[];\r\n  @Prop() rowHeight: number;\r\n  @Prop() offsetX: number;\r\n  @Prop() innerWidth: number;\r\n\r\n  @Prop() columnsByPin: IColumnsByPinRecord[];\r\n  @Prop() columnGroupWidths: IColumnsWidth;\r\n  @Prop() groupStyles: Record<string, string | number>;\r\n  @Prop() groupClass: string;\r\n  @Prop() slots: () => Record<string, (arg?: Record<string, unknown>) => VNode[]>;\r\n\r\n  internalColumns: ISummaryColumn[] = [];\r\n  summaryRow: Record<string, unknown> = {};\r\n  mySlotsFunc: () => Record<string, (arg?: Record<string, unknown>) => VNode[]> = null;\r\n  myRowContext: IRowContext = null;\r\n\r\n  @Watch('rows', { immediate: true }) onRowsChanged(): void {\r\n    this.onChanges();\r\n  }\r\n\r\n  @Watch('columns') onColumnsChanged(): void {\r\n    this.onChanges();\r\n  }\r\n\r\n  onChanges(): void {\r\n    if (!this.columns || !this.rows) {\r\n      return;\r\n    }\r\n    this.updateInternalColumns();\r\n    this.updateValues();\r\n  }\r\n\r\n  onActivate(event: Event): void {\r\n    this.$emit('summary-activate', event, this.summaryRow);\r\n  }\r\n\r\n  private updateInternalColumns() {\r\n    this.mySlotsFunc = this.slots;\r\n    const summarySlots: Record<string, (arg?: Record<string, unknown>) => VNode[]> = {};\r\n    this.internalColumns = this.columns.map(col => {\r\n      if (col.summaryTemplate) {\r\n        summarySlots[col.prop] = col.summaryTemplate;\r\n      }\r\n      return col;\r\n    });\r\n    if (Object.keys(summarySlots).length) {\r\n      const slots = Object.assign({}, this.slots());\r\n      Object.keys(summarySlots).forEach(column => {\r\n        slots[column] = summarySlots[column];\r\n      });\r\n      this.mySlotsFunc = () => slots;\r\n    }\r\n  }\r\n\r\n  private updateValues() {\r\n    this.summaryRow = {};\r\n\r\n    this.columns\r\n      .filter(col => !col.summaryTemplate)\r\n      .forEach(col => {\r\n        const cellsFromSingleColumn = this.rows.map(row => row[col.prop]);\r\n        const sumFunc = this.getSummaryFunction(col);\r\n\r\n        // this.summaryRow[col.prop] = col.pipe ?\r\n        //   col.pipe.transform(sumFunc(cellsFromSingleColumn)) :\r\n        //   sumFunc(cellsFromSingleColumn);\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n        this.summaryRow[col.prop] = col.filter\r\n          ? col.filter(sumFunc(cellsFromSingleColumn))\r\n          : sumFunc(cellsFromSingleColumn);\r\n      });\r\n    this.myRowContext = {\r\n      row: this.summaryRow,\r\n      rowIndex: -1,\r\n      expanded: false,\r\n      isChecked: false,\r\n      isSelected: false,\r\n      rowHeight: this.rowHeight,\r\n      treeStatus: null,\r\n    };\r\n  }\r\n\r\n  private getSummaryFunction(column: ISummaryColumn): (a: any[]) => any {\r\n    if (!column.summaryFunc) {\r\n      return defaultSumFunc;\r\n    }\r\n    if (column.summaryFunc === null) {\r\n      return noopSumFunc;\r\n    }\r\n    return column.summaryFunc;\r\n  }\r\n}\r\n","import DatatableComponent from 'components/datatable.component';\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport { TableColumn, TableColumnProp } from '../../types';\r\n\r\n@Component({\r\n  template: `\r\n    <div>\r\n      <slot name=\"header\" v-bind=\"{column: column}\">\r\n        <!-- default content -->\r\n        {{ name }}\r\n      </slot>\r\n      <!-- default slot for cell -->\r\n      <slot> </slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableColumnComponent extends Vue {\r\n  @Prop() name: string;\r\n  @Prop() prop: TableColumnProp;\r\n  @Prop() frozenLeft: any;\r\n  @Prop() frozenRight: any;\r\n  @Prop() flexGrow: number;\r\n  @Prop() resizeable: boolean;\r\n  @Prop() comparator: any;\r\n  @Prop() pipe: any;\r\n  @Prop() sortable: boolean;\r\n  @Prop() draggable: boolean;\r\n  @Prop({ default: true }) canAutoResize: boolean;\r\n  @Prop() minWidth: number;\r\n  @Prop() width: number;\r\n  @Prop() maxWidth: number;\r\n  @Prop() checkboxable: boolean;\r\n  @Prop() headerCheckboxable: boolean;\r\n  @Prop() headerClass: string | ((data: { column: TableColumn }) => string | Record<string, unknown>);\r\n  @Prop() cellClass:\r\n    | string\r\n    | Array<string>\r\n    | ((data: Record<string, unknown>) => string | Record<string, unknown>)\r\n    | Array<string | Array<string> | ((data: Record<string, unknown>) => string | Record<string, unknown>)>;\r\n  @Prop() isTreeColumn: boolean;\r\n  @Prop() treeLevelIndent: number;\r\n  @Prop() summaryFunc: (cells: any[]) => any;\r\n  @Prop({ default: true }) visible: boolean;\r\n\r\n  column: TableColumn = {};\r\n\r\n  @Watch('visible') onVisibleChanged(newVal: boolean): void {\r\n    this.column.visible = newVal;\r\n    (this.$parent as DatatableComponent).onColumnChangeVisible(this.column);\r\n  }\r\n\r\n  // @Watch('column.width') onWidthChanged(): void {\r\n  //   this.$emit('update-width', this.column.width);\r\n  // }\r\n\r\n  mounted(): void {\r\n    this.$set(this.column, 'name', this.name);\r\n    this.$set(this.column, 'prop', this.prop);\r\n    this.$set(this.column, 'frozenLeft', this.frozenLeft);\r\n    this.$set(this.column, 'frozenRight', this.frozenRight);\r\n    this.$set(this.column, 'flexGrow', this.flexGrow);\r\n    this.$set(this.column, 'resizeable', this.resizeable);\r\n    this.$set(this.column, 'comparator', this.comparator);\r\n    this.$set(this.column, 'sortable', this.sortable);\r\n    this.$set(this.column, 'draggable', this.draggable);\r\n    this.$set(this.column, 'canAutoResize', this.canAutoResize);\r\n    this.$set(this.column, 'minWidth', this.minWidth);\r\n    this.$set(this.column, 'width', this.width);\r\n    this.$set(this.column, 'maxWidth', this.maxWidth);\r\n    this.$set(this.column, 'checkboxable', this.checkboxable);\r\n    this.$set(this.column, 'headerCheckboxable', this.headerCheckboxable);\r\n    let headerClasses = [];\r\n    if (Array.isArray(this.headerClass)) {\r\n      headerClasses = [...this.headerClass];\r\n    } else if (typeof this.headerClass === 'string') {\r\n      headerClasses.push(this.headerClass);\r\n    } else if (typeof this.headerClass === 'function') {\r\n      const res = this.headerClass({\r\n        column: this.column,\r\n      });\r\n      if (typeof res === 'string') {\r\n        headerClasses.push(res);\r\n      } else if (typeof res === 'object') {\r\n        const keys = Object.keys(res);\r\n        for (const key of keys) {\r\n          if (res[key] === true) {\r\n            headerClasses.push(key);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n    for (let i = 0; i < this.$el.classList.length; i++) {\r\n      const value = this.$el.classList[0];\r\n      headerClasses.push(value);\r\n    }\r\n    this.$set(this.column, 'headerClass', headerClasses);\r\n\r\n    let cellClasses = [];\r\n    if (Array.isArray(this.cellClass)) {\r\n      cellClasses = [...this.cellClass];\r\n    } else if (typeof this.cellClass === 'string') {\r\n      cellClasses.push(this.cellClass);\r\n    } else if (typeof this.cellClass === 'function') {\r\n      cellClasses.push(this.cellClass);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n    for (let i = 0; i < this.$el.classList.length; i++) {\r\n      const value = this.$el.classList[0];\r\n      cellClasses.push(value);\r\n    }\r\n    this.$set(this.column, 'cellClass', cellClasses);\r\n\r\n    this.$set(this.column, 'isTreeColumn', this.isTreeColumn);\r\n    this.$set(this.column, 'treeLevelIndent', this.treeLevelIndent);\r\n    this.$set(this.column, 'summaryFunc', this.summaryFunc);\r\n    this.$set(this.column, 'headerTemplate', this.$scopedSlots.header);\r\n    this.$set(this.column, 'headerAppendTemplate', this.$scopedSlots.headerAppend);\r\n    this.$set(this.column, 'cellTemplate', this.$scopedSlots.default);\r\n    this.$set(this.column, 'summaryTemplate', this.$scopedSlots.summary);\r\n    this.$set(this.column, 'visible', this.visible);\r\n\r\n    // todo: select any way to pass column to datatable // this.$emit('insert-column', column);\r\n    (this.$parent as DatatableComponent).onColumnInsert(this.column);\r\n  }\r\n}\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"visibility-observer\",\n          rawName: \"v-visibility-observer\",\n          value: {\n            on: _vm.visibilityCheck,\n            timeout: _vm.visibilityCheckTimeout\n          },\n          expression: \"{ on: visibilityCheck, timeout: visibilityCheckTimeout }\"\n        }\n      ],\n      staticClass: \"ngx-datatable\",\n      class: _vm.classObject,\n      on: { visible: _vm.onVisible, \"insert-column\": _vm.onColumnInsert }\n    },\n    [\n      !_vm.isColumnsInited\n        ? _c(\n            \"div\",\n            { ref: \"hiddenColumns\", staticClass: \"hidden-columns\" },\n            [_vm._t(\"default\")],\n            2\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.headerHeight\n        ? _c(\"datatable-header\", {\n            ref: \"datatableHeader\",\n            staticClass: \"datatable-header\",\n            attrs: {\n              sorts: _vm.sorts,\n              sortType: _vm.mySortType,\n              scrollbarWidth: _vm.scrollbarWidth,\n              scrollbarH: _vm.scrollbarH,\n              innerWidth: _vm.innerWidth,\n              offsetX: _vm.offsetX,\n              dealsWithGroup:\n                Array.isArray(_vm.groupRowsBy) &&\n                Boolean(_vm.groupRowsBy.length),\n              columns: _vm.internalColumns,\n              headerHeight: _vm.headerHeight,\n              reorderable: _vm.reorderable,\n              sortAscendingIcon: _vm.cssClasses.sortAscending,\n              sortDescendingIcon: _vm.cssClasses.sortDescending,\n              allRowsSelected: _vm.allRowsSelected,\n              selectionType: _vm.selectionType\n            },\n            on: {\n              sort: function($event) {\n                return _vm.onColumnSort($event)\n              },\n              resize: function($event) {\n                return _vm.onColumnResize($event)\n              },\n              reorder: function($event) {\n                return _vm.onColumnReorder($event)\n              },\n              select: function($event) {\n                return _vm.onHeaderSelect($event)\n              },\n              columnContextmenu: function($event) {\n                return _vm.onColumnContextmenu($event)\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"datatable-body\", {\n        ref: \"datatableBody\",\n        attrs: {\n          groupRowsBy: _vm.groupRowsBy,\n          rows: _vm.internalRows,\n          groupExpansionDefault: _vm.groupExpansionDefault,\n          scrollbarV: _vm.scrollbarV,\n          scrollbarH: _vm.scrollbarH,\n          virtualization: _vm.virtualization,\n          loadingIndicator: _vm.loadingIndicator,\n          externalPaging: _vm.externalPaging,\n          rowHeight: _vm.myRowHeight,\n          rowCount: _vm.rowCount,\n          offset: _vm.myOffset,\n          trackByProp: _vm.trackByProp,\n          columns: _vm.internalColumns,\n          pageSize: _vm.pageSize,\n          limit: _vm.limit,\n          offsetX: _vm.offsetX,\n          rowDetail: _vm.rowDetail,\n          rowDetailHeight: _vm.rowDetailHeight,\n          groupHeader: _vm.groupHeader,\n          selected: _vm.mySelected,\n          checked: _vm.myChecked,\n          innerWidth: _vm.innerWidth,\n          bodyHeight: _vm.bodyHeight,\n          selectionType: _vm.selectionType,\n          checkMode: _vm.checkMode,\n          emptyMessage: _vm.messages.emptyMessage,\n          rowIdentity: _vm.rowIdentity,\n          rowClass: _vm.rowClass,\n          selectCheck: _vm.selectCheck,\n          displayCheck: _vm.displayCheck,\n          summaryRow: _vm.summaryRow,\n          summaryHeight: _vm.summaryHeight,\n          summaryPosition: _vm.summaryPosition,\n          groupRowHeight: _vm.groupRowHeight,\n          groupHeaderSlot: _vm.groupHeaderSlot,\n          rowDetailSlot: _vm.rowDetailSlot,\n          renderTracking: _vm.renderTracking\n        },\n        on: {\n          page: _vm.onBodyPage,\n          activate: function($event) {\n            return _vm.$emit(\"activate\", $event)\n          },\n          rowContextmenu: _vm.onRowContextmenu,\n          select: _vm.onBodySelect,\n          check: _vm.onBodyCheck,\n          scroll: _vm.onBodyScroll,\n          \"group-toggle\": _vm.onGroupToggle,\n          \"tree-action\": _vm.onTreeAction,\n          rendered: function($event) {\n            return _vm.$emit(\"rendered\", $event)\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"datatable-footer\",\n          class: { \"datatable-footer-border\": Boolean(_vm.footerHeight) }\n        },\n        [\n          _vm.footerHeight\n            ? _c(\"datatable-footer\", {\n                ref: \"datatableFooter\",\n                attrs: {\n                  rowCount: _vm.rowCount,\n                  pageSize: _vm.pageSize,\n                  offset: _vm.myOffset,\n                  footerHeight: _vm.footerHeight,\n                  totalMessage: _vm.messages.totalMessage,\n                  pagerLeftArrowIcon: _vm.cssClasses.pagerLeftArrow,\n                  pagerRightArrowIcon: _vm.cssClasses.pagerRightArrow,\n                  pagerPreviousIcon: _vm.cssClasses.pagerPrevious,\n                  selectedCount: _vm.mySelected.length,\n                  selectedMessage:\n                    !!_vm.selectionType && _vm.messages.selectedMessage,\n                  pagerNextIcon: _vm.cssClasses.pagerNext,\n                  footerSlot: _vm.footerSlot\n                },\n                on: { page: _vm.onFooterPage }\n              })\n            : _vm._e()\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--2-oneOf-1-2!./datatable.component.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--2-oneOf-1-2!./datatable.component.scss?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/ts-loader/index.js??ref--4!../../node_modules/eslint-loader/dist/cjs.js!./datatable.component.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--4!../../node_modules/eslint-loader/dist/cjs.js!./datatable.component.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./datatable.component.html?vue&type=template&id=3f42d2da&\"\nimport script from \"./datatable.component.ts?vue&type=script&lang=js&\"\nexport * from \"./datatable.component.ts?vue&type=script&lang=js&\"\nimport style0 from \"./datatable.component.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\Work\\\\vue-table\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3f42d2da')) {\n      api.createRecord('3f42d2da', component.options)\n    } else {\n      api.reload('3f42d2da', component.options)\n    }\n    module.hot.accept(\"./datatable.component.html?vue&type=template&id=3f42d2da&\", function () {\n      api.rerender('3f42d2da', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/datatable.component.vue\"\nexport default component.exports","import { VNode } from 'vue';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport DataTablePagerComponent from './pager.component';\r\n\r\n@Component({\r\n  components: {\r\n    'datatable-pager': DataTablePagerComponent,\r\n  },\r\n  template: `\r\n    <div\r\n      class=\"datatable-footer-inner\"\r\n      :class=\"{'selected-count': selectedMessage }\"\r\n      :style=\"{ 'height': footerHeight + 'px' }\"\r\n    >\r\n      <slot\r\n        v-bind:row=\"{ rowCount: rowCount, pageSize: pageSize,\r\n                          selectedCount: selectedCount, curPage: curPage, offset: offset }\"\r\n      >\r\n        <div class=\"page-count\">\r\n          <span v-if=\"selectedMessage\"> {{ selectedCount.toLocaleString() }} {{ selectedMessage }} / </span>\r\n          {{ rowCount.toLocaleString() }} {{ totalMessage }}\r\n        </div>\r\n      </slot>\r\n      <div class=\"datatable-pager\">\r\n        <datatable-pager\r\n          :pagerLeftArrowIcon=\"pagerLeftArrowIcon\"\r\n          :pagerRightArrowIcon=\"pagerRightArrowIcon\"\r\n          :pagerPreviousIcon=\"pagerPreviousIcon\"\r\n          :pagerNextIcon=\"pagerNextIcon\"\r\n          :page=\"curPage\"\r\n          :size=\"pageSize\"\r\n          :count=\"rowCount\"\r\n          :hidden=\"!isVisible\"\r\n          @change-page=\"$emit('page', $event)\"\r\n        >\r\n        </datatable-pager>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableFooterComponent extends Vue {\r\n  @Prop() footerHeight: number;\r\n  @Prop() rowCount: number;\r\n  @Prop() pageSize: number;\r\n  @Prop() offset: number;\r\n  @Prop() pagerLeftArrowIcon: string;\r\n  @Prop() pagerRightArrowIcon: string;\r\n  @Prop() pagerPreviousIcon: string;\r\n  @Prop() pagerNextIcon: string;\r\n  @Prop() totalMessage: string;\r\n  @Prop() footerSlot: (arg?: Record<string, unknown>) => VNode[];\r\n\r\n  @Prop({ type: Number, default: 0 }) selectedCount: number;\r\n  @Prop() selectedMessage: string | boolean;\r\n\r\n  created(): void {\r\n    if (this.footerSlot) {\r\n      this.$slots.default = this.footerSlot({\r\n        rowCount: this.rowCount,\r\n        pageSize: this.pageSize,\r\n        selectedCount: this.selectedCount,\r\n        curPage: this.curPage,\r\n        offset: this.offset,\r\n      });\r\n    }\r\n  }\r\n\r\n  beforeUpdate(): void {\r\n    if (this.footerSlot) {\r\n      this.$slots.default = this.footerSlot({\r\n        rowCount: this.rowCount,\r\n        pageSize: this.pageSize,\r\n        selectedCount: this.selectedCount,\r\n        curPage: this.curPage,\r\n        offset: this.offset,\r\n      });\r\n    }\r\n  }\r\n\r\n  get isVisible(): boolean {\r\n    return this.rowCount / this.pageSize > 1;\r\n  }\r\n\r\n  get curPage(): number {\r\n    return this.offset + 1;\r\n  }\r\n}\r\n","import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\n\r\nexport interface IPage {\r\n  number: number;\r\n  text: string;\r\n}\r\n\r\n@Component({\r\n  template: `\r\n    <ul class=\"pager\">\r\n      <li :class=\"{ disabled: !canPrevious }\">\r\n        <a role=\"button\" aria-label=\"go to first page\" href=\"javascript:void(0)\" @click=\"selectPage(1)\">\r\n          <i :class=\"pagerPreviousIcon\"></i>\r\n        </a>\r\n      </li>\r\n      <li :class=\"{ disabled: !canPrevious }\">\r\n        <a role=\"button\" aria-label=\"go to previous page\" href=\"javascript:void(0)\" @click=\"prevPage\">\r\n          <i :class=\"pagerLeftArrowIcon\"></i>\r\n        </a>\r\n      </li>\r\n      <li\r\n        role=\"button\"\r\n        aria-label=\"'page ' + pg.number\"\r\n        class=\"pages\"\r\n        v-for=\"pg of pages\"\r\n        :class=\"{ active: pg.number === myPage }\"\r\n      >\r\n        <a href=\"javascript:void(0)\" @click=\"selectPage(pg.number)\">\r\n          {{ pg.text }}\r\n        </a>\r\n      </li>\r\n      <li :class=\"{ disabled: !canNext }\">\r\n        <a role=\"button\" aria-label=\"go to next page\" href=\"javascript:void(0)\" @click=\"nextPage\">\r\n          <i :class=\"pagerRightArrowIcon\"></i>\r\n        </a>\r\n      </li>\r\n      <li :class=\"{ disabled: !canNext }\">\r\n        <a role=\"button\" aria-label=\"go to last page\" href=\"javascript:void(0)\" @click=\"selectPage(totalPages)\">\r\n          <i :class=\"pagerNextIcon\"></i>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  `,\r\n})\r\nexport default class DataTablePagerComponent extends Vue {\r\n  @Prop() pagerLeftArrowIcon: string;\r\n  @Prop() pagerRightArrowIcon: string;\r\n  @Prop() pagerPreviousIcon: string;\r\n  @Prop() pagerNextIcon: string;\r\n  @Prop({ type: Number, default: 0 }) size: number;\r\n  @Prop({ type: Number, default: 0 }) count: number;\r\n  @Prop({ type: Number, default: 1 }) page: number;\r\n\r\n  pages: any = [];\r\n  myPage = 0;\r\n\r\n  @Watch('count') onCountChanged(): void {\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  @Watch('size') onSizeChanged(): void {\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  @Watch('page') onPageChanged(): void {\r\n    this.myPage = this.page;\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  created(): void {\r\n    this.myPage = this.page;\r\n    this.pages = this.calcPages();\r\n  }\r\n\r\n  get totalPages(): number {\r\n    // const count = this.size < 1 ? 1 : Math.ceil(this.count / this.size);\r\n    if (this.size < 1) {\r\n      return 1;\r\n    }\r\n    let result = Math.ceil(this.count / this.size);\r\n    const newCount = Math.floor(this.count / this.size) * this.size;\r\n    if (this.count - newCount === 1) {\r\n      // correct page's number if last page contnains one row\r\n      result--;\r\n    }\r\n    return Math.max(result || 0, 1);\r\n  }\r\n\r\n  // @Output() change: EventEmitter<any> = new EventEmitter();\r\n\r\n  get canPrevious(): boolean {\r\n    return this.myPage > 1;\r\n  }\r\n\r\n  get canNext(): boolean {\r\n    return this.myPage < this.totalPages;\r\n  }\r\n\r\n  prevPage(): void {\r\n    this.selectPage(this.myPage - 1);\r\n  }\r\n\r\n  nextPage(): void {\r\n    this.selectPage(this.myPage + 1);\r\n  }\r\n\r\n  selectPage(page: number): void {\r\n    if (page > 0 && page <= this.totalPages && page !== this.myPage) {\r\n      this.myPage = page;\r\n\r\n      this.$emit('change-page', {\r\n        page,\r\n      });\r\n    }\r\n  }\r\n\r\n  calcPages(page?: number): IPage[] {\r\n    const pages: IPage[] = [];\r\n    let startPage = 1;\r\n    let endPage = this.totalPages;\r\n    const maxSize = 5;\r\n    const isMaxSized = maxSize < this.totalPages;\r\n\r\n    page = page || this.myPage;\r\n\r\n    if (isMaxSized) {\r\n      startPage = page - Math.floor(maxSize / 2);\r\n      endPage = page + Math.floor(maxSize / 2);\r\n\r\n      if (startPage < 1) {\r\n        startPage = 1;\r\n        endPage = Math.min(startPage + maxSize - 1, this.totalPages);\r\n      } else if (endPage > this.totalPages) {\r\n        startPage = Math.max(this.totalPages - maxSize + 1, 1);\r\n        endPage = this.totalPages;\r\n      }\r\n    }\r\n\r\n    for (let num = startPage; num <= endPage; num++) {\r\n      pages.push({\r\n        number: num,\r\n        text: String(num),\r\n      });\r\n    }\r\n    return pages;\r\n  }\r\n}\r\n","import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport { ISortPropDir, SelectionType, SortDirection, SortType, TableColumn } from '../../types';\r\nimport { nextSortDir } from '../../utils';\r\n\r\n@Component({\r\n  template: `\r\n    <div\r\n      class=\"datatable-header-cell-template-wrap\"\r\n      :class=\"[columnCssClasses]\"\r\n      :style=\"styles\"\r\n      :title=\"name\"\r\n      v-show=\"column.visible\"\r\n      @contextmenu=\"onContextmenu($event)\"\r\n    >\r\n      <slot name=\"target-marker\">\r\n        <!-- Default content -->\r\n        <div class=\"targetMarker\" v-if=\"isTarget\">\r\n          <div class=\"icon datatable-icon-down\"></div>\r\n          <div class=\"icon datatable-icon-up\"></div>\r\n        </div>\r\n      </slot>\r\n      <label v-if=\"isCheckboxable\" class=\"datatable-checkbox\">\r\n        <input type=\"checkbox\" v-model=\"myAllRowsSelected\" @change=\"onCheckboxChange\" />\r\n      </label>\r\n      <slot v-bind=\"{ column: column }\">\r\n        <!-- Default content -->\r\n        <span class=\"datatable-header-cell-wrapper\">\r\n          <span class=\"datatable-header-cell-label draggable\" :class=\"cssClass\" @click=\"onSort\" v-html=\"name\"> </span>\r\n        </span>\r\n      </slot>\r\n      <div :class=\"sortCssClass\" @click=\"onSort\">\r\n        {{ sortOrder }}\r\n      </div>\r\n      <slot name=\"append\" v-bind=\"{ column: column }\"></slot>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableHeaderCellComponent extends Vue {\r\n  @Prop() sortType: SortType;\r\n  @Prop() sortAscendingIcon: string;\r\n  @Prop() sortDescendingIcon: string;\r\n  @Prop() isTarget: boolean;\r\n  @Prop() allRowsSelected: boolean;\r\n  @Prop() selectionType: SelectionType;\r\n  @Prop() column: TableColumn;\r\n  @Prop() sorts: ISortPropDir[];\r\n  @Prop() headerHeight: number;\r\n\r\n  sortFn = this.onSort.bind(this) as () => void;\r\n  sortDir: SortDirection = null;\r\n  myAllRowsSelected = false;\r\n  sortOrder = '';\r\n  // selectFn = this.select.emit.bind(this.select);\r\n\r\n  cellContext = {\r\n    column: null,\r\n    sortDir: this.sortDir,\r\n    sortFn: this.sortFn,\r\n    allRowsSelected: false,\r\n    // selectFn: this.selectFn\r\n  };\r\n\r\n  resizeObserver?: ResizeObserver;\r\n\r\n  @Watch('allRowsSelected', { immediate: true }) onAllRowsSelectedChanged(): void {\r\n    if (!this.isCheckboxable) {\r\n      return;\r\n    }\r\n    this.myAllRowsSelected = this.allRowsSelected;\r\n    this.cellContext.allRowsSelected = this.allRowsSelected;\r\n  }\r\n\r\n  @Watch('column', { immediate: true }) onColumnChahged(): void {\r\n    this.cellContext.column = this.column;\r\n  }\r\n\r\n  @Watch('sorts', { immediate: true }) onSortsChanged(): void {\r\n    this.sortDir = this.calcSortDir(this.sorts);\r\n    this.cellContext.sortDir = this.sortDir;\r\n  }\r\n\r\n  created(): void {\r\n    this.cellContext.column = this.column;\r\n    this.cellContext.allRowsSelected = this.allRowsSelected;\r\n    this.$emit('header-cell-created', this.$el);\r\n    if (this.column.headerTemplate) {\r\n      this.$slots.default = this.column.headerTemplate({ column: this.column });\r\n    }\r\n    if (this.column.headerAppendTemplate) {\r\n      this.$slots.append = this.column.headerAppendTemplate({ column: this.column });\r\n    }\r\n  }\r\n\r\n  mounted(): void {\r\n    this.column.element = this.$el;\r\n    this.$emit('header-cell-mounted', this.$el);\r\n    this.setResizeObserver();\r\n  }\r\n\r\n  beforeUpdate(): void {\r\n    if (this.column.headerTemplate && !this.$slots.default) {\r\n      this.$slots.default = this.column.headerTemplate({ column: this.column });\r\n    }\r\n    if (this.column.headerAppendTemplate && !this.$slots.append) {\r\n      this.$slots.append = this.column.headerAppendTemplate({ column: this.column });\r\n    }\r\n  }\r\n\r\n  updated(): void {\r\n    if (this.resizeObserver && this.column.element !== this.$el) {\r\n      this.resizeObserver.unobserve(this.column.element);\r\n    }\r\n    this.column.element = this.$el;\r\n    this.setResizeObserver();\r\n  }\r\n\r\n  beforeDestroy(): void {\r\n    if (this.column) {\r\n      this.column.element = null;\r\n    }\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.unobserve(this.$el);\r\n    }\r\n  }\r\n\r\n  onCheckboxChange(): void {\r\n    this.$emit('select', this.myAllRowsSelected);\r\n  }\r\n\r\n  get columnCssClasses(): string {\r\n    let cls = 'datatable-header-cell';\r\n    if (this.column) {\r\n      if (this.column.sortable) {\r\n        cls += ' sortable';\r\n      }\r\n      if (this.column.resizeable) {\r\n        cls += ' resizeable';\r\n      }\r\n      if (this.column.draggable) {\r\n        cls += ' draggable';\r\n      }\r\n      if (this.column.headerClass) {\r\n        if (typeof this.column.headerClass === 'string') {\r\n          cls += ' ' + this.column.headerClass;\r\n        } else if (Array.isArray(this.column.headerClass)) {\r\n          cls += ' ' + this.column.headerClass.join(' ');\r\n        } else if (typeof this.column.headerClass === 'function') {\r\n          const res = this.column.headerClass({\r\n            column: this.column,\r\n          });\r\n          if (typeof res === 'string') {\r\n            cls += res;\r\n          } else if (typeof res === 'object') {\r\n            const keys = Object.keys(res);\r\n            for (const k of keys) {\r\n              if (res[k] === true) {\r\n                cls += ` ${k}`;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const sortDir = this.sortDir;\r\n    if (sortDir) {\r\n      cls += ` sort-active sort-${sortDir}`;\r\n    }\r\n\r\n    return cls;\r\n  }\r\n\r\n  get name(): string {\r\n    // guaranteed to have a value by setColumnDefaults() in column-helper.ts\r\n    return !this.column.headerTemplate ? this.column.name : null;\r\n  }\r\n\r\n  get styles(): Record<string, string> {\r\n    // const width = this.calcRealWidth();\r\n    // if (width !== null && width < 10) {\r\n    //   this.column.visible = false;\r\n    // } else {\r\n    //   this.column.visible = true;\r\n    // }\r\n    return {\r\n      height: `${this.headerHeight}px`,\r\n      width: `${this.column.width}px`,\r\n      'min-width': `${this.column.minWidth}px`,\r\n      'max-width': `${this.column.maxWidth}px`,\r\n    };\r\n  }\r\n\r\n  get sortCssClass(): string {\r\n    return this.calcSortCssClass(this.sortDir);\r\n  }\r\n\r\n  get cssClass(): string {\r\n    return this.calcCssClass(this.sortDir);\r\n  }\r\n\r\n  // @HostBinding('style.minWidth.px')\r\n  // get minWidth(): number {\r\n  //   return this.column.minWidth;\r\n  // }\r\n\r\n  // @HostBinding('style.maxWidth.px')\r\n  // get maxWidth(): number {\r\n  //   return this.column.maxWidth;\r\n  // }\r\n\r\n  // @HostBinding('style.width.px')\r\n  // get width(): number {\r\n  //   return this.column.width;\r\n  // }\r\n\r\n  get isCheckboxable(): boolean {\r\n    return this.column.checkboxable && this.column.headerCheckboxable;\r\n  }\r\n\r\n  // @HostListener('contextmenu', ['$event'])\r\n  onContextmenu($event: MouseEvent): void {\r\n    this.$emit('columnContextmenu', { event: $event, column: this.column });\r\n  }\r\n\r\n  calcSortDir(sorts: ISortPropDir[]): SortDirection {\r\n    this.sortOrder = '';\r\n    if (sorts && this.column) {\r\n      let sortOrder = '';\r\n      const sort = sorts\r\n        .filter(s => s.prop)\r\n        .find((s: ISortPropDir, index) => {\r\n          if (s.prop === this.column.prop) {\r\n            sortOrder = (index + 1).toString();\r\n            return true;\r\n          }\r\n        });\r\n      if (sort) {\r\n        if (this.sortType === SortType.multi) {\r\n          this.sortOrder = sortOrder;\r\n        }\r\n        return sort.dir;\r\n      }\r\n    }\r\n  }\r\n\r\n  onSort(): void {\r\n    if (!this.column.sortable) {\r\n      return;\r\n    }\r\n\r\n    const newValue = nextSortDir(this.sortType, this.sortDir);\r\n    this.$emit('sort', {\r\n      column: this.column,\r\n      prevValue: this.sortDir,\r\n      newValue,\r\n    });\r\n  }\r\n\r\n  calcSortCssClass(sortDir: SortDirection): string {\r\n    if (sortDir === SortDirection.asc) {\r\n      return `sort-btn sort-asc ${this.sortAscendingIcon}`;\r\n    }\r\n    if (sortDir === SortDirection.desc) {\r\n      return `sort-btn sort-desc ${this.sortDescendingIcon}`;\r\n    }\r\n    return 'sort-btn';\r\n  }\r\n\r\n  calcCssClass(sortDir: SortDirection): string {\r\n    if (sortDir === SortDirection.asc || sortDir === SortDirection.desc) {\r\n      return 'datatable-header-cell-bold';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private setResizeObserver() {\r\n    if ((window as Window).ResizeObserver) {\r\n      this.resizeObserver = new (window as Window).ResizeObserver(entries => {\r\n        if (!this.column) {\r\n          return;\r\n        }\r\n        if (entries.length && entries[0].contentRect) {\r\n          this.column.realWidth = Math.max(this.$el.clientWidth, entries[0].contentRect.width);\r\n        } else {\r\n          this.column.realWidth = this.$el.clientWidth;\r\n        }\r\n      });\r\n      this.resizeObserver.observe(this.$el);\r\n    } else {\r\n      this.column.realWidth = null;\r\n    }\r\n  }\r\n}\r\n","import { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport DraggableDirective from '../../directives/draggable.directive';\r\nimport LongPressDirective from '../../directives/long-press.directive';\r\nimport ResizeableDirective from '../../directives/resizeable.directive';\r\nimport { ISortEvent, ISortPropDir, SelectionType, SortDirection, SortType, TableColumn } from '../../types';\r\nimport {\r\n  columnGroupWidths,\r\n  columnsByPin,\r\n  columnsByPinArr,\r\n  IColumnsByPinRecord,\r\n  IColumnsWidth,\r\n  translateXY,\r\n} from '../../utils';\r\nimport DataTableHeaderCellComponent from './header-cell.component';\r\n\r\ninterface IDragPosition {\r\n  left: number;\r\n  right: number;\r\n  index: number;\r\n  element: HTMLElement;\r\n}\r\n\r\n@Component({\r\n  components: {\r\n    'datatable-header-cell': DataTableHeaderCellComponent,\r\n  },\r\n  directives: {\r\n    resizeable: ResizeableDirective,\r\n    'long-press': LongPressDirective,\r\n    dragndrop: DraggableDirective,\r\n  },\r\n  template: `\r\n    <div :style=\"styleObject\" class=\"datatable-header-inner\">\r\n      <div\r\n        v-for=\"colGroup of columnsByPin\"\r\n        :key=\"colGroup.type\"\r\n        :class=\"['datatable-row-' + colGroup.type]\"\r\n        :style=\"styleByGroup[colGroup.type]\"\r\n      >\r\n        <datatable-header-cell\r\n          v-for=\"column of colGroup.columns\"\r\n          :key=\"column.$$id\"\r\n          v-resizeable=\"{ resizeEnabled: column.resizeable }\"\r\n          v-long-press=\"{pressModel: column, pressEnabled: reorderable && column.draggable}\"\r\n          v-dragndrop=\"{dragEvent:dragEvent,dragModel:column,dragX:isEnableDragX(column),dragY:false}\"\r\n          @resize=\"onColumnResized($event, column)\"\r\n          @longPressStart=\"onLongPressStart($event, column)\"\r\n          @longPressEnd=\"onLongPressEnd($event, column)\"\r\n          :headerHeight=\"headerHeight\"\r\n          :isTarget=\"column.isTarget\"\r\n          :targetMarkerContext=\"column.targetMarkerContext\"\r\n          :column=\"column\"\r\n          :sortType=\"sortType\"\r\n          :sorts=\"sorts\"\r\n          :selectionType=\"selectionType\"\r\n          :sortAscendingIcon=\"sortAscendingIcon\"\r\n          :sortDescendingIcon=\"sortDescendingIcon\"\r\n          :allRowsSelected=\"allRowsSelected\"\r\n          @sort=\"onSort($event)\"\r\n          @select=\"onSelect\"\r\n          @columnContextmenu=\"$emit('columnContextmenu', $event)\"\r\n          @header-cell-mounted=\"onHeaderCellMounted(column, $event)\"\r\n          @dragStart=\"onDragStart\"\r\n          @dragEnd=\"onDragEnd\"\r\n          @dragging=\"onDragging\"\r\n          @hidden-changed=\"onHiddenChanged($event)\"\r\n        >\r\n        </datatable-header-cell>\r\n      </div>\r\n    </div>\r\n  `,\r\n})\r\nexport default class DataTableHeaderComponent extends Vue {\r\n  @Prop() sortAscendingIcon: string;\r\n  @Prop() sortDescendingIcon: string;\r\n  @Prop() scrollbarWidth: number;\r\n  @Prop() scrollbarH: boolean;\r\n  @Prop() dealsWithGroup: boolean;\r\n  @Prop() innerWidth: number;\r\n  @Prop() sorts: ISortPropDir[];\r\n  @Prop() sortType: SortType;\r\n  @Prop() allRowsSelected: boolean;\r\n  @Prop() selectionType: SelectionType;\r\n  @Prop() reorderable: boolean;\r\n  @Prop() headerHeight: string | number;\r\n  @Prop() columns: TableColumn[];\r\n  @Prop() offsetX: number;\r\n\r\n  columnsByPin: IColumnsByPinRecord[] = null;\r\n  columnGroupWidths: IColumnsWidth = null;\r\n  myHeaderHeight = 'auto';\r\n  styleByGroup = {\r\n    left: {},\r\n    center: {},\r\n    right: {},\r\n  };\r\n  targetMarkerContext: { class: string } = null;\r\n  dragEvent: MouseEvent = null;\r\n  dragging = false;\r\n  positions: Record<string, IDragPosition> = {};\r\n\r\n  // non-reactive props\r\n  lastDraggingIndex: number;\r\n  draggables: Array<{ dragModel: TableColumn; element: HTMLElement }>;\r\n\r\n  @Watch('innerWidth', { immediate: true }) onChangedInnerWidth(): void {\r\n    if (this.columns) {\r\n      const colByPin = columnsByPin(this.columns);\r\n      this.columnGroupWidths = columnGroupWidths(colByPin, this.columns, this.innerWidth);\r\n      this.setStylesByGroup();\r\n    }\r\n  }\r\n\r\n  // @HostBinding('style.height')\r\n  @Watch('headerHeight', { immediate: true }) onHeaderHeightChanged(): void {\r\n    if (this.headerHeight !== 'auto') {\r\n      this.myHeaderHeight = `${this.headerHeight}px`;\r\n    } else {\r\n      this.myHeaderHeight = this.headerHeight;\r\n    }\r\n  }\r\n\r\n  @Watch('columns', { immediate: true }) onColumnsChanged(): void {\r\n    const colsByPin = columnsByPin(this.columns);\r\n    this.columnsByPin = columnsByPinArr(this.columns);\r\n    this.columnGroupWidths = columnGroupWidths(colsByPin, this.columns, this.innerWidth);\r\n    this.setStylesByGroup();\r\n  }\r\n\r\n  @Watch('offsetX') onOffsetXChanged(): void {\r\n    this.setStylesByGroup();\r\n  }\r\n\r\n  // @Output() sort: EventEmitter<any> = new EventEmitter();\r\n  // @Output() reorder: EventEmitter<any> = new EventEmitter();\r\n  // @Output() resize: EventEmitter<any> = new EventEmitter();\r\n  // @Output() select: EventEmitter<any> = new EventEmitter();\r\n  // @Output() columnContextmenu = new EventEmitter<{ event: MouseEvent, column: any }>(false);\r\n\r\n  onLongPressStart({ event, model }: { event: MouseEvent; model: { dragging: boolean } }): void {\r\n    model.dragging = true;\r\n    this.dragEvent = event;\r\n  }\r\n\r\n  onLongPressEnd({ event, model }: { event: MouseEvent; model: TableColumn }): void {\r\n    this.dragEvent = event;\r\n\r\n    // delay resetting so sort can be\r\n    // prevented if we were dragging\r\n    setTimeout(() => {\r\n      // datatable component creates copies from columns on reorder\r\n      // set dragging to false on new objects\r\n      const column = this.columns.find(c => c.$$id === model.$$id);\r\n      if (column) {\r\n        column.dragging = false;\r\n      }\r\n    }, 5);\r\n  }\r\n\r\n  // @HostBinding('style.width')\r\n  get headerWidth(): string {\r\n    if (this.scrollbarH) {\r\n      return `${this.innerWidth}px`;\r\n    }\r\n    return '100%';\r\n  }\r\n\r\n  isEnableDragX(column: TableColumn): boolean {\r\n    return this.reorderable && column.draggable && column.dragging;\r\n  }\r\n\r\n  // trackByGroups(colGroup: any): any {\r\n  //   return colGroup.type;\r\n  // }\r\n\r\n  // columnTrackingFn(column: any): any {\r\n  //   return column.$$id;\r\n  // }\r\n\r\n  onColumnResized(width: number, column: TableColumn): void {\r\n    // column: DataTableColumnDirective\r\n    if (width <= column.minWidth) {\r\n      width = column.minWidth;\r\n    } else if (width >= column.maxWidth) {\r\n      width = column.maxWidth;\r\n    }\r\n\r\n    this.$emit('resize', {\r\n      column,\r\n      prevValue: column.width,\r\n      newValue: width,\r\n    });\r\n  }\r\n\r\n  onHiddenChanged(): void {\r\n    this.$emit('hidden-changed');\r\n    this.onChangedInnerWidth();\r\n  }\r\n\r\n  getColumn(index: number): TableColumn {\r\n    const leftColumnCount = this.columnsByPin[0].columns.length;\r\n    if (index < leftColumnCount) {\r\n      return this.columnsByPin[0].columns[index];\r\n    }\r\n\r\n    const centerColumnCount = this.columnsByPin[1].columns.length;\r\n    if (index < leftColumnCount + centerColumnCount) {\r\n      return this.columnsByPin[1].columns[index - leftColumnCount];\r\n    }\r\n\r\n    return this.columnsByPin[2].columns[index - leftColumnCount - centerColumnCount];\r\n  }\r\n\r\n  onSort({\r\n    column,\r\n    prevValue,\r\n    newValue,\r\n  }: {\r\n    column: TableColumn;\r\n    prevValue: SortDirection;\r\n    newValue: SortDirection;\r\n  }): void {\r\n    // if we are dragging don't sort!\r\n    if (column.dragging) {\r\n      return;\r\n    }\r\n\r\n    const sorts = this.calcNewSorts(column, prevValue, newValue);\r\n    const event: ISortEvent = {\r\n      sorts,\r\n      column,\r\n      prevValue,\r\n      newValue,\r\n    };\r\n    this.$emit('sort', event);\r\n  }\r\n\r\n  onSelect(event: Event): void {\r\n    this.$emit('select', event);\r\n  }\r\n\r\n  calcNewSorts(column: TableColumn, prevValue: SortDirection, newValue: SortDirection): ISortPropDir[] {\r\n    let idx = 0;\r\n\r\n    if (!this.sorts) {\r\n      this.sorts = [];\r\n    }\r\n\r\n    const sorts = this.sorts.map((s, i) => {\r\n      s = { ...s };\r\n      if (s.prop === column.prop) {\r\n        idx = i;\r\n      }\r\n      return s;\r\n    });\r\n\r\n    if (!newValue) {\r\n      sorts.splice(idx, 1);\r\n    } else if (prevValue) {\r\n      sorts[idx].dir = newValue;\r\n    } else {\r\n      if (this.sortType === SortType.single) {\r\n        sorts.splice(0, this.sorts.length);\r\n      }\r\n\r\n      sorts.push({ dir: newValue, prop: column.prop });\r\n    }\r\n\r\n    return sorts;\r\n  }\r\n\r\n  setStylesByGroup(): void {\r\n    if (!this.columnsByPin || !this.columnsByPin.length) {\r\n      return;\r\n    }\r\n    const leftColumnCount = this.columnsByPin[0].columns.length;\r\n    if (leftColumnCount) {\r\n      this.styleByGroup['left'] = this.calcStylesByGroup('left');\r\n    }\r\n    const centerColumnCount = this.columnsByPin[1].columns.length;\r\n    if (centerColumnCount) {\r\n      this.styleByGroup['center'] = this.calcStylesByGroup('center');\r\n    }\r\n    const rightColumnCount = this.columnsByPin[2].columns.length;\r\n    if (rightColumnCount) {\r\n      this.styleByGroup['right'] = this.calcStylesByGroup('right');\r\n    }\r\n  }\r\n\r\n  calcStylesByGroup(group: keyof IColumnsWidth): Record<string, string | number> {\r\n    const widths = this.columnGroupWidths;\r\n    const offsetX = this.offsetX;\r\n\r\n    const styles = {\r\n      width: `${widths[group]}px`,\r\n    };\r\n    if (group === 'center') {\r\n      translateXY(styles, offsetX * -1, 0);\r\n    } else if (group === 'right') {\r\n      const totalDiff = widths.total - this.innerWidth;\r\n      let offset = totalDiff * -1;\r\n      if (this.scrollbarWidth) {\r\n        offset -= this.scrollbarWidth;\r\n      }\r\n      translateXY(styles, offset, 0);\r\n    }\r\n    return styles;\r\n  }\r\n\r\n  styleForGroup(group: IColumnsByPinRecord): Record<string, string | number> {\r\n    return this.styleByGroup[group.type];\r\n  }\r\n\r\n  get styleObject(): Record<string, string | number> {\r\n    return {\r\n      width: this.headerWidth ? this.headerWidth : `${this.columnGroupWidths.total}px`,\r\n      height: this.myHeaderHeight,\r\n    };\r\n  }\r\n\r\n  onHeaderCellMounted(column: TableColumn, element: HTMLElement): void {\r\n    if (!this.draggables) {\r\n      this.draggables = [];\r\n    }\r\n    this.draggables.push({ dragModel: column, element });\r\n  }\r\n\r\n  onDragStart(): void {\r\n    if (this.dragging) {\r\n      return;\r\n    }\r\n    this.dragging = true;\r\n\r\n    this.positions = {};\r\n\r\n    let i = 0;\r\n    this.draggables.sort((a, b) => {\r\n      const left = parseInt(a.element.offsetLeft.toString(), 10);\r\n      const left1 = parseInt(b.element.offsetLeft.toString(), 10);\r\n      return left - left1;\r\n    });\r\n    for (const dragger of this.draggables) {\r\n      const elm = dragger.element;\r\n      const left = parseInt(elm.offsetLeft.toString(), 10);\r\n      const width = elm.offsetWidth;\r\n      if (width) {\r\n        this.positions[dragger.dragModel.prop] = {\r\n          left,\r\n          right: left + parseInt(width.toString(), 10),\r\n          index: i++,\r\n          element: elm,\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  onDragging({ element, model, event }: { element: HTMLElement; model: TableColumn; event: MouseEvent }): void {\r\n    const prevPos = this.positions[model.prop];\r\n    const target = this.isTarget(model, event);\r\n\r\n    if (target) {\r\n      if (this.lastDraggingIndex !== target.i) {\r\n        this.onTargetChanged({\r\n          prevIndex: this.lastDraggingIndex,\r\n          newIndex: target.i,\r\n          initialIndex: prevPos.index,\r\n        });\r\n        this.lastDraggingIndex = target.i;\r\n      }\r\n    } else if (this.lastDraggingIndex !== prevPos.index) {\r\n      this.onTargetChanged({\r\n        prevIndex: this.lastDraggingIndex,\r\n        initialIndex: prevPos.index,\r\n      });\r\n      this.lastDraggingIndex = prevPos.index;\r\n    }\r\n  }\r\n\r\n  onDragEnd({ element, model, event }: { element: HTMLElement; model: TableColumn; event: MouseEvent }): void {\r\n    this.dragging = false;\r\n    const prevPos = this.columns.findIndex(col => col.prop === model.prop); // this.positions[model.prop];\r\n\r\n    const target = this.isTarget(model, event);\r\n    this.positions = {};\r\n    if (target) {\r\n      this.onColumnReordered({\r\n        prevIndex: prevPos,\r\n        newIndex: this.columns.findIndex(col => col.prop === target.prop), // target.i,\r\n        model,\r\n      });\r\n    }\r\n    // eslint-disable-next-line no-undefined\r\n    this.lastDraggingIndex = undefined;\r\n    element.style.left = 'auto';\r\n  }\r\n\r\n  onColumnReordered({ prevIndex, newIndex, model }: { prevIndex: number; newIndex: number; model: TableColumn }): void {\r\n    const column = this.getColumn(newIndex);\r\n    column.isTarget = false;\r\n    column.targetMarkerContext = null;\r\n    this.$emit('reorder', {\r\n      column: model,\r\n      prevValue: prevIndex,\r\n      newValue: newIndex,\r\n    });\r\n  }\r\n\r\n  onTargetChanged({\r\n    prevIndex,\r\n    newIndex,\r\n    initialIndex,\r\n  }: {\r\n    prevIndex: number;\r\n    newIndex?: number;\r\n    initialIndex: number;\r\n  }): void {\r\n    if (prevIndex || prevIndex === 0) {\r\n      const oldColumn = this.getColumn(prevIndex);\r\n      oldColumn.isTarget = false;\r\n      oldColumn.targetMarkerContext = null;\r\n    }\r\n    if (newIndex || newIndex === 0) {\r\n      const newColumn = this.getColumn(newIndex);\r\n      newColumn.isTarget = true;\r\n\r\n      if (initialIndex !== newIndex) {\r\n        newColumn.targetMarkerContext = {\r\n          class: 'targetMarker '.concat(initialIndex > newIndex ? 'dragFromRight' : 'dragFromLeft'),\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  isTarget(\r\n    model: TableColumn,\r\n    event: MouseEvent\r\n  ): {\r\n    prop: string;\r\n    pos: IDragPosition;\r\n    i: number;\r\n  } {\r\n    let i = 0;\r\n    const x = event.x || event.clientX;\r\n    const y = event.y || event.clientY;\r\n    const targets = document.elementsFromPoint(x, y);\r\n\r\n    for (const prop in this.positions) {\r\n      // current column position which throws event.\r\n      const pos = this.positions[prop];\r\n      // since we drag the inner span, we need to find it in the elements at the cursor\r\n      if (model.prop !== prop && targets.find((el: HTMLElement) => el === pos.element)) {\r\n        return {\r\n          prop,\r\n          pos,\r\n          i,\r\n        };\r\n      }\r\n\r\n      i++;\r\n    }\r\n  }\r\n}\r\n","import { TableColumn } from 'types';\r\nimport { VNode } from 'vue';\r\nimport { Vue } from 'vue-property-decorator';\r\nimport { DirectiveBinding } from 'vue/types/options';\r\n\r\nlet idCounter = 0;\r\n\r\nclass DraggableController {\r\n  id = 0;\r\n  vnode: VNode = null;\r\n  element: HTMLElement = null;\r\n  handleUp: (event: MouseEvent) => void = null;\r\n  handleDown: (event: MouseEvent) => void = null;\r\n  handleMove: (event: MouseEvent) => void = null;\r\n  dragModel: TableColumn;\r\n  dragX = true;\r\n  dragY = true;\r\n\r\n  private _dragEvent: MouseEvent = null;\r\n  private isDragging = false;\r\n  private mouseDownPos: { x: number; y: number };\r\n\r\n  constructor(id: number, vNode: VNode, el: HTMLElement, dragModel: TableColumn, dragX: boolean, dragY: boolean) {\r\n    this.id = id;\r\n    this.vnode = vNode;\r\n    this.element = el;\r\n    this.dragModel = dragModel;\r\n    this.dragX = dragX;\r\n    this.dragY = dragY;\r\n    this.handleUp = this.onMouseUp.bind(this) as (event: MouseEvent) => void;\r\n    this.handleMove = this.onMouseMove.bind(this) as (event: MouseEvent) => void;\r\n  }\r\n\r\n  unsubscribe() {\r\n    document.removeEventListener('mousemove', this.handleMove);\r\n    document.removeEventListener('mouseup', this.handleUp);\r\n  }\r\n\r\n  set dragEvent(value: MouseEvent) {\r\n    this._dragEvent = value;\r\n    if (value) {\r\n      this.onMouseDown(value);\r\n    }\r\n  }\r\n  get dragEvent() {\r\n    return this._dragEvent;\r\n  }\r\n\r\n  onMouseDown(event: MouseEvent): void {\r\n    // we only want to drag the inner header text\r\n    const isDragElm = (<HTMLElement>event.target).classList.contains('draggable');\r\n\r\n    if (isDragElm && (this.dragX || this.dragY)) {\r\n      event.preventDefault();\r\n      this.isDragging = true;\r\n\r\n      this.mouseDownPos = { x: event.clientX, y: event.clientY };\r\n\r\n      document.addEventListener('mouseup', this.handleUp);\r\n      document.addEventListener('mousemove', this.handleMove);\r\n\r\n      this.emit('dragStart', {\r\n        event,\r\n        element: this.element,\r\n        model: this.dragModel,\r\n      });\r\n    }\r\n  }\r\n\r\n  private onMouseUp(event: MouseEvent): void {\r\n    document.removeEventListener('mousemove', this.handleMove);\r\n    if (!this.isDragging) {\r\n      return;\r\n    }\r\n\r\n    this.isDragging = false;\r\n    this.element.classList.remove('dragging');\r\n\r\n    this.unsubscribe();\r\n    this.emit('dragEnd', {\r\n      event,\r\n      element: this.element,\r\n      model: this.dragModel,\r\n    });\r\n  }\r\n\r\n  private onMouseMove(event: MouseEvent): void {\r\n    if (!this.isDragging) {\r\n      return;\r\n    }\r\n\r\n    const x = event.clientX - this.mouseDownPos.x;\r\n    const y = event.clientY - this.mouseDownPos.y;\r\n\r\n    if (this.dragX) {\r\n      this.element.style.left = `${x}px`;\r\n    }\r\n    if (this.dragY) {\r\n      this.element.style.top = `${y}px`;\r\n    }\r\n\r\n    this.element.classList.add('dragging');\r\n\r\n    this.emit('dragging', {\r\n      event,\r\n      element: this.element,\r\n      model: this.dragModel,\r\n    });\r\n  }\r\n\r\n  private emit(name: string, data: any): void {\r\n    const handlers =\r\n      (this.vnode.data && this.vnode.data.on) || (this.vnode.componentOptions && this.vnode.componentOptions.listeners);\r\n    if (handlers && handlers[name]) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\r\n      handlers[name].fns(data);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Vue.directive('draggable', {\r\n  bind(el: HTMLElement, binding: DirectiveBinding, vnode: VNode): void {\r\n    const ctrl = new DraggableController(\r\n      idCounter++,\r\n      vnode,\r\n      el,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n      binding.value.dragModel as TableColumn,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n      binding.value.dragX,\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n      binding.value.dragY\r\n    );\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    (el as any).__draggable__ = ctrl;\r\n  },\r\n  update(el: HTMLElement, binding: DirectiveBinding, vnode: VNode): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    const ctrl: DraggableController = (el as any).__draggable__ as DraggableController;\r\n    if (!ctrl) {\r\n      return;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    ctrl.dragX = binding.value.dragX as boolean;\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    ctrl.dragEvent = binding.value.dragEvent as MouseEvent;\r\n  },\r\n  unbind(el: HTMLElement) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    const ctrl: DraggableController = (el as any).__draggable__ as DraggableController;\r\n    ctrl.unsubscribe();\r\n  },\r\n});\r\n","import { TableColumn } from 'types';\r\nimport { VNode } from 'vue';\r\nimport { Vue } from 'vue-property-decorator';\r\nimport { DirectiveBinding } from 'vue/types/options';\r\n\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nlet _id = 0;\r\n\r\nclass LongPressController {\r\n  id = 0;\r\n  pressEnabled = true;\r\n  pressModel: TableColumn;\r\n  duration = 200;\r\n  _pressing: boolean;\r\n  _isLongPressing: boolean;\r\n  timeout: any;\r\n  mouseX = 0;\r\n  mouseY = 0;\r\n  vnode: VNode = null;\r\n  element: HTMLElement = null;\r\n  handleUp: (event: MouseEvent) => void = null;\r\n  handleDown: (event: MouseEvent) => void = null;\r\n  handleMove: (event: MouseEvent) => void = null;\r\n\r\n  constructor(id: number, vNode: VNode, el: HTMLElement) {\r\n    this.id = id;\r\n    this.vnode = vNode;\r\n    this.element = el;\r\n    this.handleDown = this.onMouseDown.bind(this) as (event: MouseEvent) => void;\r\n    this.handleUp = this.onMouseUp.bind(this) as (event: MouseEvent) => void;\r\n    this.handleMove = this.onMouseMove.bind(this) as (event: MouseEvent) => void;\r\n    el.addEventListener('mousedown', this.handleDown);\r\n  }\r\n\r\n  unsubscribe() {\r\n    document.removeEventListener('mousemove', this.handleMove);\r\n    document.removeEventListener('mouseup', this.handleUp);\r\n  }\r\n\r\n  set pressing(value: boolean) {\r\n    this._pressing = value;\r\n    if (value) {\r\n      this.element.classList.add('press');\r\n    } else {\r\n      this.element.classList.remove('press');\r\n    }\r\n  }\r\n\r\n  get pressing(): boolean {\r\n    return this._pressing;\r\n  }\r\n\r\n  set isLongPressing(value: boolean) {\r\n    this._isLongPressing = value;\r\n    // console.log('set isLongPressing, id, value', this.id, value);\r\n    if (value) {\r\n      this.element.classList.add('longpress');\r\n    } else {\r\n      this.element.classList.remove('longpress');\r\n    }\r\n  }\r\n\r\n  get isLongPressing(): boolean {\r\n    return this._isLongPressing;\r\n  }\r\n\r\n  private onMouseDown(event: MouseEvent): void {\r\n    // don't do right/middle clicks\r\n    if (event.which !== 1 || !this.pressEnabled) {\r\n      return;\r\n    }\r\n\r\n    // don't start drag if its on resize handle\r\n    const target = <HTMLElement>event.target;\r\n    if (target.classList.contains('resize-handle')) {\r\n      return;\r\n    }\r\n\r\n    this.mouseX = event.clientX;\r\n    this.mouseY = event.clientY;\r\n\r\n    this.pressing = true;\r\n    this.isLongPressing = false;\r\n\r\n    document.addEventListener('mouseup', this.handleUp);\r\n\r\n    this.timeout = setTimeout(() => {\r\n      this.isLongPressing = true;\r\n      this.emit('longPressStart', {\r\n        event,\r\n        model: this.pressModel,\r\n      });\r\n\r\n      document.addEventListener('mousemove', this.handleMove);\r\n\r\n      this.loop(event);\r\n    }, this.duration);\r\n\r\n    this.loop(event);\r\n  }\r\n\r\n  private onMouseUp(): void {\r\n    document.removeEventListener('mousemove', this.handleMove);\r\n    this.endPress();\r\n  }\r\n\r\n  private onMouseMove(event: MouseEvent): void {\r\n    if (this.pressing && !this.isLongPressing) {\r\n      const xThres = Math.abs(event.clientX - this.mouseX) > 10;\r\n      const yThres = Math.abs(event.clientY - this.mouseY) > 10;\r\n\r\n      // console.log('long-press mouse move, id=', this.id);\r\n\r\n      if (xThres || yThres) {\r\n        this.endPress();\r\n      }\r\n    }\r\n  }\r\n\r\n  private loop(event: MouseEvent): void {\r\n    if (this.isLongPressing) {\r\n      this.timeout = setTimeout(() => {\r\n        this.emit('longPressing', {\r\n          event,\r\n          model: this.pressModel,\r\n        });\r\n        this.loop(event);\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  private endPress(): void {\r\n    clearTimeout(this.timeout);\r\n    if (this.isLongPressing) {\r\n      this.unsubscribe();\r\n      this.isLongPressing = false;\r\n      this.pressing = false;\r\n\r\n      this.emit('longPressEnd', {\r\n        model: this.pressModel,\r\n      });\r\n    }\r\n  }\r\n\r\n  private emit(name: string, data: any) {\r\n    const handlers =\r\n      (this.vnode.data && this.vnode.data.on) || (this.vnode.componentOptions && this.vnode.componentOptions.listeners);\r\n    if (handlers && handlers[name]) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\r\n      handlers[name].fns(data);\r\n    }\r\n  }\r\n}\r\n\r\ninterface IDirValue {\r\n  pressModel: TableColumn;\r\n  pressEnabled: boolean;\r\n  duration?: number;\r\n}\r\n\r\nexport interface IHasLongPressController extends HTMLElement {\r\n  __longpress__: LongPressController;\r\n}\r\n\r\nexport default Vue.directive('long-press', {\r\n  bind(el: HTMLElement, binding: DirectiveBinding, vnode: VNode) {\r\n    const ctrl = new LongPressController(_id++, vnode, el);\r\n    const value = binding.value as IDirValue;\r\n    // eslint-disable-next-line no-undefined\r\n    if (value.pressEnabled !== undefined && value.pressEnabled !== null) {\r\n      ctrl.pressEnabled = value.pressEnabled;\r\n    }\r\n    // eslint-disable-next-line no-undefined\r\n    if (value.duration !== undefined && value.duration !== null) {\r\n      ctrl.duration = value.duration;\r\n    }\r\n    ctrl.pressModel = value.pressModel;\r\n    (el as IHasLongPressController).__longpress__ = ctrl;\r\n  },\r\n  unbind(el: any) {\r\n    const ctrl: LongPressController = (el as IHasLongPressController).__longpress__;\r\n    ctrl.element.removeEventListener('mousedown', ctrl.handleDown);\r\n    ctrl.unsubscribe();\r\n  },\r\n});\r\n","import { VNode } from 'vue';\r\nimport { Vue } from 'vue-property-decorator';\r\nimport { DirectiveBinding } from 'vue/types/options';\r\n\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nlet _id = 0;\r\n\r\nclass ResizeableDirectiveController {\r\n  resizeEnabled = true;\r\n  minWidth = 0;\r\n  maxWidth = 0;\r\n  resizing = false;\r\n  element: HTMLElement = null;\r\n  handleUp: (event: MouseEvent) => void = null;\r\n  handleDown: (event: MouseEvent) => void = null;\r\n  handleMove: (event: MouseEvent) => void = null;\r\n  vnode: VNode = null;\r\n  id = 0;\r\n\r\n  constructor(id: number, vNode: VNode, el: HTMLElement) {\r\n    this.id = id;\r\n    this.vnode = vNode;\r\n    this.element = el;\r\n    this.handleDown = this.onMouseDown.bind(this) as (event: MouseEvent) => void;\r\n    this.handleUp = this.onMouseUp.bind(this) as (event: MouseEvent) => void;\r\n  }\r\n\r\n  private onMouseUp() {\r\n    document.removeEventListener('mousemove', this.handleMove);\r\n    if (this.resizing) {\r\n      this.resizing = false;\r\n      // this.vnode.context.$emit('resize', this.element.clientWidth);\r\n      this.emit(this.vnode, 'resize', this.element.clientWidth);\r\n    }\r\n  }\r\n\r\n  private onMouseDown(event: MouseEvent): void {\r\n    const isHandle = (<HTMLElement>event.target).classList.contains('resize-handle');\r\n    const initialWidth = this.element.clientWidth;\r\n    const mouseDownScreenX = event.screenX;\r\n\r\n    if (isHandle) {\r\n      event.stopPropagation();\r\n      this.resizing = true;\r\n      this.handleMove = (e: MouseEvent) => this.move(e, initialWidth, mouseDownScreenX);\r\n      document.addEventListener('mousemove', this.handleMove);\r\n    }\r\n  }\r\n\r\n  private move(event: MouseEvent, initialWidth: number, mouseDownScreenX: number): void {\r\n    if (!this.resizing) {\r\n      return;\r\n    }\r\n    const movementX = event.screenX - mouseDownScreenX;\r\n    const newWidth = initialWidth + movementX;\r\n\r\n    const overMinWidth = !this.minWidth || newWidth >= this.minWidth;\r\n    const underMaxWidth = !this.maxWidth || newWidth <= this.maxWidth;\r\n\r\n    if (overMinWidth && underMaxWidth) {\r\n      this.element.style.width = `${newWidth}px`;\r\n    }\r\n  }\r\n\r\n  private emit(vnode: VNode, name: string, data: any) {\r\n    const handlers = (vnode.data && vnode.data.on) || (vnode.componentOptions && vnode.componentOptions.listeners);\r\n    if (handlers && handlers[name]) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\r\n      handlers[name].fns(data);\r\n    }\r\n  }\r\n}\r\n\r\ninterface IDirValue {\r\n  resizeEnabled: boolean;\r\n  minWidth?: number;\r\n  maxWidth?: number;\r\n}\r\n\r\nexport interface IHasResizeableDirectiveController extends HTMLElement {\r\n  __resizeable__: ResizeableDirectiveController;\r\n}\r\n\r\nexport default Vue.directive('resizeable', {\r\n  resizing: false,\r\n  bind(el: HTMLElement, binding: DirectiveBinding, vnode: VNode) {\r\n    const ctrl = new ResizeableDirectiveController(_id++, vnode, el);\r\n    const value = binding.value as IDirValue;\r\n    // eslint-disable-next-line no-undefined\r\n    if (value.resizeEnabled !== undefined && value.resizeEnabled !== null) {\r\n      ctrl.resizeEnabled = value.resizeEnabled;\r\n    }\r\n    ctrl.minWidth = value.minWidth;\r\n    ctrl.maxWidth = value.maxWidth;\r\n    (el as IHasResizeableDirectiveController).__resizeable__ = ctrl;\r\n    document.addEventListener('mouseup', ctrl.handleUp);\r\n    el.addEventListener('mousedown', ctrl.handleDown);\r\n  },\r\n  unbind(el: HTMLElement) {\r\n    const ctrl = (el as IHasResizeableDirectiveController).__resizeable__;\r\n    document.removeEventListener('mouseup', ctrl.handleUp);\r\n    el.removeEventListener('mousedown', ctrl.handleDown);\r\n  },\r\n  inserted(el: HTMLElement) {\r\n    const node = document.createElement('span');\r\n    const ctrl = (el as IHasResizeableDirectiveController).__resizeable__;\r\n    if (ctrl.resizeEnabled) {\r\n      node.classList.add('resize-handle');\r\n    } else {\r\n      node.classList.add('resize-handle--not-resizable');\r\n    }\r\n    el.appendChild(node);\r\n  },\r\n});\r\n","import { VNode } from 'vue';\r\nimport { Vue } from 'vue-property-decorator';\r\nimport { DirectiveBinding } from 'vue/types/options';\r\n\r\nclass VisibilityController {\r\n  _isVisible = false;\r\n  timeout: any;\r\n  vnode: VNode = null;\r\n  element: HTMLElement = null;\r\n\r\n  constructor(vNode: VNode, el: HTMLElement) {\r\n    this.vnode = vNode;\r\n    this.element = el;\r\n  }\r\n\r\n  set isVisible(value: boolean) {\r\n    this._isVisible = value;\r\n    if (value) {\r\n      this.element.classList.add('visible');\r\n    } else {\r\n      this.element.classList.remove('visible');\r\n    }\r\n  }\r\n\r\n  get isVisible(): boolean {\r\n    return this._isVisible;\r\n  }\r\n\r\n  stopCheck(): void {\r\n    clearTimeout(this.timeout);\r\n  }\r\n\r\n  onVisibilityChange(visible: boolean): void {\r\n    if (this.isVisible !== visible) {\r\n      this.isVisible = visible;\r\n      this.emit('visible', visible);\r\n    }\r\n  }\r\n\r\n  runCheck(timeout: number): void {\r\n    const check = () => {\r\n      clearTimeout(this.timeout);\r\n      // https://davidwalsh.name/offsetheight-visibility\r\n      const { offsetHeight, offsetWidth } = this.element;\r\n\r\n      if (offsetHeight && offsetWidth) {\r\n        this.onVisibilityChange(true);\r\n      } else {\r\n        this.onVisibilityChange(false);\r\n      }\r\n      this.timeout = setTimeout(() => check(), timeout);\r\n    };\r\n    this.timeout = setTimeout(() => check());\r\n  }\r\n\r\n  private emit(name: string, data: any) {\r\n    const handlers =\r\n      (this.vnode.data && this.vnode.data.on) || (this.vnode.componentOptions && this.vnode.componentOptions.listeners);\r\n\r\n    if (handlers && handlers[name]) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\r\n      handlers[name].fns(data);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Visibility Observer Directive\r\n *\r\n * Usage:\r\n *\r\n * <div\r\n *   v-visibility-observer\r\n * >\r\n * </div>\r\n *\r\n */\r\nexport default Vue.directive('visibility-observer', {\r\n  resizing: false,\r\n  bind(el: HTMLElement, binding: DirectiveBinding, vnode: VNode) {\r\n    const ctrl = new VisibilityController(vnode, el);\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    (el as any).__visibility__ = ctrl;\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    if (binding?.value?.on) {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n      ctrl.runCheck(binding?.value?.timeout ?? 1000);\r\n    }\r\n  },\r\n  unbind(el: HTMLElement) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n    const ctrl = (el as any).__visibility__ as VisibilityController;\r\n    ctrl.stopCheck();\r\n  },\r\n});\r\n","/**\r\n * Gets the width of the scrollbar.  Nesc for windows\r\n * http://stackoverflow.com/a/13382873/888165\r\n */\r\nexport class DimensionsHelper {\r\n  getDimensions(element: Element): ClientRect {\r\n    return element.getBoundingClientRect();\r\n  }\r\n}\r\n","/**\r\n * Gets the width of the scrollbar.  Nesc for windows\r\n * http://stackoverflow.com/a/13382873/888165\r\n */\r\nexport class ScrollbarHelper {\r\n  width: number;\r\n  private readonly document: Document;\r\n\r\n  constructor() {\r\n    this.document = window.document;\r\n    this.width = this.getWidth();\r\n  }\r\n\r\n  getWidth(): number {\r\n    const outer: HTMLElement = this.document.createElement('div');\r\n    outer.style.visibility = 'hidden';\r\n    outer.style.width = '100px';\r\n    outer.style['msOverflowStyle'] = 'scrollbar';\r\n    this.document.body.appendChild(outer);\r\n\r\n    const widthNoScroll = outer.offsetWidth;\r\n    outer.style.overflow = 'scroll';\r\n\r\n    const inner = this.document.createElement('div');\r\n    inner.style.width = '100%';\r\n    outer.appendChild(inner);\r\n\r\n    const widthWithScroll = inner.offsetWidth;\r\n    outer.parentNode.removeChild(outer);\r\n\r\n    return widthNoScroll - widthWithScroll;\r\n  }\r\n}\r\n","export enum CheckMode {\r\n  checkIsSelect = 'checkIsSelect',\r\n  checkNoSelect = 'checkNoSelect',\r\n}\r\n","export enum ClickType {\r\n  single = 'single',\r\n  double = 'double',\r\n}\r\n","export enum ColumnMode {\r\n  standard = 'standard',\r\n  flex = 'flex',\r\n  force = 'force',\r\n}\r\n","export enum ContextmenuType {\r\n  header = 'header',\r\n  body = 'body',\r\n}\r\n","export * from './column-mode.type';\r\nexport * from './sort.type';\r\nexport * from './sort-direction.type';\r\nexport * from './selection.type';\r\nexport * from './click.type';\r\nexport * from './table-column.type';\r\nexport * from './sort-prop-dir.type';\r\nexport * from './contextmenu.type';\r\n","export enum SelectionType {\r\n  single = 'single',\r\n  singleFocus = 'singleFocus',\r\n  multi = 'multi',\r\n  multiClick = 'multiClick',\r\n  cell = 'cell',\r\n  checkbox = 'checkbox',\r\n}\r\n","export enum SortDirection {\r\n  asc = 'asc',\r\n  desc = 'desc',\r\n}\r\n","export enum SortType {\r\n  single = 'single',\r\n  multi = 'multi',\r\n}\r\n","/**\r\n * Converts strings from something to camel case\r\n * http://stackoverflow.com/questions/10425287/convert-dash-separated-string-to-camelcase\r\n */\r\nexport function camelCase(str: string): string {\r\n  // Replace special characters with a space\r\n  // eslint-disable-next-line optimize-regex/optimize-regex\r\n  str = str.replace(/[^a-zA-Z0-9 ]/g, ' ');\r\n  // put a space before an uppercase letter\r\n  str = str.replace(/([a-z](?=[A-Z]))/g, '$1 ');\r\n\r\n  // Lower case first character and some other stuff\r\n  str = str\r\n    // eslint-disable-next-line optimize-regex/optimize-regex\r\n    .replace(/([^a-zA-Z0-9 ])|^[0-9]+/g, '')\r\n    .trim()\r\n    .toLowerCase();\r\n\r\n  // uppercase characters preceded by a space or number\r\n  str = str.replace(/([\\d ]+)([A-Za-z])/g, (a, b, c) => (b as string).trim() + (c as string).toUpperCase());\r\n\r\n  return str;\r\n}\r\n\r\n/**\r\n * Converts strings from camel case to words\r\n * http://stackoverflow.com/questions/7225407/convert-camelcasetext-to-camel-case-text\r\n */\r\nexport function deCamelCase(str: string): string {\r\n  return str.replace(/([A-Z])/g, match => ` ${match}`).replace(/^./, match => match.toUpperCase());\r\n}\r\n","import Vue from 'vue';\r\nimport { TableColumn } from '../types';\r\n// import { DataTableColumnDirective } from '../components/columns';\r\nimport { camelCase, deCamelCase } from './camel-case';\r\nimport { getterForProp } from './column-prop-getters';\r\nimport { id } from './id';\r\n\r\n/**\r\n * Sets the column defaults\r\n */\r\nexport function setColumnsDefaults(columns: TableColumn[], vm: Vue): void {\r\n  if (!columns) {\r\n    return;\r\n  }\r\n\r\n  // Only one column should hold the tree view\r\n  // Thus if multiple columns are provided with\r\n  // isTreeColumn as true we take only the first one\r\n  let treeColumnFound = false;\r\n\r\n  for (const column of columns) {\r\n    setColumnDefaults(column, vm);\r\n    if (!('isTreeColumn' in column)) {\r\n      vm.$set(column, 'isTreeColumn', false);\r\n    } else if (column.isTreeColumn && !treeColumnFound) {\r\n      // If the first column with isTreeColumn is true found\r\n      // we mark that treeCoulmn is found\r\n      vm.$set(column, 'isTreeColumn', true);\r\n      treeColumnFound = true;\r\n    } else {\r\n      // After that isTreeColumn property for any other column\r\n      // will be set as false\r\n      vm.$set(column, 'isTreeColumn', false);\r\n    }\r\n  }\r\n}\r\n\r\nexport function setColumnDefaults(column: TableColumn, vm: Vue): void {\r\n  if (!column) {\r\n    return;\r\n  }\r\n\r\n  if (!column.$$id) {\r\n    column.$$id = id();\r\n  }\r\n\r\n  // prop can be numeric; zero is valid not a missing prop\r\n  // translate name => prop\r\n  if (isNullOrUndefined(column.prop) && column.name) {\r\n    column.prop = camelCase(column.name);\r\n  }\r\n\r\n  vm.$set(column, '$$valueGetter', getterForProp(column.prop));\r\n\r\n  // format props if no name passed\r\n  if (!isNullOrUndefined(column.prop) && isNullOrUndefined(column.name)) {\r\n    column.name = deCamelCase(String(column.prop));\r\n  }\r\n\r\n  if (isNullOrUndefined(column.prop) && isNullOrUndefined(column.name)) {\r\n    column.name = ''; // Fixes IE and Edge displaying `null`\r\n  }\r\n\r\n  if (!('resizeable' in column)) {\r\n    vm.$set(column, 'resizeable', true);\r\n  }\r\n\r\n  if (!('sortable' in column)) {\r\n    vm.$set(column, 'sortable', true);\r\n  }\r\n\r\n  if (!('draggable' in column)) {\r\n    vm.$set(column, 'draggable', true);\r\n  }\r\n\r\n  if (!('visible' in column)) {\r\n    vm.$set(column, 'visible', true);\r\n  }\r\n\r\n  if (!('canAutoResize' in column) || isNullOrUndefined(column.canAutoResize)) {\r\n    column.canAutoResize = true;\r\n  }\r\n\r\n  if (!('width' in column) || !column.width) {\r\n    vm.$set(column, 'width', 150);\r\n  } else {\r\n    vm.$set(column, 'width', column.width);\r\n  }\r\n  vm.$set(column, 'isTreeColumn', column.isTreeColumn);\r\n  vm.$set(column, 'isTarget', isNullOrUndefined(column.isTarget) ? false : column.isTarget);\r\n}\r\n\r\nexport function isNullOrUndefined<T>(value: T | null | undefined): value is null | undefined {\r\n  // eslint-disable-next-line no-undefined\r\n  return value === null || value === undefined;\r\n}\r\n\r\n/**\r\n * Translates templates definitions to objects\r\n */\r\n// export function translateTemplates(templates: DataTableColumnDirective[]): any[] {\r\n//   const result: any[] = [];\r\n\r\n//   for(const temp of templates) {\r\n//     const col: any = {};\r\n\r\n//     const props = Object.getOwnPropertyNames(temp);\r\n//     for(const prop of props) {\r\n//       col[prop] = temp[prop];\r\n//     }\r\n\r\n//     if(temp.headerTemplate) {\r\n//       col.headerTemplate = temp.headerTemplate;\r\n//     }\r\n\r\n//     if(temp.cellTemplate) {\r\n//       col.cellTemplate = temp.cellTemplate;\r\n//     }\r\n\r\n//     if(temp.summaryFunc) {\r\n//       col.summaryFunc = temp.summaryFunc;\r\n//     }\r\n\r\n//     if(temp.summaryTemplate) {\r\n//       col.summaryTemplate = temp.summaryTemplate;\r\n//     }\r\n\r\n//     result.push(col);\r\n//   }\r\n\r\n//   return result;\r\n// }\r\n","// maybe rename this file to prop-getters.ts\r\n\r\nimport { isNullOrUndefined } from 'utils/column-helper';\r\nimport { TableColumnProp } from '../types';\r\n\r\nexport type ValueGetter = (obj: Record<string, unknown>, prop: TableColumnProp) => any;\r\n\r\n/**\r\n * Always returns the empty string ''\r\n * @returns {string}\r\n */\r\nexport function emptyStringGetter(): string {\r\n  return '';\r\n}\r\n\r\n/**\r\n * Returns the appropriate getter function for this kind of prop.\r\n * If prop == null, returns the emptyStringGetter.\r\n */\r\nexport function getterForProp(prop: TableColumnProp): ValueGetter {\r\n  if (isNullOrUndefined(prop)) {\r\n    return emptyStringGetter;\r\n  }\r\n\r\n  if (typeof prop === 'number') {\r\n    return numericIndexGetter;\r\n  }\r\n  // deep or simple\r\n  if (prop.indexOf('.') !== -1) {\r\n    return deepValueGetter;\r\n  }\r\n  return shallowValueGetter;\r\n}\r\n\r\n/**\r\n * Returns the value at this numeric index.\r\n * @param row array of values\r\n * @param index numeric index\r\n * @returns {any} or '' if invalid index\r\n */\r\nexport function numericIndexGetter(row: Record<string, unknown>, index: number): any {\r\n  if (row === null) {\r\n    return '';\r\n  }\r\n  // mimic behavior of deepValueGetter\r\n  if (!row || index === null) {\r\n    return row;\r\n  }\r\n\r\n  const value = row[index];\r\n  if (value === null) {\r\n    return '';\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Returns the value of a field.\r\n * (more efficient than deepValueGetter)\r\n * @param obj object containing the field\r\n * @param fieldName field name string\r\n * @returns {any}\r\n */\r\nexport function shallowValueGetter(obj: Record<string, unknown>, fieldName: string): any {\r\n  if (obj === null) {\r\n    return '';\r\n  }\r\n  if (!obj || !fieldName) {\r\n    return obj;\r\n  }\r\n\r\n  const value = obj[fieldName];\r\n  if (value === null) {\r\n    return '';\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Returns a deep object given a string. zoo['animal.type']\r\n * @param {object} obj\r\n * @param {string} path\r\n */\r\nexport function deepValueGetter(obj: Record<string, unknown>, path: string): any {\r\n  if (obj === null) {\r\n    return '';\r\n  }\r\n  if (!obj || !path) {\r\n    return obj;\r\n  }\r\n\r\n  // check if path matches a root-level field\r\n  // { \"a.b.c\": 123 }\r\n  let current = obj[path];\r\n  // eslint-disable-next-line no-undefined\r\n  if (current !== undefined) {\r\n    return current;\r\n  }\r\n\r\n  current = obj;\r\n  const split = path.split('.');\r\n\r\n  if (split.length) {\r\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n    for (let i = 0; i < split.length; i++) {\r\n      current = current[split[i]] as Record<string, unknown>;\r\n\r\n      // if found undefined, return empty string\r\n      // eslint-disable-next-line no-undefined\r\n      if (current === undefined || current === null) {\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n  return current;\r\n}\r\n","import { TableColumn } from '../types';\r\n\r\nexport interface IColumnsWidth {\r\n  left: number;\r\n  center: number;\r\n  right: number;\r\n  total: number;\r\n}\r\n\r\nexport interface IColumnsByPinRecord {\r\n  type: 'left' | 'center' | 'right';\r\n  columns: TableColumn[];\r\n}\r\n\r\n/**\r\n * Returns the columns by pin.\r\n */\r\nexport interface IColumnsByPin {\r\n  left: TableColumn[];\r\n  center: TableColumn[];\r\n  right: TableColumn[];\r\n}\r\n\r\nexport function columnsByPin(cols: TableColumn[]): IColumnsByPin {\r\n  const ret: { left: TableColumn[]; center: TableColumn[]; right: TableColumn[] } = {\r\n    left: [],\r\n    center: [],\r\n    right: [],\r\n  };\r\n\r\n  if (cols) {\r\n    for (const col of cols) {\r\n      if (col.frozenLeft) {\r\n        ret.left.push(col);\r\n      } else if (col.frozenRight) {\r\n        ret.right.push(col);\r\n      } else {\r\n        ret.center.push(col);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n/**\r\n * Returns the widths of all group sets of a column\r\n */\r\nexport function columnGroupWidths(groups: IColumnsByPin, all: TableColumn[], tableWidth: number): IColumnsWidth {\r\n  const result = {\r\n    left: columnTotalWidth(groups.left),\r\n    center: columnTotalWidth(groups.center),\r\n    right: columnTotalWidth(groups.right),\r\n    total: Math.floor(columnTotalWidth(all)),\r\n  };\r\n  if (tableWidth > result.total) {\r\n    result.center += tableWidth - result.total;\r\n    result.total = tableWidth;\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Calculates the total width of all columns and their groups\r\n */\r\nexport function columnTotalWidth(columns: TableColumn[]): number {\r\n  let totalWidth = 0;\r\n\r\n  if (columns) {\r\n    for (const c of columns) {\r\n      if (c.hidden) {\r\n        continue;\r\n      }\r\n      // const has = Boolean(prop && c[prop]);\r\n      // const width = c.hidden ? 0 : has ? c[prop] : c.width;\r\n      let width = c.hidden ? 0 : c.width;\r\n      if (typeof width === 'string') {\r\n        width = parseFloat(width);\r\n      }\r\n      totalWidth = totalWidth + width;\r\n    }\r\n  }\r\n\r\n  return totalWidth;\r\n}\r\n\r\n/**\r\n * Calculates the total width of all columns and their groups\r\n */\r\nexport function columnsTotalWidth(columns: TableColumn[] /* , prop?: any */): number {\r\n  let totalWidth = 0;\r\n\r\n  for (const column of columns) {\r\n    // const has = prop && column[prop];\r\n    // totalWidth = totalWidth + (has ? column[prop] : column.width);\r\n    totalWidth = totalWidth + column.width;\r\n  }\r\n\r\n  return totalWidth;\r\n}\r\n\r\nexport function columnsByPinArr(val: TableColumn[]): Array<IColumnsByPinRecord> {\r\n  const colsByPinArr: Array<{ type: 'left' | 'center' | 'right'; columns: TableColumn[] }> = [];\r\n  const colsByPin = columnsByPin(val);\r\n\r\n  colsByPinArr.push({ type: 'left', columns: colsByPin['left'] });\r\n  colsByPinArr.push({ type: 'center', columns: colsByPin['center'] });\r\n  colsByPinArr.push({ type: 'right', columns: colsByPin['right'] });\r\n\r\n  return colsByPinArr;\r\n}\r\n","if (typeof document !== 'undefined' && !document.elementsFromPoint) {\r\n  document.elementsFromPoint = elementsFromPoint;\r\n}\r\n\r\n/**\r\n * Polyfill for `elementsFromPoint`\r\n *\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/elementsFromPoint\r\n * https://gist.github.com/iddan/54d5d9e58311b0495a91bf06de661380\r\n * https://gist.github.com/oslego/7265412\r\n */\r\nexport function elementsFromPoint(x: number, y: number): Array<Element> {\r\n  const elements: Array<Element> = [];\r\n  const previousPointerEvents: Array<{ value: string; priority: string }> = [];\r\n  let current: Element; // TODO: window.getComputedStyle should be used with inferred type (Element)\r\n  let i: number;\r\n  let d: { value: string; priority: string };\r\n\r\n  // if (document === undefined) return elements;\r\n\r\n  // get all elements via elementFromPoint, and remove them from hit-testing in order\r\n  while ((current = document.elementFromPoint(x, y)) && current && elements.indexOf(current) === -1) {\r\n    // push the element and its current style\r\n    elements.push(current);\r\n    previousPointerEvents.push({\r\n      value: (current as HTMLElement).style.getPropertyValue('pointer-events'),\r\n      priority: (current as HTMLElement).style.getPropertyPriority('pointer-events'),\r\n    });\r\n    // add \"pointer-events: none\", to get to the underlying element\r\n    (current as HTMLElement).style.setProperty('pointer-events', 'none', 'important');\r\n  }\r\n\r\n  // restore the previous pointer-events values\r\n  // eslint-disable-next-line prettier/prettier\r\n  for (i = previousPointerEvents.length; (d = previousPointerEvents[--i]);) {\r\n    (elements[i] as HTMLElement).style.setProperty('pointer-events', d?.value ? d.value : '', d?.priority);\r\n  }\r\n  // return our results\r\n  return elements;\r\n}\r\n","export function isArrayEqual(array1: any[], array2: any[]): boolean {\r\n  // if the other array is a falsy value, return\r\n  if (!array1 || !array2 || !Array.isArray(array1) || !Array.isArray(array2)) {\r\n    return false;\r\n  }\r\n\r\n  // compare lengths - can save a lot of time\r\n  if (array1.length !== array2.length) {\r\n    return false;\r\n  }\r\n\r\n  for (let i = 0, l = array1.length; i < l; i++) {\r\n    // Check if we have nested arrays\r\n    if (array1[i] instanceof Array && array2[i] instanceof Array) {\r\n      // recurse into the nested arrays\r\n      if (!isArrayEqual(array1[i], array2[i])) {\r\n        return false;\r\n      }\r\n    } else if (array1[i] !== array2[i]) {\r\n      // Warning - two different object instances will never be equal: {x:20} != {x:20}\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","/**\r\n * Creates a unique object id.\r\n * http://stackoverflow.com/questions/6248666/how-to-generate-short-uid-like-ax4j9z-in-js\r\n */\r\nexport function id(): string {\r\n  // eslint-disable-next-line no-bitwise\r\n  return ('0000' + ((Math.random() * Math.pow(36, 4)) << 0).toString(36)).slice(-4);\r\n}\r\n","export * from './id';\r\nexport * from './column';\r\nexport * from './column-prop-getters';\r\nexport * from './camel-case';\r\nexport * from './keys';\r\nexport * from './math';\r\nexport * from './prefixes';\r\nexport * from './selection';\r\nexport * from './translate';\r\nexport * from './throttle';\r\nexport * from './sort';\r\nexport * from './row-height-cache';\r\nexport * from './column-helper';\r\nexport * from './elm-from-point';\r\nexport * from './tree';\r\n","export enum Keys {\r\n  up = 38,\r\n  down = 40,\r\n  return = 13,\r\n  escape = 27,\r\n  left = 37,\r\n  right = 39,\r\n  pageUp = 33,\r\n  pageDown = 34,\r\n}\r\n","import { TableColumn } from '../types';\r\nimport { columnsByPin, columnsTotalWidth, IColumnsByPin } from './column';\r\n\r\n/**\r\n * Calculates the Total Flex Grow\r\n */\r\nfunction getTotalFlexGrow(columns: TableColumn[]) {\r\n  let totalFlexGrow = 0;\r\n\r\n  for (const c of columns) {\r\n    totalFlexGrow += c.flexGrow || 0;\r\n  }\r\n\r\n  return totalFlexGrow;\r\n}\r\n\r\n/**\r\n * Adjusts the column widths.\r\n * Inspired by: https://github.com/facebook/fixed-data-table/blob/master/src/FixedDataTableWidthHelper.js\r\n */\r\nexport function adjustColumnWidths(allColumns: TableColumn[] = [], expectedWidth: number): void {\r\n  // if (allColumns && allColumns.length) {\r\n  //   allColumns = allColumns.filter(c => c.visible && !c.hidden);\r\n  // }\r\n  const hiddenColumns: TableColumn[] = [];\r\n  allColumns.forEach(col => {\r\n    col.hidden = false;\r\n    const width = calcRealWidth(col);\r\n    if (width !== null && width < 10) {\r\n      hiddenColumns.push(col);\r\n      col.hidden = true;\r\n      if (!col.$$oldWidth) {\r\n        col.$$oldWidth = col.width;\r\n      }\r\n      col.width = 0;\r\n    }\r\n  });\r\n  allColumns = allColumns.filter(c => c.visible && !c.hidden);\r\n\r\n  const columnsWidth = columnsTotalWidth(allColumns);\r\n  const totalFlexGrow = getTotalFlexGrow(allColumns);\r\n  const colsByGroup = columnsByPin(allColumns);\r\n\r\n  if (columnsWidth !== expectedWidth) {\r\n    scaleColumns(colsByGroup, expectedWidth, totalFlexGrow);\r\n  }\r\n}\r\n\r\n/**\r\n * Resizes columns based on the flexGrow property, while respecting manually set widths\r\n */\r\nfunction scaleColumns(colsByGroup: IColumnsByPin, maxWidth: number, totalFlexGrow: number): void {\r\n  // calculate total width and flexgrow points for coulumns that can be resized\r\n  let column: TableColumn;\r\n  for (const attr in colsByGroup) {\r\n    for (column of colsByGroup[attr]) {\r\n      if (!column.canAutoResize) {\r\n        maxWidth -= column.width;\r\n        totalFlexGrow -= column.flexGrow ? column.flexGrow : 0;\r\n      } else {\r\n        column.width = 0;\r\n      }\r\n    }\r\n  }\r\n  const hasMinWidth = {};\r\n  let remainingWidth = maxWidth;\r\n\r\n  // resize columns until no width is left to be distributed\r\n  do {\r\n    const widthPerFlexPoint = remainingWidth / totalFlexGrow;\r\n    remainingWidth = 0;\r\n    for (const attr in colsByGroup) {\r\n      for (column of colsByGroup[attr]) {\r\n        // if the column can be resize and it hasn't reached its minimum width yet\r\n        if (column.canAutoResize && !hasMinWidth[column.prop]) {\r\n          const newWidth = column.width + column.flexGrow * widthPerFlexPoint;\r\n          if (column.minWidth && newWidth < column.minWidth) {\r\n            remainingWidth += newWidth - column.minWidth;\r\n            column.width = column.minWidth;\r\n            hasMinWidth[column.prop] = true;\r\n          } else {\r\n            column.width = newWidth;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } while (remainingWidth !== 0);\r\n}\r\n\r\nfunction calcRealWidth(column: TableColumn): number {\r\n  if (!column.element) {\r\n    return null;\r\n  }\r\n  let w = (column.element as HTMLElement).offsetWidth;\r\n  // eslint-disable-next-line no-undefined\r\n  if (column.realWidth !== null || column.realWidth !== undefined) {\r\n    return Math.max(w, column.realWidth);\r\n  }\r\n  if (!w || w < 0) {\r\n    return w;\r\n  }\r\n  w = 0;\r\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\r\n  for (let i = 0; i < column.element.children.length; i++) {\r\n    const el = column.element.children[i];\r\n    w = Math.max(w, (el as HTMLElement).offsetWidth);\r\n  }\r\n  return w;\r\n}\r\n\r\n/**\r\n * Forces the width of the columns to\r\n * distribute equally but overflowing when necessary\r\n *\r\n * Rules:\r\n *\r\n *  - If combined withs are less than the total width of the grid,\r\n *    proportion the widths given the min / max / normal widths to fill the width.\r\n *\r\n *  - If the combined widths, exceed the total width of the grid,\r\n *    use the standard widths.\r\n *\r\n *  - If a column is resized, it should always use that width\r\n *\r\n *  - The proportional widths should never fall below min size if specified.\r\n *\r\n *  - If the grid starts off small but then becomes greater than the size ( + / - )\r\n *    the width should use the original width; not the newly proportioned widths.\r\n */\r\nexport function forceFillColumnWidths(\r\n  allColumns: TableColumn[],\r\n  expectedWidth: number,\r\n  startIdx: number,\r\n  allowBleed: boolean,\r\n  defaultColWidth: number = 300\r\n): void {\r\n  // const hiddenColumns = allColumns.filter(c => c.hidden);\r\n  // for (const column of hiddenColumns) {\r\n  //   if(!column.$$oldWidth) {\r\n  //     column.$$oldWidth = column.width;\r\n  //   }\r\n  //   column.width = 0;\r\n  // }\r\n  const hiddenColumns: TableColumn[] = [];\r\n  allColumns.forEach(col => {\r\n    col.hidden = false;\r\n    const width = calcRealWidth(col);\r\n    if (width !== null && width < 10) {\r\n      hiddenColumns.push(col);\r\n      col.hidden = true;\r\n      if (!col.$$oldWidth) {\r\n        col.$$oldWidth = col.width;\r\n      }\r\n      col.width = 0;\r\n    }\r\n  });\r\n\r\n  allColumns = allColumns.filter(c => c.visible && !c.hidden);\r\n  const columnsToResize = allColumns.slice(startIdx + 1, allColumns.length).filter(c => c.canAutoResize !== false);\r\n  const averageColumnWidth = expectedWidth / columnsToResize.length;\r\n\r\n  for (const column of columnsToResize) {\r\n    if (!column.$$oldWidth) {\r\n      column.$$oldWidth = column.width;\r\n    }\r\n    column.width = averageColumnWidth;\r\n  }\r\n\r\n  let additionWidthPerColumn = 0;\r\n  let exceedsWindow = false;\r\n  let contentWidth = getContentWidth(allColumns, defaultColWidth);\r\n  let remainingWidth = expectedWidth - contentWidth;\r\n  const columnsProcessed: any[] = [];\r\n\r\n  // This loop takes care of the\r\n  do {\r\n    additionWidthPerColumn = remainingWidth / columnsToResize.length;\r\n    exceedsWindow = contentWidth >= expectedWidth;\r\n\r\n    for (const column of columnsToResize) {\r\n      if (exceedsWindow && allowBleed) {\r\n        column.width = column.$$oldWidth || column.width || defaultColWidth;\r\n      } else {\r\n        const newSize = (column.width || defaultColWidth) + additionWidthPerColumn;\r\n\r\n        if (column.minWidth && newSize < column.minWidth) {\r\n          column.width = column.minWidth;\r\n          columnsProcessed.push(column);\r\n        } else if (column.maxWidth && newSize > column.maxWidth) {\r\n          column.width = column.maxWidth;\r\n          columnsProcessed.push(column);\r\n        } else {\r\n          column.width = newSize;\r\n        }\r\n      }\r\n\r\n      column.width = Math.max(0, column.width);\r\n    }\r\n\r\n    contentWidth = getContentWidth(allColumns);\r\n    remainingWidth = expectedWidth - contentWidth;\r\n    removeProcessedColumns(columnsToResize, columnsProcessed);\r\n  } while (remainingWidth > 0 && columnsToResize.length !== 0);\r\n}\r\n\r\n/**\r\n * Remove the processed columns from the current active columns.\r\n */\r\nfunction removeProcessedColumns(columnsToResize: any[], columnsProcessed: any[]) {\r\n  for (const column of columnsProcessed) {\r\n    const index = columnsToResize.indexOf(column);\r\n    columnsToResize.splice(index, 1);\r\n  }\r\n}\r\n\r\n/**\r\n * Gets the width of the columns\r\n */\r\nfunction getContentWidth(allColumns: TableColumn[], defaultColWidth: number = 300): number {\r\n  let contentWidth = 0;\r\n  for (const column of allColumns) {\r\n    contentWidth += column.width || defaultColWidth;\r\n  }\r\n  return contentWidth;\r\n}\r\n","/* eslint-disable no-undefined */\r\nimport { camelCase } from './camel-case';\r\n\r\nconst cache: Record<string, string> = {};\r\nconst testStyle = typeof document !== 'undefined' ? document.createElement('div').style : undefined;\r\n\r\n// Get Prefix\r\n// http://davidwalsh.name/vendor-prefix\r\n// eslint-disable-next-line prettier/prettier\r\nconst prefix = (function () {\r\n  const styles = typeof window !== 'undefined' ? window.getComputedStyle(document.documentElement, '') : undefined;\r\n  let match: RegExpMatchArray = null;\r\n  if (styles) {\r\n    // eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\r\n    match = Object.keys(styles)\r\n      .join('')\r\n      .match(/-(moz|webkit|ms)-/);\r\n  }\r\n  // const match: CSSStyleDeclaration = typeof styles !== 'undefined' ?\r\n  //   Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) : null;\r\n  const pre = match !== null ? match[1] : undefined;\r\n  const dom = typeof pre !== 'undefined' ? new RegExp('(' + pre + ')', 'i').exec('WebKit|Moz|MS|O')[1] : undefined;\r\n\r\n  return dom\r\n    ? {\r\n        dom,\r\n        lowercase: pre,\r\n        css: `-${pre}-`,\r\n        js: pre[0].toUpperCase() + pre.substr(1),\r\n      }\r\n    : undefined;\r\n})();\r\n\r\nexport function getVendorPrefixedName(property: string): string {\r\n  const name = camelCase(property);\r\n\r\n  if (!cache[name]) {\r\n    if (prefix !== undefined && testStyle[prefix.css + property] !== undefined) {\r\n      cache[name] = prefix.css + property;\r\n    } else if (testStyle[property] !== undefined) {\r\n      cache[name] = property;\r\n    }\r\n  }\r\n\r\n  return cache[name];\r\n}\r\n","import { IGroupedRows } from 'types/grouped-rows';\r\n\r\n/**\r\n * This object contains the cache of the various row heights that are present inside\r\n * the data table.   Its based on Fenwick tree data structure that helps with\r\n * querying sums that have time complexity of log n.\r\n *\r\n * Fenwick Tree Credits: http://petr-mitrichev.blogspot.com/2013/05/fenwick-tree-range-updates.html\r\n * https://github.com/mikolalysenko/fenwick-tree\r\n *\r\n */\r\ninterface IRowsHeightCache {\r\n  rows: Record<string, unknown>[];\r\n  rowHeight: number | ((row: Record<string, unknown>, index?: number) => number);\r\n  rowDetailHeight: number | ((row: Record<string, unknown>, index?: number) => number);\r\n  groupRowHeight: number | ((row: Record<string, unknown>, index?: number) => number);\r\n  externalVirtual: boolean;\r\n  rowCount: number;\r\n  rowIndexes: Map<Record<string, unknown>, number>;\r\n  rowExpansions: Map<Record<string, unknown> | IGroupedRows, boolean>;\r\n}\r\n\r\nexport class RowHeightCache {\r\n  /**\r\n   * Tree Array stores the cumulative information of the row heights to perform efficient\r\n   * range queries and updates.  Currently the tree is initialized to the base row\r\n   * height instead of the detail row height.\r\n   */\r\n  // private treeArray: number[] = [];\r\n  private heights: Array<{ accumulator: number; height: number }> = [];\r\n\r\n  /**\r\n   * Clear the Tree array.\r\n   */\r\n  clearCache(): void {\r\n    // this.treeArray = [];\r\n    this.heights = [];\r\n  }\r\n\r\n  /**\r\n   * Initialize the Fenwick tree with row Heights.\r\n   *\r\n   * @param rows The array of rows which contain the expanded status.\r\n   * @param rowHeight The row height.\r\n   * @param rowDetailHeight The detail row height.\r\n   */\r\n  initCache(details: IRowsHeightCache): void {\r\n    const {\r\n      rows,\r\n      rowHeight,\r\n      rowDetailHeight,\r\n      groupRowHeight,\r\n      externalVirtual,\r\n      rowCount,\r\n      rowIndexes,\r\n      rowExpansions,\r\n    } = details;\r\n\r\n    if (typeof rowHeight !== 'function' && isNaN(rowHeight)) {\r\n      throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\r\n        valid number or function value: (${rowHeight}) when 'scrollbarV' is enabled.`);\r\n    }\r\n\r\n    // Add this additional guard in case rowDetailHeight is set to 'auto' as it wont work.\r\n    if (typeof rowDetailHeight !== 'function' && isNaN(rowDetailHeight)) {\r\n      throw new Error(`Row Height cache initialization failed. Please ensure that 'rowDetailHeight' is a\r\n        valid number or function value: (${rowDetailHeight}) when 'scrollbarV' is enabled.`);\r\n    }\r\n\r\n    const n = externalVirtual ? rowCount : rows.length;\r\n    // this.treeArray = new Array(n);\r\n    this.heights = new Array<{ accumulator: number; height: number }>(n);\r\n\r\n    for (let i = 0; i < n; ++i) {\r\n      // this.treeArray[i] = 0;\r\n      this.heights[i] = null;\r\n    }\r\n\r\n    let accumulator = 0;\r\n\r\n    for (let i = 0; i < n; ++i) {\r\n      const row = rows[i];\r\n      let currentRowHeight: number;\r\n      if (row && row.__isGroup) {\r\n        if (typeof groupRowHeight === 'function') {\r\n          currentRowHeight = groupRowHeight(row);\r\n        } else {\r\n          currentRowHeight = groupRowHeight;\r\n        }\r\n      } else if (typeof rowHeight === 'function') {\r\n        currentRowHeight = rowHeight(row);\r\n      } else {\r\n        currentRowHeight = rowHeight;\r\n      }\r\n\r\n      // Add the detail row height to the already expanded rows.\r\n      // This is useful for the table that goes through a filter or sort.\r\n      const expanded = rowExpansions.get(row);\r\n      if (row && expanded) {\r\n        if (typeof rowDetailHeight === 'function') {\r\n          const index = rowIndexes.get(row);\r\n          currentRowHeight += rowDetailHeight(row, index);\r\n        } else {\r\n          currentRowHeight += rowDetailHeight;\r\n        }\r\n      }\r\n      // this.updateTree(i, currentRowHeight);\r\n      accumulator += currentRowHeight;\r\n      this.heights[i] = { accumulator, height: currentRowHeight };\r\n    }\r\n    // this.heights = this.initHeights(details);\r\n  }\r\n\r\n  /**\r\n   * Given the ScrollY position i.e. sum, provide the rowIndex\r\n   * that is present in the current view port.  Below handles edge cases.\r\n   */\r\n  getRowIndex(scrollY: number): number {\r\n    if (scrollY === 0) {\r\n      return 0;\r\n    }\r\n    const result = this.calcRowIndex(scrollY);\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * When a row is expanded or rowHeight is changed, update the height.  This can\r\n   * be utilized in future when Angular Data table supports dynamic row heights.\r\n   */\r\n  update(atRowIndex: number, byRowHeight: number): void {\r\n    if (!this.heights || !this.heights.length) {\r\n      return;\r\n      // throw new Error(`Update at index ${atRowIndex} with value ${byRowHeight} failed:\r\n      //   Row Height cache not initialized.`);\r\n    }\r\n\r\n    const n = this.heights.length;\r\n\r\n    while (atRowIndex < n) {\r\n      this.heights[atRowIndex].accumulator += byRowHeight;\r\n      atRowIndex++;\r\n    }\r\n  }\r\n\r\n  // update(atRowIndex: number, byRowHeight: number): void {\r\n  //   if (!this.treeArray.length) {\r\n  //     throw new Error(`Update at index ${atRowIndex} with value ${byRowHeight} failed:\r\n  //       Row Height cache not initialized.`);\r\n  //   }\r\n\r\n  //   const n = this.treeArray.length;\r\n  //   atRowIndex |= 0;\r\n\r\n  //   while(atRowIndex < n) {\r\n  //     this.treeArray[atRowIndex] += byRowHeight;\r\n  //     atRowIndex |= (atRowIndex + 1);\r\n  //   }\r\n  // }\r\n\r\n  /**\r\n   * Range Sum query from 1 to the rowIndex\r\n   */\r\n  query(atIndex: number): number {\r\n    if (atIndex < 0) {\r\n      return 0;\r\n    }\r\n    return this.heights[atIndex]?.accumulator;\r\n  }\r\n\r\n  queryWithHeight(atIndex: number): { offsetY: number; height: number } {\r\n    if (atIndex < 0) {\r\n      return null;\r\n    }\r\n    const result = this.heights[atIndex];\r\n    if (!result) {\r\n      return null;\r\n    }\r\n    return { offsetY: result.accumulator, height: result.height };\r\n  }\r\n\r\n  // query(atIndex: number): number {\r\n  //   if (!this.treeArray.length) {\r\n  //     throw new Error(`query at index ${atIndex} failed: Fenwick tree array not initialized.`);\r\n  //   }\r\n\r\n  //   let sum = 0;\r\n  //   atIndex |= 0;\r\n\r\n  //   while(atIndex >= 0) {\r\n  //     sum += this.treeArray[atIndex];\r\n  //     atIndex = (atIndex & (atIndex + 1)) - 1;\r\n  //   }\r\n\r\n  //   return sum;\r\n  // }\r\n\r\n  /**\r\n   * Find the total height between 2 row indexes\r\n   */\r\n  queryBetween(atIndexA: number, atIndexB: number): number {\r\n    return this.query(atIndexB) - this.query(atIndexA - 1);\r\n  }\r\n\r\n  /**\r\n   * Given the ScrollY position i.e. sum, provide the rowIndex\r\n   * that is present in the current view port.\r\n   */\r\n  private calcRowIndex(sum: number): number {\r\n    if (!this.heights.length) {\r\n      return 0;\r\n    }\r\n\r\n    if (this.heights[this.heights.length - 1].accumulator < sum) {\r\n      return this.heights.length;\r\n    }\r\n\r\n    let pos = -1;\r\n    const dataLength = this.heights.length;\r\n\r\n    for (let i = 0; i < dataLength; i++) {\r\n      if (this.heights[i].accumulator >= sum) {\r\n        pos = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return pos;\r\n  }\r\n\r\n  // private calcRowIndex(sum: number): number {\r\n  //   if(!this.treeArray.length) return 0;\r\n\r\n  //   let pos = -1;\r\n  //   const dataLength = this.treeArray.length;\r\n\r\n  //   // Get the highest bit for the block size.\r\n  //   const highestBit = Math.pow(2, dataLength.toString(2).length - 1);\r\n\r\n  //   for (let blockSize = highestBit; blockSize !== 0; blockSize >>= 1) {\r\n  //     const nextPos = pos + blockSize;\r\n  //     if (nextPos < dataLength && sum >= this.treeArray[nextPos]) {\r\n  //       sum -= this.treeArray[nextPos];\r\n  //       pos = nextPos;\r\n  //     }\r\n  //   }\r\n\r\n  //   return pos + 1;\r\n  // }\r\n\r\n  // private initHeights(details: any) {\r\n  //   const { rows, rowHeight, rowDetailHeight, externalVirtual, rowCount, rowIndexes, rowExpansions } = details;\r\n  //   const isFn = typeof rowHeight === 'function';\r\n  //   const isDetailFn = typeof rowDetailHeight === 'function';\r\n\r\n  //   if (!isFn && isNaN(rowHeight)) {\r\n  //     throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\r\n  //       valid number or function value: (${rowHeight}) when 'scrollbarV' is enabled.`);\r\n  //   }\r\n\r\n  //   // Add this additional guard in case rowDetailHeight is set to 'auto' as it wont work.\r\n  //   if (!isDetailFn && isNaN(rowDetailHeight)) {\r\n  //     throw new Error(`Row Height cache initialization failed. Please ensure that 'rowDetailHeight' is a\r\n  //       valid number or function value: (${rowDetailHeight}) when 'scrollbarV' is enabled.`);\r\n  //   }\r\n  //   const n = externalVirtual ? rowCount : rows.length;\r\n  //   const heights = new Array(n);\r\n\r\n  //   let accumulator = 0;\r\n  //   for (let i = 0; i < n; ++i) {\r\n  //     const row = rows[i];\r\n  //     let currentRowHeight = rowHeight;\r\n  //     if(isFn) {\r\n  //       currentRowHeight = rowHeight(row);\r\n  //     }\r\n\r\n  //     // Add the detail row height to the already expanded rows.\r\n  //     // This is useful for the table that goes through a filter or sort.\r\n  //     const expanded = rowExpansions.get(row);\r\n  //     if(row && expanded === 1) {\r\n  //       if(isDetailFn) {\r\n  //         const index = rowIndexes.get(row);\r\n  //         currentRowHeight += rowDetailHeight(row, index);\r\n  //       } else {\r\n  //         currentRowHeight += rowDetailHeight;\r\n  //       }\r\n  //     }\r\n  //     accumulator += currentRowHeight;\r\n  //     heights[i] = { accumulator, height: currentRowHeight };\r\n  //   }\r\n  //   return heights;\r\n  // }\r\n}\r\n","export function selectRows(\r\n  selected: Record<string, unknown>[],\r\n  row: Record<string, unknown>,\r\n  comparefn: (r: Record<string, unknown>, arr: Record<string, unknown>[]) => number\r\n): Record<string, unknown>[] {\r\n  const selectedIndex = comparefn(row, selected);\r\n\r\n  if (selectedIndex > -1) {\r\n    selected.splice(selectedIndex, 1);\r\n  } else {\r\n    selected.push(row);\r\n  }\r\n\r\n  return selected;\r\n}\r\n\r\nexport function selectRowsBetween(\r\n  selected: Record<string, unknown>[],\r\n  rows: Record<string, unknown>[],\r\n  index: number,\r\n  prevIndex: number,\r\n  comparefn: () => boolean\r\n): Record<string, unknown>[] {\r\n  const reverse = index < prevIndex;\r\n\r\n  for (let i = 0; i < rows.length; i++) {\r\n    const row = rows[i];\r\n    const greater = i >= prevIndex && i <= index;\r\n    const lesser = i <= prevIndex && i >= index;\r\n\r\n    let range = { start: 0, end: 0 };\r\n    if (reverse) {\r\n      range = {\r\n        start: index,\r\n        end: prevIndex,\r\n      };\r\n    } else {\r\n      range = {\r\n        start: prevIndex,\r\n        end: index + 1,\r\n      };\r\n    }\r\n\r\n    if ((reverse && lesser) || (!reverse && greater)) {\r\n      // if in the positive range to be added to `selected`, and\r\n      // not already in the selected array, add it\r\n      if (i >= range.start && i <= range.end) {\r\n        selected.push(row);\r\n      }\r\n    }\r\n  }\r\n\r\n  return selected;\r\n}\r\n","import { ISortPropDir, SortDirection, SortType, TableColumn, TComparator } from '../types';\r\nimport { getterForProp } from './column-prop-getters';\r\n/**\r\n * Gets the next sort direction\r\n */\r\nexport function nextSortDir(sortType: SortType, current: SortDirection): SortDirection | undefined {\r\n  if (sortType === SortType.single) {\r\n    if (current === SortDirection.asc) {\r\n      return SortDirection.desc;\r\n    }\r\n    return SortDirection.asc;\r\n  }\r\n  if (!current) {\r\n    return SortDirection.asc;\r\n  }\r\n  if (current === SortDirection.asc) {\r\n    return SortDirection.desc;\r\n  }\r\n  if (current === SortDirection.desc) {\r\n    // eslint-disable-next-line no-undefined\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Adapted from fueld-ui on 6/216\r\n * https://github.com/FuelInteractive/fuel-ui/tree/master/src/pipes/OrderBy\r\n */\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport function orderByComparator(a: any, b: any): number {\r\n  if (a === null || typeof a === 'undefined') {\r\n    a = 0;\r\n  }\r\n  if (b === null || typeof b === 'undefined') {\r\n    b = 0;\r\n  }\r\n  if (a instanceof Date && b instanceof Date) {\r\n    if (a < b) {\r\n      return -1;\r\n    }\r\n    if (a > b) {\r\n      return 1;\r\n    }\r\n  } else if (isNaN(parseFloat(a)) || !isFinite(a) || isNaN(parseFloat(b)) || !isFinite(b)) {\r\n    // Convert to string in case of a=0 or b=0\r\n    a = String(a);\r\n    b = String(b);\r\n    // Isn't a number so lowercase the string to properly compare\r\n    if ((a as string).toLowerCase() < (b as string).toLowerCase()) {\r\n      return -1;\r\n    }\r\n    if ((a as string).toLowerCase() > (b as string).toLowerCase()) {\r\n      return 1;\r\n    }\r\n  } else {\r\n    // Parse strings as numbers to compare properly\r\n    if (parseFloat(a) < parseFloat(b)) {\r\n      return -1;\r\n    }\r\n    if (parseFloat(a) > parseFloat(b)) {\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  // equal each other\r\n  return 0;\r\n}\r\n\r\n/**\r\n * creates a shallow copy of the `rows` input and returns the sorted copy. this function\r\n * does not sort the `rows` argument in place\r\n */\r\nexport function sortRows(\r\n  rows: Record<string, unknown>[],\r\n  columns: TableColumn[],\r\n  dirs: ISortPropDir[]\r\n): Record<string, unknown>[] {\r\n  if (!rows) {\r\n    return [];\r\n  }\r\n  if (!dirs || !dirs.length) {\r\n    return [...rows];\r\n  }\r\n\r\n  /**\r\n   * record the row ordering of results from prior sort operations (if applicable)\r\n   * this is necessary to guarantee stable sorting behavior\r\n   */\r\n  const rowToIndexMap = new Map<any, number>();\r\n  rows.forEach((row, index) => rowToIndexMap.set(row, index));\r\n  const temp = [...rows];\r\n  const cols: Record<string, TComparator> = {};\r\n  if (Array.isArray(columns)) {\r\n    columns.forEach(col => {\r\n      if (col.comparator && typeof col.comparator === 'function') {\r\n        cols[col.prop] = col.comparator;\r\n      }\r\n    });\r\n  }\r\n\r\n  // cache valueGetter and compareFn so that they\r\n  // do not need to be looked-up in the sort function body\r\n  const cachedDirs = dirs.map(dir => {\r\n    const prop = dir.prop;\r\n    return {\r\n      prop,\r\n      dir: dir.dir,\r\n      valueGetter: getterForProp(prop),\r\n      compareFn: cols[prop] || orderByComparator,\r\n    };\r\n  });\r\n\r\n  return temp.sort((rowA: any, rowB: any) => {\r\n    for (const cachedDir of cachedDirs) {\r\n      // Get property and valuegetters for column to be sorted\r\n      const { prop, valueGetter } = cachedDir;\r\n      // Get A and B cell values from rows based on properties of the columns\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      const propA = valueGetter(rowA, prop);\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      const propB = valueGetter(rowB, prop);\r\n\r\n      // Compare function gets five parameters:\r\n      // Two cell values to be compared as propA and propB\r\n      // Two rows corresponding to the cells as rowA and rowB\r\n      // Direction of the sort for this column as SortDirection\r\n      // Compare can be a standard JS comparison function (a,b) => -1|0|1\r\n      // as additional parameters are silently ignored. The whole row and sort\r\n      // direction enable more complex sort logic.\r\n      const comparison =\r\n        cachedDir.dir !== SortDirection.desc\r\n          ? cachedDir.compareFn(propA, propB, rowA, rowB, cachedDir.dir)\r\n          : -cachedDir.compareFn(propA, propB, rowA, rowB, cachedDir.dir);\r\n\r\n      // Don't return 0 yet in case of needing to sort by next property\r\n      if (comparison !== 0) {\r\n        return comparison;\r\n      }\r\n    }\r\n\r\n    if (!(rowToIndexMap.has(rowA) && rowToIndexMap.has(rowB))) {\r\n      return 0;\r\n    }\r\n\r\n    /**\r\n     * all else being equal, preserve original order of the rows (stable sort)\r\n     */\r\n    return rowToIndexMap.get(rowA) < rowToIndexMap.get(rowB) ? -1 : 1;\r\n  });\r\n}\r\n","/**\r\n * Throttle a function\r\n */\r\nexport function throttle(\r\n  func: (...args) => any,\r\n  wait: number,\r\n  options?: { leading?: boolean; trailing?: boolean }\r\n): (...args) => any {\r\n  options = options || {};\r\n  let context: any;\r\n  let args: any;\r\n  let result: any;\r\n  let timeout: any = null;\r\n  let previous = 0;\r\n\r\n  function later() {\r\n    previous = options.leading === false ? 0 : Number(new Date());\r\n    timeout = null;\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    result = func.apply(context, args);\r\n  }\r\n\r\n  // eslint-disable-next-line prettier/prettier\r\n  return function (this: any) {\r\n    const now = Number(new Date());\r\n\r\n    if (!previous && options.leading === false) {\r\n      previous = now;\r\n    }\r\n\r\n    const remaining = wait - (now - previous);\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n    context = this;\r\n    // eslint-disable-next-line prefer-rest-params\r\n    args = arguments;\r\n\r\n    if (remaining <= 0) {\r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n      previous = now;\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      result = func.apply(context, args);\r\n    } else if (!timeout && options.trailing !== false) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    return result;\r\n  };\r\n}\r\n\r\n/**\r\n * Throttle decorator\r\n *\r\n *  class MyClass {\r\n *    throttleable(10)\r\n *    myFn() { ... }\r\n *  }\r\n */\r\nexport function throttleable(duration: number, options?: { leading?: boolean; trailing?: boolean }) {\r\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\n  return function innerDecorator(target: any, key: PropertyKey, descriptor: PropertyDescriptor): PropertyDescriptor {\r\n    return {\r\n      configurable: true,\r\n      enumerable: descriptor.enumerable,\r\n      get: function getter() {\r\n        Object.defineProperty(this, key, {\r\n          configurable: true,\r\n          enumerable: descriptor.enumerable,\r\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n          value: throttle(descriptor.value, duration, options),\r\n        });\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-member-access\r\n        return this[key];\r\n      },\r\n    };\r\n  };\r\n}\r\n","/* eslint-disable no-undefined */\r\nimport { camelCase } from './camel-case';\r\nimport { getVendorPrefixedName } from './prefixes';\r\n\r\n// browser detection and prefixing tools\r\nconst transform = typeof window !== 'undefined' ? getVendorPrefixedName('transform') : undefined;\r\nconst backfaceVisibility = typeof window !== 'undefined' ? getVendorPrefixedName('backfaceVisibility') : undefined;\r\nconst hasCSSTransforms = typeof window !== 'undefined' ? Boolean(getVendorPrefixedName('transform')) : undefined;\r\nconst hasCSS3DTransforms = typeof window !== 'undefined' ? Boolean(getVendorPrefixedName('perspective')) : undefined;\r\nconst ua = typeof window !== 'undefined' ? window.navigator.userAgent : 'Chrome';\r\nconst isSafari = /Safari\\//.test(ua) && !/Chrome\\//.test(ua);\r\n\r\nexport function translateXY(styles: Record<string, string>, x: number, y: number): void {\r\n  if (typeof transform !== 'undefined' && hasCSSTransforms) {\r\n    if (!isSafari && hasCSS3DTransforms) {\r\n      styles[transform] = `translate3d(${x}px, ${y}px, 0)`;\r\n      styles[backfaceVisibility] = 'hidden';\r\n    } else {\r\n      styles[camelCase(transform)] = `translate(${x}px, ${y}px)`;\r\n    }\r\n  } else {\r\n    styles.top = `${y}px`;\r\n    styles.left = `${x}px`;\r\n  }\r\n}\r\n","/* eslint-disable prefer-rest-params */\r\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\r\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\r\nimport { TableColumnProp } from '../types/table-column.type';\r\nimport { getterForProp } from './column-prop-getters';\r\n\r\nexport type OptionalValueGetter = (row: Record<string, unknown>) => any | undefined;\r\nexport function optionalGetterForProp(prop: TableColumnProp): OptionalValueGetter {\r\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n  return prop && (row => getterForProp(prop)(row, prop));\r\n}\r\n\r\n/**\r\n * This functions rearrange items by their parents\r\n * Also sets the level value to each of the items\r\n *\r\n * Note: Expecting each item has a property called parentId\r\n * Note: This algorithm will fail if a list has two or more items with same ID\r\n * NOTE: This algorithm will fail if there is a deadlock of relationship\r\n *\r\n * For example,\r\n *\r\n * Input\r\n *\r\n * id -> parent\r\n * 1  -> 0\r\n * 2  -> 0\r\n * 3  -> 1\r\n * 4  -> 1\r\n * 5  -> 2\r\n * 7  -> 8\r\n * 6  -> 3\r\n *\r\n *\r\n * Output\r\n * id -> level\r\n * 1      -> 0\r\n * --3    -> 1\r\n * ----6  -> 2\r\n * --4    -> 1\r\n * 2      -> 0\r\n * --5    -> 1\r\n * 7     -> 8\r\n *\r\n *\r\n * @param rows\r\n *\r\n */\r\nexport function groupRowsByParents(\r\n  rows: Record<string, unknown>[],\r\n  from?: OptionalValueGetter,\r\n  to?: OptionalValueGetter,\r\n  lazyTree: boolean = false\r\n): Record<string, unknown>[] {\r\n  if (!rows) {\r\n    return rows;\r\n  }\r\n  if (from && to) {\r\n    const nodeById = {};\r\n    const l = rows.length;\r\n    let node: TreeNode | null = null;\r\n\r\n    nodeById[0] = new TreeNode(); // that's the root node\r\n\r\n    const uniqIDs = rows.reduce((arr, item) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      const toValue = to(item);\r\n      if (arr.indexOf(toValue) === -1) {\r\n        arr.push(toValue);\r\n      }\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n      return arr;\r\n    }, []);\r\n\r\n    for (let i = 0; i < l; i++) {\r\n      // make TreeNode objects for each item\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\r\n      nodeById[to(rows[i])] = new TreeNode(rows[i]);\r\n    }\r\n    let notResolvedNodes = [];\r\n    for (let i = 0; i < l; i++) {\r\n      // link all TreeNode objects\r\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n      node = nodeById[to(rows[i])];\r\n      let parent = 0;\r\n      const fromValue = from(node.row);\r\n      if (Boolean(fromValue) && uniqIDs.indexOf(fromValue) > -1) {\r\n        parent = fromValue;\r\n      }\r\n      node.parent = nodeById[parent];\r\n      // eslint-disable-next-line no-undefined\r\n      if (node.parent.row['level'] === null || node.parent.row['level'] === undefined) {\r\n        notResolvedNodes.push(node);\r\n      } else {\r\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\r\n        node.row['level'] = node.parent.row['level'] + 1;\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n        node.parent.children.push(node);\r\n      }\r\n    }\r\n    const temp = [];\r\n    do {\r\n      temp.length = 0;\r\n      while (notResolvedNodes.length) {\r\n        node = notResolvedNodes.pop();\r\n        // eslint-disable-next-line no-undefined\r\n        if (node.parent.row['level'] === null || node.parent.row['level'] === undefined) {\r\n          temp.push(node);\r\n        } else {\r\n          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\r\n          node.row['level'] = node.parent.row['level'] + 1;\r\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n          node.parent.children.push(node);\r\n        }\r\n      }\r\n      notResolvedNodes = [...temp];\r\n    } while (notResolvedNodes.length);\r\n\r\n    let resolvedRows: any[] = [];\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n    nodeById[0].flatten(\r\n      function () {\r\n        resolvedRows = [...resolvedRows, this.row];\r\n      },\r\n      true,\r\n      lazyTree\r\n    );\r\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\r\n    return resolvedRows;\r\n  }\r\n  return rows;\r\n}\r\n\r\nclass TreeNode {\r\n  public row: any;\r\n  public parent: any;\r\n  public children: any[];\r\n\r\n  constructor(row: any | null = null) {\r\n    if (!row) {\r\n      row = {\r\n        level: -1,\r\n        treeStatus: 'expanded',\r\n      };\r\n    }\r\n    this.row = row;\r\n    this.parent = null;\r\n    this.children = [];\r\n  }\r\n\r\n  flatten(f: any, recursive: boolean, lazyTree: boolean = false) {\r\n    if (this.row['treeStatus'] === 'expanded') {\r\n      for (let i = 0, l = this.children.length; i < l; i++) {\r\n        const child = this.children[i];\r\n        if (!lazyTree && (!child.children || !child.children.length)) {\r\n          child.row['treeStatus'] = 'disabled';\r\n        } else if (child.children && child.children.length && child.row['treeStatus'] === 'disabled') {\r\n          child.row['treeStatus'] = 'collapsed';\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n        f.apply(child, Array.prototype.slice.call(arguments, 2));\r\n        if (recursive) {\r\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-call\r\n          child.flatten.apply(child, arguments, lazyTree);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE_vue_property_decorator__;"],"sourceRoot":""}